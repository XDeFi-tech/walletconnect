(this["webpackJsonpwallets-connector-example"]=this["webpackJsonpwallets-connector-example"]||[]).push([[8],{1359:function(t,e,r){"use strict";var n=r(1463),i=r(1464);t.exports={errors:n,formatters:i}},1364:function(t,e,r){var n=r(406),i=r(1424),o=r(1466),a=r(136),s=r(1380),u=function t(e,r){var n=[];return r.forEach((function(r){if("object"===typeof r.components){if("tuple"!==r.type.substring(0,5))throw new Error("components found but type is not tuple; report on GitHub");var i="",o=r.type.indexOf("[");o>=0&&(i=r.type.substring(o));var a=t(e,r.components);Array.isArray(a)&&e?n.push("tuple("+a.join(",")+")"+i):e?n.push("("+a+")"):n.push("("+a.join(",")+")"+i)}else n.push(r.type)})),n},c=function(t){if(!i.isHexStrict(t))throw new Error("The parameter must be a valid HEX string.");var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var o=parseInt(t.slice(r,r+2),16);e+=String.fromCharCode(o)}return e},l=function(t){if(!t)return"0x00";for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},h=function(t){if(t=t?t.toLowerCase():"ether",!n.unitMap[t])throw new Error('This unit "'+t+"\" doesn't exist, please use the one of the following units"+JSON.stringify(n.unitMap,null,2));return t};t.exports={_fireError:function(t,e,r,n,i){return!t||"object"!==typeof t||t instanceof Error||!t.data||((t.data&&"object"===typeof t.data||Array.isArray(t.data))&&(t.data=JSON.stringify(t.data,null,2)),t=t.message+"\n"+t.data),"string"===typeof t&&(t=new Error(t)),"function"===typeof n&&n(t,i),"function"===typeof r&&((e&&"function"===typeof e.listeners&&e.listeners("error").length||"function"===typeof n)&&e.catch((function(){})),setTimeout((function(){r(t)}),1)),e&&"function"===typeof e.emit&&setTimeout((function(){e.emit("error",t,i),e.removeAllListeners()}),1),e},_jsonInterfaceMethodToString:function(t){return t&&"object"===typeof t&&t.name&&-1!==t.name.indexOf("(")?t.name:t.name+"("+u(!1,t.inputs).join(",")+")"},_flattenTypes:u,randomHex:function(t){return"0x"+a(t).toString("hex")},BN:i.BN,isBN:i.isBN,isBigNumber:i.isBigNumber,isHex:i.isHex,isHexStrict:i.isHexStrict,sha3:i.sha3,sha3Raw:i.sha3Raw,keccak256:i.sha3,soliditySha3:o.soliditySha3,soliditySha3Raw:o.soliditySha3Raw,encodePacked:o.encodePacked,isAddress:i.isAddress,checkAddressChecksum:i.checkAddressChecksum,toChecksumAddress:function(t){if("undefined"===typeof t)return"";if(!/^(0x)?[0-9a-f]{40}$/i.test(t))throw new Error('Given address "'+t+'" is not a valid Ethereum address.');t=t.toLowerCase().replace(/^0x/i,"");for(var e=i.sha3(t).replace(/^0x/i,""),r="0x",n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return r},toHex:i.toHex,toBN:i.toBN,bytesToHex:i.bytesToHex,hexToBytes:i.hexToBytes,hexToNumberString:i.hexToNumberString,hexToNumber:i.hexToNumber,toDecimal:i.hexToNumber,numberToHex:i.numberToHex,fromDecimal:i.numberToHex,hexToUtf8:i.hexToUtf8,hexToString:i.hexToUtf8,toUtf8:i.hexToUtf8,stripHexPrefix:i.stripHexPrefix,utf8ToHex:i.utf8ToHex,stringToHex:i.utf8ToHex,fromUtf8:i.utf8ToHex,hexToAscii:c,toAscii:c,asciiToHex:l,fromAscii:l,unitMap:n.unitMap,toWei:function(t,e){if(e=h(e),!i.isBN(t)&&"string"!==typeof t)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return i.isBN(t)?n.toWei(t,e):n.toWei(t,e).toString(10)},fromWei:function(t,e){if(e=h(e),!i.isBN(t)&&"string"!==typeof t)throw new Error("Please pass numbers as strings or BN objects to avoid precision errors.");return i.isBN(t)?n.fromWei(t,e):n.fromWei(t,e).toString(10)},padLeft:i.leftPad,leftPad:i.leftPad,padRight:i.rightPad,rightPad:i.rightPad,toTwosComplement:i.toTwosComplement,isBloom:i.isBloom,isUserEthereumAddressInBloom:i.isUserEthereumAddressInBloom,isContractAddressInBloom:i.isContractAddressInBloom,isTopic:i.isTopic,isTopicInBloom:i.isTopicInBloom,isInBloom:i.isInBloom,compareBlockNumbers:function(t,e){if(t==e)return 0;if("genesis"!=t&&"earliest"!=t&&0!=t||"genesis"!=e&&"earliest"!=e&&0!=e){if("genesis"==t||"earliest"==t)return-1;if("genesis"==e||"earliest"==e)return 1;if("latest"==t)return"pending"==e?-1:1;if("latest"===e)return"pending"==t?1:-1;if("pending"==t)return 1;if("pending"==e)return-1;var r=new s(t),n=new s(e);return r.lt(n)?-1:r.eq(n)?0:1}return 0},toNumber:i.toNumber}},1380:function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(1465).Buffer}catch(A){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var c=t.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<i,"Invalid character"),o+=a}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,l=r;l<s;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(t,l,t.length,e),l=0;l<a;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(A){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=p[t],l=f[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p<=d;p++){var f=c-p|0;l+=(a=(i=0|t.words[f])*(o=0|e.words[p])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var v=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,l=0|a[0],h=8191&l,d=l>>>13,p=0|a[1],f=8191&p,m=p>>>13,v=0|a[2],g=8191&v,b=v>>>13,y=0|a[3],w=8191&y,k=y>>>13,O=0|a[4],_=8191&O,x=O>>>13,j=0|a[5],E=8191&j,M=j>>>13,A=0|a[6],S=8191&A,P=A>>>13,C=0|a[7],T=8191&C,N=C>>>13,I=0|a[8],R=8191&I,D=I>>>13,B=0|a[9],L=8191&B,F=B>>>13,U=0|s[0],q=8191&U,H=U>>>13,V=0|s[1],K=8191&V,W=V>>>13,G=0|s[2],z=8191&G,X=G>>>13,Y=0|s[3],J=8191&Y,Z=Y>>>13,Q=0|s[4],$=8191&Q,tt=Q>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,lt=0|s[8],ht=8191&lt,dt=lt>>>13,pt=0|s[9],ft=8191&pt,mt=pt>>>13;r.negative=t.negative^e.negative,r.length=19;var vt=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(d,q)|0))<<13)|0;c=((o=Math.imul(d,H))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(f,q),i=(i=Math.imul(f,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var gt=(c+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,q),i=(i=Math.imul(g,H))+Math.imul(b,q)|0,o=Math.imul(b,H),n=n+Math.imul(f,K)|0,i=(i=i+Math.imul(f,W)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,W)|0;var bt=(c+(n=n+Math.imul(h,z)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(d,z)|0))<<13)|0;c=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,H))+Math.imul(k,q)|0,o=Math.imul(k,H),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,W)|0,n=n+Math.imul(f,z)|0,i=(i=i+Math.imul(f,X)|0)+Math.imul(m,z)|0,o=o+Math.imul(m,X)|0;var yt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,J)|0))<<13)|0;c=((o=o+Math.imul(d,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,q),i=(i=Math.imul(_,H))+Math.imul(x,q)|0,o=Math.imul(x,H),n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(g,z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(b,z)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(f,J)|0,i=(i=i+Math.imul(f,Z)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,Z)|0;var wt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,$)|0))<<13)|0;c=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(E,q),i=(i=Math.imul(E,H))+Math.imul(M,q)|0,o=Math.imul(M,H),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(x,K)|0,o=o+Math.imul(x,W)|0,n=n+Math.imul(w,z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(k,z)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Z)|0,n=n+Math.imul(f,$)|0,i=(i=i+Math.imul(f,tt)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,tt)|0;var kt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((o=o+Math.imul(d,nt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,H))+Math.imul(P,q)|0,o=Math.imul(P,H),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,K)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,z)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(x,z)|0,o=o+Math.imul(x,X)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,tt)|0,n=n+Math.imul(f,rt)|0,i=(i=i+Math.imul(f,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Ot=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(d,ot)|0))<<13)|0;c=((o=o+Math.imul(d,at)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(T,q),i=(i=Math.imul(T,H))+Math.imul(N,q)|0,o=Math.imul(N,H),n=n+Math.imul(S,K)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(E,z)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(M,z)|0,o=o+Math.imul(M,X)|0,n=n+Math.imul(_,J)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(b,rt)|0,o=o+Math.imul(b,nt)|0,n=n+Math.imul(f,ot)|0,i=(i=i+Math.imul(f,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var _t=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((o=o+Math.imul(d,ct)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(R,q),i=(i=Math.imul(R,H))+Math.imul(D,q)|0,o=Math.imul(D,H),n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(N,K)|0,o=o+Math.imul(N,W)|0,n=n+Math.imul(S,z)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(P,z)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(b,ot)|0,o=o+Math.imul(b,at)|0,n=n+Math.imul(f,ut)|0,i=(i=i+Math.imul(f,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var xt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,H))+Math.imul(F,q)|0,o=Math.imul(F,H),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(D,K)|0,o=o+Math.imul(D,W)|0,n=n+Math.imul(T,z)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(N,z)|0,o=o+Math.imul(N,X)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(b,ut)|0,o=o+Math.imul(b,ct)|0,n=n+Math.imul(f,ht)|0,i=(i=i+Math.imul(f,dt)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,dt)|0;var jt=(c+(n=n+Math.imul(h,ft)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,ft)|0))<<13)|0;c=((o=o+Math.imul(d,mt)|0)+(i>>>13)|0)+(jt>>>26)|0,jt&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,W))+Math.imul(F,K)|0,o=Math.imul(F,W),n=n+Math.imul(R,z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(D,z)|0,o=o+Math.imul(D,X)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(N,J)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,at)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,dt)|0)+Math.imul(b,ht)|0,o=o+Math.imul(b,dt)|0;var Et=(c+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(m,ft)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,X))+Math.imul(F,z)|0,o=Math.imul(F,X),n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(D,J)|0,o=o+Math.imul(D,Z)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(x,ut)|0,o=o+Math.imul(x,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(k,ht)|0,o=o+Math.imul(k,dt)|0;var Mt=(c+(n=n+Math.imul(g,ft)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(b,ft)|0))<<13)|0;c=((o=o+Math.imul(b,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,J),i=(i=Math.imul(L,Z))+Math.imul(F,J)|0,o=Math.imul(F,Z),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,dt)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,dt)|0;var At=(c+(n=n+Math.imul(w,ft)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(k,ft)|0))<<13)|0;c=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,tt))+Math.imul(F,$)|0,o=Math.imul(F,tt),n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(D,rt)|0,o=o+Math.imul(D,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ct)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,dt)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,dt)|0;var St=(c+(n=n+Math.imul(_,ft)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(x,ft)|0))<<13)|0;c=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(F,rt)|0,o=Math.imul(F,nt),n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,dt)|0;var Pt=(c+(n=n+Math.imul(E,ft)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(M,ft)|0))<<13)|0;c=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,ot),i=(i=Math.imul(L,at))+Math.imul(F,ot)|0,o=Math.imul(F,at),n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(D,ut)|0,o=o+Math.imul(D,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,dt)|0;var Ct=(c+(n=n+Math.imul(S,ft)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(P,ft)|0))<<13)|0;c=((o=o+Math.imul(P,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,ut),i=(i=Math.imul(L,ct))+Math.imul(F,ut)|0,o=Math.imul(F,ct),n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(D,ht)|0,o=o+Math.imul(D,dt)|0;var Tt=(c+(n=n+Math.imul(T,ft)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(N,ft)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,dt))+Math.imul(F,ht)|0,o=Math.imul(F,dt);var Nt=(c+(n=n+Math.imul(R,ft)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(D,ft)|0))<<13)|0;c=((o=o+Math.imul(D,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var It=(c+(n=Math.imul(L,ft))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(F,ft)|0))<<13)|0;return c=((o=Math.imul(F,mt))+(i>>>13)|0)+(It>>>26)|0,It&=67108863,u[0]=vt,u[1]=gt,u[2]=bt,u[3]=yt,u[4]=wt,u[5]=kt,u[6]=Ot,u[7]=_t,u[8]=xt,u[9]=jt,u[10]=Et,u[11]=Mt,u[12]=At,u[13]=St,u[14]=Pt,u[15]=Ct,u[16]=Tt,u[17]=Nt,u[18]=It,0!==c&&(u[19]=c,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;s=67108863&(d=d+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(t,e,r){return g(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(v=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?v(this,t,e):r<63?m(this,t,e):r<1024?g(this,t,e):b(this,t,e)},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},y.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var h=u,d=c,p=0;p<a;p++){var f=r[l+p],m=n[l+p],v=r[l+p+a],g=n[l+p+a],b=h*v-d*g;g=h*g+d*v,v=b,r[l+p]=f+v,n[l+p]=m+g,r[l+p+a]=f-v,n[l+p+a]=m-g,p!==s&&(b=u*h-c*d,d=u*d+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,h,n,i);for(var p=0;p<n;p++){var f=s[p]*l[p]-u[p]*h[p];u[p]=s[p]*h[p]+u[p]*l[p],s[p]=f}return this.conjugate(s,u,n),this.transform(s,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),b(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/a|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=d)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,p=1;0===(e.words[0]&p)&&d<26;++d,p<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var f=0,m=1;0===(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0===(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var w={k256:null,p224:null,p192:null,p25519:null};function k(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function j(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}k.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},k.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},k.prototype.split=function(t,e){t.iushrn(this.n,0,e)},k.prototype.imulK=function(t){return t.imul(this.k)},i(O,k),O.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},O.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,k),i(x,k),i(j,k),j.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(w[t])return w[t];var e;if("k256"===t)e=new O;else if("p224"===t)e=new _;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new j}return w[t]=e,e},E.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),f=a;0!==p.cmp(s);){for(var m=p,v=0;0!==m.cmp(s);v++)m=m.redSqr();n(v<f);var g=this.pow(h,new o(1).iushln(f-v-1));d=d.redMul(g),h=g.redSqr(),p=p.redMul(h),f=v}return d},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===l)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},i(M,E),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(51)(t))},1424:function(t,e,r){(function(e){var n=r(110).default,i=r(1380),o=r(294),a=r(407),s=r(408),u=r(409),c=function(t){return i.isBN(t)},l=function(t){return t&&t.constructor&&"BigNumber"===t.constructor.name},h=function(t){try{return o.apply(null,arguments)}catch(e){throw new Error(e+' Given value: "'+t+'"')}},d=function(t){return!!/^(0x)?[0-9a-f]{40}$/i.test(t)&&(!(!/^(0x|0X)?[0-9a-f]{40}$/.test(t)&&!/^(0x|0X)?[0-9A-F]{40}$/.test(t))||p(t))},p=function(t){t=t.replace(/^0x/i,"");for(var e=k(t.toLowerCase()).replace(/^0x/i,""),r=0;r<40;r++)if(parseInt(e[r],16)>7&&t[r].toUpperCase()!==t[r]||parseInt(e[r],16)<=7&&t[r].toLowerCase()!==t[r])return!1;return!0},f=function(t){var e="";t=(t=(t=(t=(t=a.encode(t)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=n.length<2?"0"+n:n}return"0x"+e},m=function(t){if(!t)return t;if("string"===typeof t&&!b(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return h(t).toNumber()},v=function(t){if(null===t||void 0===t)return t;if(!isFinite(t)&&!b(t))throw new Error('Given input "'+t+'" is not a number.');var e=h(t),r=e.toString(16);return e.lt(new i(0))?"-0x"+r.slice(1):"0x"+r},g=function(t,r){if(d(t))return r?"address":"0x"+t.toLowerCase().replace(/^0x/i,"");if("boolean"===typeof t)return r?"bool":t?"0x01":"0x00";if(e.isBuffer(t))return"0x"+t.toString("hex");if("object"===typeof t&&t&&!l(t)&&!c(t))return r?"string":f(JSON.stringify(t));if("string"===typeof t){if(0===t.indexOf("-0x")||0===t.indexOf("-0X"))return r?"int256":v(t);if(0===t.indexOf("0x")||0===t.indexOf("0X"))return r?"bytes":t;if(!isFinite(t))return r?"string":f(t)}return r?t<0?"int256":"uint256":v(t)},b=function(t){return("string"===typeof t||"number"===typeof t)&&/^(-)?0x[0-9a-f]*$/i.test(t)},y=function(t){return("string"===typeof t||"number"===typeof t)&&/^(-0x|0x)?[0-9a-f]*$/i.test(t)},w="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",k=function(t){c(t)&&(t=t.toString()),b(t)&&/^0x/i.test(t.toString())?t=s.toBuffer(t):"string"===typeof t&&(t=e.from(t,"utf-8"));var r=s.bufferToHex(s.keccak256(t));return r===w?null:r};k._Hash=s.keccak256;var O=function(t){if("string"==typeof t&&t.includes("0x")){var e=t.toLocaleLowerCase().startsWith("-")?["-",t.slice(3)]:["",t.slice(2)],r=n(e,2),o=r[0],a=r[1];return new i(o+a,16)}return new i(t)};Object.setPrototypeOf(O,i),Object.setPrototypeOf(O.prototype,i.prototype),t.exports={BN:O,isBN:c,isBigNumber:l,toBN:h,isAddress:d,isBloom:function(t){return u.isBloom(t)},isUserEthereumAddressInBloom:function(t,e){return u.isUserEthereumAddressInBloom(t,e)},isContractAddressInBloom:function(t,e){return u.isContractAddressInBloom(t,e)},isTopic:function(t){return u.isTopic(t)},isTopicInBloom:function(t,e){return u.isTopicInBloom(t,e)},isInBloom:function(t,e){return u.isInBloom(t,e)},checkAddressChecksum:p,utf8ToHex:f,hexToUtf8:function(t){if(!b(t))throw new Error('The parameter "'+t+'" must be a valid HEX string.');for(var e="",r=0,n=(t=(t=(t=(t=(t=t.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,i=0;i<n;i+=2)r=parseInt(t.slice(i,i+2),16),e+=String.fromCharCode(r);return a.decode(e)},hexToNumber:m,hexToNumberString:function(t){if(!t)return t;if("string"===typeof t&&!b(t))throw new Error('Given value "'+t+'" is not a valid hex string.');return h(t).toString(10)},numberToHex:v,toHex:g,hexToBytes:function(t){if(t=t.toString(16),!b(t))throw new Error('Given value "'+t+'" is not a valid hex string.');t=t.replace(/^0x/i,"");for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.slice(r,r+2),16));return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return"0x"+e.join("")},isHex:y,isHexStrict:b,stripHexPrefix:function(t){return 0!==t&&y(t)?t.replace(/^(-)?0x/i,"$1"):t},leftPad:function(t,e,r){var n=/^0x/i.test(t)||"number"===typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+new Array(i).join(r||"0")+t},rightPad:function(t,e,r){var n=/^0x/i.test(t)||"number"===typeof t,i=e-(t=t.toString(16).replace(/^0x/i,"")).length+1>=0?e-t.length+1:0;return(n?"0x":"")+t+new Array(i).join(r||"0")},toTwosComplement:function(t){return"0x"+h(t).toTwos(256).toString(16,64)},sha3:k,sha3Raw:function(t){return null===(t=k(t))?w:t},toNumber:function(t){return"number"===typeof t?t:m(g(t))}}}).call(this,r(10).Buffer)},1425:function(t,e,r){"use strict";var n={messageId:0,toPayload:function(t,e){if(!t)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(e)+'"!');return n.messageId++,{jsonrpc:"2.0",id:n.messageId,method:t,params:e||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!!t&&!t.error&&"2.0"===t.jsonrpc&&("number"===typeof t.id||"string"===typeof t.id)&&void 0!==t.result}},toBatchPayload:function(t){return t.map((function(t){return n.toPayload(t.method,t.params)}))}};t.exports=n},1426:function(t,e,r){"use strict";var n=r(110).default,i=r(241).default,o=r(53).default,a=r(55).default,s=r(1359).errors,u=r(1359).formatters,c=r(1364),l=r(1427),h=r(1428).subscriptions,d=r(674),p=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.abiCoder=t.abiCoder,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||"latest",this.defaultAccount=t.defaultAccount||null,this.transactionBlockTimeout=t.transactionBlockTimeout||50,this.transactionConfirmationBlocks=t.transactionConfirmationBlocks||24,this.transactionPollingTimeout=t.transactionPollingTimeout||750,this.transactionPollingInterval=t.transactionPollingInterval||1e3,this.blockHeaderTimeout=t.blockHeaderTimeout||10,this.defaultCommon=t.defaultCommon,this.defaultChain=t.defaultChain,this.defaultHardfork=t.defaultHardfork,this.handleRevert=t.handleRevert};p.prototype.setRequestManager=function(t,e){this.requestManager=t,e&&(this.accounts=e)},p.prototype.createFunction=function(t,e){var r=this.buildCall();return Object.defineProperty(r,"call",{configurable:!0,writable:!0,value:this.call}),this.setRequestManager(t||this.requestManager,e||this.accounts),r},p.prototype.attachToObject=function(t){var e=this.buildCall();Object.defineProperty(e,"call",{configurable:!0,writable:!0,value:this.call});var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},p.prototype.getCall=function(t){return"function"===typeof this.call?this.call(t):this.call},p.prototype.extractCallback=function(t){if("function"===typeof t[t.length-1])return t.pop()},p.prototype.validateArgs=function(t){if(t.length!==this.params)throw s.InvalidNumberOfParams(t.length,this.params,this.name)},p.prototype.formatInput=function(t){var e=this;return this.inputFormatter?this.inputFormatter.map((function(r,n){return r?r.call(e,t[n]):t[n]})):t},p.prototype.formatOutput=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.outputFormatter&&t?e.outputFormatter(t):t})):this.outputFormatter&&t?this.outputFormatter(t):t},p.prototype.toPayload=function(t){var e=this.getCall(t),r=this.extractCallback(t),n=this.formatInput(t);this.validateArgs(n);var i={method:e,params:n,callback:r};return this.transformPayload&&(i=this.transformPayload(i)),i},p.prototype._confirmTransaction=function(t,e,r){var n=this,i=!1,f=!0,m=0,v=0,g=null,b=null,y=null,w=r.params[0]&&"object"===typeof r.params[0]&&r.params[0].gas?r.params[0].gas:null,k=!!r.params[0]&&"object"===typeof r.params[0]&&r.params[0].data&&r.params[0].from&&!r.params[0].to,O=k&&r.params[0].data.length>2,_=[new p({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[u.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:u.outputBlockFormatter}),new p({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:u.outputTransactionReceiptFormatter}),new p({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[u.inputAddressFormatter,u.inputDefaultBlockNumberFormatter]}),new p({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:u.outputTransactionFormatter}),new h({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:u.outputBlockFormatter}}})],x={};_.forEach((function(t){t.attachToObject(x),t.requestManager=n.requestManager}));var j=function(h,p,_,j,E){if(!_)return E||(E={unsubscribe:function(){clearInterval(g),clearTimeout(b)}}),(h?l.resolve(h):x.getTransactionReceipt(e)).catch((function(e){E.unsubscribe(),i=!0,c._fireError({message:"Failed to check for transaction receipt:",data:e},t.eventEmitter,t.reject)})).then(function(){var e=a(o().mark((function e(r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.blockHash){e.next=2;break}throw new Error("Receipt missing or blockHash null");case 2:if(n.extraFormatters&&n.extraFormatters.receiptFormatter&&(r=n.extraFormatters.receiptFormatter(r)),!(t.eventEmitter.listeners("confirmation").length>0)){e.next=28;break}if(void 0!==h&&0===v){e.next=25;break}return e.next=7,x.getBlockByNumber("latest");case 7:if(a=e.sent,s=a?a.hash:null,!p){e.next=24;break}if(!y){e.next=17;break}return e.next=13,x.getBlockByNumber(y.number+1);case 13:(i=e.sent)&&(y=i,t.eventEmitter.emit("confirmation",v,r,s)),e.next=22;break;case 17:return e.next=19,x.getBlockByNumber(r.blockNumber);case 19:i=e.sent,y=i,t.eventEmitter.emit("confirmation",v,r,s);case 22:e.next=25;break;case 24:t.eventEmitter.emit("confirmation",v,r,s);case 25:(p&&i||!p)&&v++,f=!1,v===n.transactionConfirmationBlocks+1&&(E.unsubscribe(),t.eventEmitter.removeAllListeners());case 28:return e.abrupt("return",r);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=a(o().mark((function e(r){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k||i){e.next=19;break}if(r.contractAddress){e.next=5;break}return f&&(E.unsubscribe(),i=!0),c._fireError(s.NoContractAddressFoundError(r),t.eventEmitter,t.reject,null,r),e.abrupt("return");case 5:return e.prev=5,e.next=8,x.getCode(r.contractAddress);case 8:a=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(5);case 13:if(a){e.next=15;break}return e.abrupt("return");case 15:!0===r.status&&O||a.length>2?(t.eventEmitter.emit("receipt",r),n.extraFormatters&&n.extraFormatters.contractDeployFormatter?t.resolve(n.extraFormatters.contractDeployFormatter(r)):t.resolve(r),f&&t.eventEmitter.removeAllListeners()):c._fireError(s.ContractCodeNotStoredError(r),t.eventEmitter,t.reject,null,r),f&&E.unsubscribe(),i=!0;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=a(o().mark((function e(a){var l,h,p,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k||i){e.next=35;break}if(a.outOfGas||w&&w===a.gasUsed||!0!==a.status&&"0x1"!==a.status&&"undefined"!==typeof a.status){e.next=7;break}t.eventEmitter.emit("receipt",a),t.resolve(a),f&&t.eventEmitter.removeAllListeners(),e.next=33;break;case 7:if(JSON.stringify(a,null,2),!1!==a.status&&"0x0"!==a.status){e.next=32;break}if(e.prev=9,l=null,!n.handleRevert||"eth_sendTransaction"!==n.call&&"eth_sendRawTransaction"!==n.call){e.next=24;break}return h=r.params[0],"eth_sendRawTransaction"===n.call&&(p=r.params[0],m=d.parse(p),h=u.inputTransactionFormatter({data:m.data,to:m.to,from:m.from,gas:m.gasLimit.toHexString(),gasPrice:m.gasPrice?m.gasPrice.toHexString():void 0,value:m.value.toHexString()})),e.next=16,n.getRevertReason(h,a.blockNumber);case 16:if(!(l=e.sent)){e.next=21;break}c._fireError(s.TransactionRevertInstructionError(l.reason,l.signature,a),t.eventEmitter,t.reject,null,a),e.next=22;break;case 21:throw!1;case 22:e.next=25;break;case 24:throw!1;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(9),c._fireError(s.TransactionRevertedWithoutReasonError(a),t.eventEmitter,t.reject,null,a);case 30:e.next=33;break;case 32:c._fireError(s.TransactionOutOfGasError(a),t.eventEmitter,t.reject,null,a);case 33:f&&E.unsubscribe(),i=!0;case 35:case"end":return e.stop()}}),e,null,[[9,27]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(){m++,p?m-1>=n.transactionPollingTimeout&&(E.unsubscribe(),i=!0,c._fireError(s.TransactionError("Transaction was not mined within "+n.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject)):m-1>=n.transactionBlockTimeout&&(E.unsubscribe(),i=!0,c._fireError(s.TransactionError("Transaction was not mined within "+n.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject))}));E.unsubscribe(),i=!0,c._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:_},t.eventEmitter,t.reject)},E=function(t){var e=!1,r=function(){g=setInterval(j.bind(null,t,!0),n.transactionPollingInterval)};if(!this.requestManager.provider.on)return r();x.subscribe("newBlockHeaders",(function(n,i,o){if(e=!0,n||!i)return r();j(t,!1,n,0,o)})),b=setTimeout((function(){e||r()}),1e3*this.blockHeaderTimeout)}.bind(this);x.getTransactionReceipt(e).then((function(e){e&&e.blockHash?(t.eventEmitter.listeners("confirmation").length>0&&E(e),j(e,!1)):i||E()})).catch((function(){i||E()}))};var f=function(t,e){return"number"===typeof t?e.wallet[t]:t&&"object"===typeof t&&t.address&&t.privateKey?t:e.wallet[t.toLowerCase()]};function m(t,e){return new Promise((function(r,i){try{var o=new p({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(t){return t?c.toHex(t):"latest"},function(){return!1}]}).createFunction(t.requestManager),a=new p({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(t.requestManager);Promise.all([o(),a()]).then((function(t){var i=n(t,2),o=i[0],a=i[1];if(("0x2"===e.type||void 0===e.type)&&o&&o.baseFeePerGas){var s,u;e.gasPrice?(s=e.gasPrice,u=e.gasPrice,delete e.gasPrice):(s=e.maxPriorityFeePerGas||"0x9502F900",u=e.maxFeePerGas||c.toHex(c.toBN(o.baseFeePerGas).mul(c.toBN(2)).add(c.toBN(s)))),r({maxFeePerGas:u,maxPriorityFeePerGas:s})}else{if(e.maxPriorityFeePerGas||e.maxFeePerGas)throw Error("Network doesn't support eip-1559");r({gasPrice:a})}}))}catch(s){i(s)}}))}p.prototype.buildCall=function(){var t=this,e="eth_sendTransaction"===t.call||"eth_sendRawTransaction"===t.call,r="eth_call"===t.call,n=function(){var n=l(!e),o=t.toPayload(Array.prototype.slice.call(arguments)),a=function(i,a){var u;if(t.handleRevert&&r&&t.abiCoder&&(!i&&t.isRevertReasonString(a)?u=a.substring(10):i&&i.data&&(u=i.data.substring(10)),u)){var l=t.abiCoder.decodeParameter("string","0x"+u),h="Error(String)";return void c._fireError(s.RevertInstructionError(l,h),n.eventEmitter,n.reject,o.callback,{reason:l,signature:h})}try{a=t.formatOutput(a)}catch(d){i=d}if(a instanceof Error&&(i=a),i)return i.error&&(i=i.error),c._fireError(i,n.eventEmitter,n.reject,o.callback);o.callback&&o.callback(null,a),e?(n.eventEmitter.emit("transactionHash",a),t._confirmTransaction(n,a,o)):i||n.resolve(a)},u=function(e){var r=i(i({},o),{},{method:"eth_sendRawTransaction",params:[e.rawTransaction]});t.requestManager.send(r,a)},h=function(t,e){var r;if(e&&e.accounts&&e.accounts.wallet&&e.accounts.wallet.length)if("eth_sendTransaction"===t.method){var i=t.params[0];if((r=f(i&&"object"===typeof i?i.from:null,e.accounts))&&r.privateKey)return delete(i=JSON.parse(JSON.stringify(i))).from,e.defaultChain&&!i.chain&&(i.chain=e.defaultChain),e.defaultHardfork&&!i.hardfork&&(i.hardfork=e.defaultHardfork),e.defaultCommon&&!i.common&&(i.common=e.defaultCommon),void e.accounts.signTransaction(i,r.privateKey).then(u).catch((function(t){if("function"===typeof n.eventEmitter.listeners&&n.eventEmitter.listeners("error").length){try{n.eventEmitter.emit("error",t)}catch(t){}n.eventEmitter.removeAllListeners(),n.eventEmitter.catch((function(){}))}n.reject(t)}))}else if("eth_sign"===t.method){var o=t.params[1];if((r=f(t.params[0],e.accounts))&&r.privateKey){var s=e.accounts.sign(o,r.privateKey);return t.callback&&t.callback(null,s.signature),void n.resolve(s.signature)}}return e.requestManager.send(t,a)};return e&&o.params[0]&&"object"===typeof o.params[0]&&"undefined"===typeof o.params[0].gasPrice&&("undefined"===typeof o.params[0].maxPriorityFeePerGas||"undefined"===typeof o.params[0].maxFeePerGas)?m(t,o.params[0]).then((function(r){void 0!==r.gasPrice?o.params[0].gasPrice=r.gasPrice:void 0!==r.maxPriorityFeePerGas&&void 0!==r.maxFeePerGas&&(o.params[0].maxPriorityFeePerGas=r.maxPriorityFeePerGas,o.params[0].maxFeePerGas=r.maxFeePerGas),e&&setTimeout((function(){n.eventEmitter.emit("sending",o)}),0),h(o,t)})):(e&&setTimeout((function(){n.eventEmitter.emit("sending",o)}),0),h(o,t)),e&&setTimeout((function(){n.eventEmitter.emit("sent",o)}),0),n.eventEmitter};return n.method=t,n.request=this.request.bind(this),n},p.prototype.getRevertReason=function(t,e){var r=this;return new Promise((function(n,i){new p({name:"call",call:"eth_call",params:2,abiCoder:r.abiCoder,handleRevert:!0}).createFunction(r.requestManager)(t,c.numberToHex(e)).then((function(){n(!1)})).catch((function(t){t.reason?n({reason:t.reason,signature:t.signature}):i(t)}))}))},p.prototype.isRevertReasonString=function(t){return"string"===typeof t&&(t.length-2)/2%32===4&&"0x08c379a0"===t.substring(0,10)},p.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t},t.exports=p},1427:function(t,e,r){"use strict";var n=r(289),i=function(t){var e,r,i=new Promise((function(){e=arguments[0],r=arguments[1]}));if(t)return{resolve:e,reject:r,eventEmitter:i};var o=new n;return i._events=o._events,i.emit=o.emit,i.on=o.on,i.once=o.once,i.off=o.off,i.listeners=o.listeners,i.addListener=o.addListener,i.removeListener=o.removeListener,i.removeAllListeners=o.removeAllListeners,{resolve:e,reject:r,eventEmitter:i}};i.resolve=function(t){var e=i(!0);return e.resolve(t),e.eventEmitter},t.exports=i},1428:function(t,e,r){"use strict";var n=r(1475),i=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};i.prototype.setRequestManager=function(t){this.requestManager=t},i.prototype.attachToObject=function(t){var e=this.buildCall(),r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},i.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||console.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var e=new n({subscription:t.subscriptions[arguments[0]]||{},requestManager:t.requestManager,type:t.type});return e.subscribe.apply(e,arguments)}},t.exports={subscriptions:i,subscription:n}},1455:function(t,e,r){"use strict";r.r(e),r.d(e,"ConstructorFragment",(function(){return E})),r.d(e,"ErrorFragment",(function(){return S})),r.d(e,"EventFragment",(function(){return O})),r.d(e,"Fragment",(function(){return k})),r.d(e,"FunctionFragment",(function(){return M})),r.d(e,"ParamType",(function(){return y})),r.d(e,"FormatTypes",(function(){return g})),r.d(e,"AbiCoder",(function(){return ut})),r.d(e,"defaultAbiCoder",(function(){return ct})),r.d(e,"Interface",(function(){return yt})),r.d(e,"Indexed",(function(){return vt})),r.d(e,"checkResultErrors",(function(){return D})),r.d(e,"LogDescription",(function(){return pt})),r.d(e,"TransactionDescription",(function(){return ft}));var n=r(13),i=r(14),o=r(7),a=r(8),s=r(145),u=r(36),c=r(20),l="abi/5.6.4",h=new c.a(l),d={},p={calldata:!0,memory:!0,storage:!0},f={calldata:!0,memory:!0};function m(t,e){if("bytes"===t||"string"===t){if(p[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&f[e])return!0;return(p[e]||"payable"===e)&&h.throwArgumentError("invalid modifier","name",e),!1}function v(t,e){for(var r in e)Object(u.c)(t,r,e[r])}var g=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),b=new RegExp(/^(.*)\[([0-9]*)\]$/),y=function(){function t(e,r){Object(o.a)(this,t),e!==d&&h.throwError("use fromString",c.a.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),v(this,r);var n=this.type.match(b);v(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:t.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return Object(a.a)(t,[{key:"format",value:function(t){if(t||(t=g.sighash),g[t]||h.throwArgumentError("invalid format type","format",t),t===g.json){var e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((function(e){return JSON.parse(e.format(t))}))),JSON.stringify(e)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(t),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==g.sighash&&(r+=this.type),r+="("+this.components.map((function(e){return e.format(t)})).join(t===g.full?", ":",")+")"):r+=this.type,t!==g.sighash&&(!0===this.indexed&&(r+=" indexed"),t===g.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(e,r){return"string"===typeof e?t.fromString(e,r):t.fromObject(e)}},{key:"fromObject",value:function(e){return t.isParamType(e)?e:new t(d,{name:e.name||null,type:P(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(t.fromObject):null})}},{key:"fromString",value:function(e,r){return n=function(t,e){var r=t;function n(e){h.throwArgumentError("unexpected character at position ".concat(e),"param",t)}function i(t){var r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");for(var o={type:"",name:"",state:{allowType:!0}},a=o,s=0;s<t.length;s++){var u=t[s];switch(u){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||n(s),a.state.allowType=!1,a.type=P(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(e||n(s),a.indexed=!0,a.name=""),m(a.type,a.name)&&(a.name=""),a.type=P(a.type);var c=a;(a=a.parent)||n(s),delete c.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(e||n(s),a.indexed=!0,a.name=""),m(a.type,a.name)&&(a.name=""),a.type=P(a.type);var l=i(a.parent);a.parent.components.push(l),delete a.parent,a=l;break;case" ":a.state.allowType&&""!==a.type&&(a.type=P(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(e||n(s),a.indexed&&n(s),a.indexed=!0,a.name=""):m(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(s),a.type+=u,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(s),a.type+=u,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=u,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=u,delete a.state.allowArray):a.state.readArray?a.type+=u:n(s)}}return a.parent&&h.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===a.name?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):m(a.type,a.name)&&(a.name=""),o.type=P(o.type),o}(e,!!r),t.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}},{key:"isParamType",value:function(t){return!(null==t||!t._isParamType)}}]),t}();function w(t,e){return function(t){t=t.trim();for(var e=[],r="",n=0,i=0;i<t.length;i++){var o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1===--n&&h.throwArgumentError("unbalanced parenthesis","value",t))}r&&e.push(r);return e}(t).map((function(t){return y.fromString(t,e)}))}var k=function(){function t(e,r){Object(o.a)(this,t),e!==d&&h.throwError("use a static from method",c.a.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),v(this,r),this._isFragment=!0,Object.freeze(this)}return Object(a.a)(t,null,[{key:"from",value:function(e){return t.isFragment(e)?e:"string"===typeof e?t.fromString(e):t.fromObject(e)}},{key:"fromObject",value:function(e){if(t.isFragment(e))return e;switch(e.type){case"function":return M.fromObject(e);case"event":return O.fromObject(e);case"constructor":return E.fromObject(e);case"error":return S.fromObject(e);case"fallback":case"receive":return null}return h.throwArgumentError("invalid fragment object","value",e)}},{key:"fromString",value:function(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?O.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?M.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?E.fromString(t.trim()):"error"===t.split(" ")[0]?S.fromString(t.substring(5).trim()):h.throwArgumentError("unsupported fragment","value",t)}},{key:"isFragment",value:function(t){return!(!t||!t._isFragment)}}]),t}(),O=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,[{key:"format",value:function(t){if(t||(t=g.sighash),g[t]||h.throwArgumentError("invalid format type","format",t),t===g.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==g.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===g.full?", ":",")+") ",t!==g.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isEventFragment(t))return t;"event"!==t.type&&h.throwArgumentError("invalid event object","value",t);var e={name:T(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(y.fromObject):[],type:"event"};return new r(d,e)}},{key:"fromString",value:function(t){var e=t.match(N);e||h.throwArgumentError("invalid event string","value",t);var n=!1;return e[3].split(" ").forEach((function(t){switch(t.trim()){case"anonymous":n=!0;break;case"":break;default:h.warn("unknown modifier: "+t)}})),r.fromObject({name:e[1].trim(),anonymous:n,inputs:w(e[2],!0),type:"event"})}},{key:"isEventFragment",value:function(t){return t&&t._isFragment&&"event"===t.type}}]),r}(k);function _(t,e){e.gas=null;var r=t.split("@");return 1!==r.length?(r.length>2&&h.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||h.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=s.a.from(r[1]),r[0]):t}function x(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((function(t){switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function j(t){var e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&h.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&h.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||h.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&h.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&h.throwArgumentError("unable to determine stateMutability","value",t),e}var E=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,[{key:"format",value:function(t){if(t||(t=g.sighash),g[t]||h.throwArgumentError("invalid format type","format",t),t===g.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});t===g.sighash&&h.throwError("cannot format a constructor for sighash",c.a.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var e="constructor("+this.inputs.map((function(e){return e.format(t)})).join(t===g.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isConstructorFragment(t))return t;"constructor"!==t.type&&h.throwArgumentError("invalid constructor object","value",t);var e=j(t);e.constant&&h.throwArgumentError("constructor cannot be constant","value",t);var n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(y.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?s.a.from(t.gas):null};return new r(d,n)}},{key:"fromString",value:function(t){var e={type:"constructor"},n=(t=_(t,e)).match(N);return n&&"constructor"===n[1].trim()||h.throwArgumentError("invalid constructor string","value",t),e.inputs=w(n[2].trim(),!1),x(n[3].trim(),e),r.fromObject(e)}},{key:"isConstructorFragment",value:function(t){return t&&t._isFragment&&"constructor"===t.type}}]),r}(k),M=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,[{key:"format",value:function(t){if(t||(t=g.sighash),g[t]||h.throwArgumentError("invalid format type","format",t),t===g.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))})),outputs:this.outputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==g.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===g.full?", ":",")+") ",t!==g.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((function(e){return e.format(t)})).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isFunctionFragment(t))return t;"function"!==t.type&&h.throwArgumentError("invalid function object","value",t);var e=j(t),n={type:t.type,name:T(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(y.fromObject):[],outputs:t.outputs?t.outputs.map(y.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?s.a.from(t.gas):null};return new r(d,n)}},{key:"fromString",value:function(t){var e={type:"function"},n=(t=_(t,e)).split(" returns ");n.length>2&&h.throwArgumentError("invalid function string","value",t);var i=n[0].match(N);if(i||h.throwArgumentError("invalid function signature","value",t),e.name=i[1].trim(),e.name&&T(e.name),e.inputs=w(i[2],!1),x(i[3].trim(),e),n.length>1){var o=n[1].match(N);""==o[1].trim()&&""==o[3].trim()||h.throwArgumentError("unexpected tokens","value",t),e.outputs=w(o[2],!1)}else e.outputs=[];return r.fromObject(e)}},{key:"isFunctionFragment",value:function(t){return t&&t._isFragment&&"function"===t.type}}]),r}(E);function A(t){var e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||h.throwArgumentError("cannot specify user defined ".concat(e," error"),"fragment",t),t}var S=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,[{key:"format",value:function(t){if(t||(t=g.sighash),g[t]||h.throwArgumentError("invalid format type","format",t),t===g.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==g.sighash&&(e+="error "),(e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===g.full?", ":",")+") ").trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isErrorFragment(t))return t;"error"!==t.type&&h.throwArgumentError("invalid error object","value",t);var e={type:t.type,name:T(t.name),inputs:t.inputs?t.inputs.map(y.fromObject):[]};return A(new r(d,e))}},{key:"fromString",value:function(t){var e={type:"error"},n=t.match(N);return n||h.throwArgumentError("invalid error signature","value",t),e.name=n[1].trim(),e.name&&T(e.name),e.inputs=w(n[2],!1),A(r.fromObject(e))}},{key:"isErrorFragment",value:function(t){return t&&t._isFragment&&"error"===t.type}}]),r}(k);function P(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}var C=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function T(t){return t&&t.match(C)||h.throwArgumentError('invalid identifier "'.concat(t,'"'),"value",t),t}var N=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var I=r(11),R=new c.a(l);function D(t){var e=[];return function t(r,n){if(Array.isArray(n))for(var i in n){var o=r.slice();o.push(i);try{t(o,n[i])}catch(a){e.push({path:o,error:a})}}}([],t),e}var B=function(){function t(e,r,n,i){Object(o.a)(this,t),this.name=e,this.type=r,this.localName=n,this.dynamic=i}return Object(a.a)(t,[{key:"_throwError",value:function(t,e){R.throwArgumentError(t,this.localName,e)}}]),t}(),L=function(){function t(e){Object(o.a)(this,t),Object(u.c)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}return Object(a.a)(t,[{key:"data",get:function(){return Object(I.c)(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(t){return this._data.push(t),this._dataLength+=t.length,t.length}},{key:"appendWriter",value:function(t){return this._writeData(Object(I.b)(t._data))}},{key:"writeBytes",value:function(t){var e=Object(I.a)(t),r=e.length%this.wordSize;return r&&(e=Object(I.b)([e,this._padding.slice(r)])),this._writeData(e)}},{key:"_getValue",value:function(t){var e=Object(I.a)(s.a.from(t));return e.length>this.wordSize&&R.throwError("value out-of-bounds",c.a.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Object(I.b)([this._padding.slice(e.length%this.wordSize),e])),e}},{key:"writeValue",value:function(t){return this._writeData(this._getValue(t))}},{key:"writeUpdatableValue",value:function(){var t=this,e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){t._data[e]=t._getValue(r)}}}]),t}(),F=function(){function t(e,r,n,i){Object(o.a)(this,t),Object(u.c)(this,"_data",Object(I.a)(e)),Object(u.c)(this,"wordSize",r||32),Object(u.c)(this,"_coerceFunc",n),Object(u.c)(this,"allowLoose",i),this._offset=0}return Object(a.a)(t,[{key:"data",get:function(){return Object(I.g)(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(e,r){return this._coerceFunc?this._coerceFunc(e,r):t.coerce(e,r)}},{key:"_peekBytes",value:function(t,e,r){var n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:R.throwError("data out-of-bounds",c.a.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(e){return new t(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(t,e){var r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}},{key:"readValue",value:function(){return s.a.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(t,e){var r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}}]),t}(),U=r(106),q=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t){return Object(o.a)(this,r),e.call(this,"address","address",t,!1)}return Object(a.a)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(t,e){try{e=Object(U.a)(e)}catch(r){this._throwError(r.message,e)}return t.writeValue(e)}},{key:"decode",value:function(t){return Object(U.a)(Object(I.f)(t.readValue().toHexString(),20))}}]),r}(B),H=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t.name,t.type,void 0,t.dynamic)).coder=t,n}return Object(a.a)(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(t,e){return this.coder.encode(t,e)}},{key:"decode",value:function(t){return this.coder.decode(t)}}]),r}(B),V=new c.a(l);function K(t,e,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){var i={};n=e.map((function(t){var e=t.localName;return e||V.throwError("cannot encode object for signature with missing names",c.a.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),i[e]&&V.throwError("cannot encode object for signature with duplicate names",c.a.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),i[e]=!0,r[e]}))}else V.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&V.throwArgumentError("types/value length mismatch","tuple",r);var o=new L(t.wordSize),a=new L(t.wordSize),s=[];e.forEach((function(t,e){var r=n[e];if(t.dynamic){var i=a.length;t.encode(a,r);var u=o.writeUpdatableValue();s.push((function(t){u(t+i)}))}else t.encode(o,r)})),s.forEach((function(t){t(o.length)}));var u=t.appendWriter(o);return u+=t.appendWriter(a)}function W(t,e){var r=[],n=t.subReader(0);e.forEach((function(e){var i=null;if(e.dynamic){var o=t.readValue(),a=n.subReader(o.toNumber());try{i=e.decode(a)}catch(s){if(s.code===c.a.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(s){if(s.code===c.a.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=e.name,i.name=e.localName,i.type=e.type}void 0!=i&&r.push(i)}));var i=e.reduce((function(t,e){var r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach((function(t,e){var n=t.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw o}}):r[n]=o}}));for(var o=function(t){var e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:function(){throw e}})},a=0;a<r.length;a++)o(a);return Object.freeze(r)}var G=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t,n,i){var a;Object(o.a)(this,r);var s=t.type+"["+(n>=0?n:"")+"]",u=-1===n||t.dynamic;return(a=e.call(this,"array",s,i,u)).coder=t,a.length=n,a}return Object(a.a)(r,[{key:"defaultValue",value:function(){for(var t=this.coder.defaultValue(),e=[],r=0;r<this.length;r++)e.push(t);return e}},{key:"encode",value:function(t,e){Array.isArray(e)||this._throwError("expected array value",e);var r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),V.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<e.length;i++)n.push(this.coder);return K(t,n,e)}},{key:"decode",value:function(t){var e=this.length;-1===e&&32*(e=t.readValue().toNumber())>t._data.length&&V.throwError("insufficient data length",c.a.errors.BUFFER_OVERRUN,{length:t._data.length,count:e});for(var r=[],n=0;n<e;n++)r.push(new H(this.coder));return t.coerce(this.name,W(t,r))}}]),r}(B),z=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t){return Object(o.a)(this,r),e.call(this,"bool","bool",t,!1)}return Object(a.a)(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(t,e){return t.writeValue(e?1:0)}},{key:"decode",value:function(t){return t.coerce(this.type,!t.readValue().isZero())}}]),r}(B),X=r(58),Y=r(45),J=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t,n){return Object(o.a)(this,r),e.call(this,t,t,n,!0)}return Object(a.a)(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(t,e){e=Object(I.a)(e);var r=t.writeValue(e.length);return r+=t.writeBytes(e)}},{key:"decode",value:function(t){return t.readBytes(t.readValue().toNumber(),!0)}}]),r}(B),Z=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t){return Object(o.a)(this,r),e.call(this,"bytes",t)}return Object(a.a)(r,[{key:"decode",value:function(t){return t.coerce(this.name,Object(I.g)(Object(X.a)(Object(Y.a)(r.prototype),"decode",this).call(this,t)))}}]),r}(J),Q=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t,n){var i;Object(o.a)(this,r);var a="bytes"+String(t);return(i=e.call(this,a,a,n,!1)).size=t,i}return Object(a.a)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(t,e){var r=Object(I.a)(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}},{key:"decode",value:function(t){return t.coerce(this.name,Object(I.g)(t.readBytes(this.size)))}}]),r}(B),$=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t){return Object(o.a)(this,r),e.call(this,"null","",t,!1)}return Object(a.a)(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}},{key:"decode",value:function(t){return t.readBytes(0),t.coerce(this.name,null)}}]),r}(B),tt=r(1356),et=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t,n,i){var a;Object(o.a)(this,r);var s=(n?"int":"uint")+8*t;return(a=e.call(this,s,s,i,!1)).size=t,a.signed=n,a}return Object(a.a)(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(t,e){var r=s.a.from(e),n=tt.a.mask(8*t.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(tt.c).mul(tt.b)))&&this._throwError("value out-of-bounds",e)}else(r.lt(tt.d)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}},{key:"decode",value:function(t){var e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}]),r}(B),rt=r(1351),nt=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t){return Object(o.a)(this,r),e.call(this,"string",t)}return Object(a.a)(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(t,e){return Object(X.a)(Object(Y.a)(r.prototype),"encode",this).call(this,t,Object(rt.a)(e))}},{key:"decode",value:function(t){return Object(rt.b)(Object(X.a)(Object(Y.a)(r.prototype),"decode",this).call(this,t))}}]),r}(J),it=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(t,n){var i;Object(o.a)(this,r);var a=!1,s=[];t.forEach((function(t){t.dynamic&&(a=!0),s.push(t.type)}));var u="tuple("+s.join(",")+")";return(i=e.call(this,"tuple",u,n,a)).coders=t,i}return Object(a.a)(r,[{key:"defaultValue",value:function(){var t=[];this.coders.forEach((function(e){t.push(e.defaultValue())}));var e=this.coders.reduce((function(t,e){var r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}},{key:"encode",value:function(t,e){return K(t,this.coders,e)}},{key:"decode",value:function(t){return t.coerce(this.name,W(t,this.coders))}}]),r}(B),ot=new c.a(l),at=new RegExp(/^bytes([0-9]*)$/),st=new RegExp(/^(u?int)([0-9]*)$/),ut=function(){function t(e){Object(o.a)(this,t),Object(u.c)(this,"coerceFunc",e||null)}return Object(a.a)(t,[{key:"_getCoder",value:function(t){var e=this;switch(t.baseType){case"address":return new q(t.name);case"bool":return new z(t.name);case"string":return new nt(t.name);case"bytes":return new Z(t.name);case"array":return new G(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new it((t.components||[]).map((function(t){return e._getCoder(t)})),t.name);case"":return new $(t.name)}var r=t.type.match(st);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!==0)&&ot.throwArgumentError("invalid "+r[1]+" bit length","param",t),new et(n/8,"int"===r[1],t.name)}if(r=t.type.match(at)){var i=parseInt(r[1]);return(0===i||i>32)&&ot.throwArgumentError("invalid bytes length","param",t),new Q(i,t.name)}return ot.throwArgumentError("invalid type","type",t.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(t,e){return new F(t,this._getWordSize(),this.coerceFunc,e)}},{key:"_getWriter",value:function(){return new L(this._getWordSize())}},{key:"getDefaultValue",value:function(t){var e=this,r=t.map((function(t){return e._getCoder(y.from(t))}));return new it(r,"_").defaultValue()}},{key:"encode",value:function(t,e){var r=this;t.length!==e.length&&ot.throwError("types/values length mismatch",c.a.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});var n=t.map((function(t){return r._getCoder(y.from(t))})),i=new it(n,"_"),o=this._getWriter();return i.encode(o,e),o.data}},{key:"decode",value:function(t,e,r){var n=this,i=t.map((function(t){return n._getCoder(y.from(t))}));return new it(i,"_").decode(this._getReader(Object(I.a)(e),r))}}]),t}(),ct=new ut,lt=r(1357),ht=r(75),dt=new c.a(l),pt=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r)}(u.a),ft=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r)}(u.a),mt=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r)}(u.a),vt=function(t){Object(n.a)(r,t);var e=Object(i.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r,null,[{key:"isIndexed",value:function(t){return!(!t||!t._isIndexed)}}]),r}(u.a),gt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function bt(t,e){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(t));return r.error=e,r}var yt=function(){function t(e){var r=this;Object(o.a)(this,t);var n=[];n="string"===typeof e?JSON.parse(e):e,Object(u.c)(this,"fragments",n.map((function(t){return k.from(t)})).filter((function(t){return null!=t}))),Object(u.c)(this,"_abiCoder",Object(u.d)(this instanceof t?this.constructor:void 0,"getAbiCoder")()),Object(u.c)(this,"functions",{}),Object(u.c)(this,"errors",{}),Object(u.c)(this,"events",{}),Object(u.c)(this,"structs",{}),this.fragments.forEach((function(t){var e=null;switch(t.type){case"constructor":return r.deploy?void dt.warn("duplicate definition - constructor"):void Object(u.c)(r,"deploy",t);case"function":e=r.functions;break;case"event":e=r.events;break;case"error":e=r.errors;break;default:return}var n=t.format();e[n]?dt.warn("duplicate definition - "+n):e[n]=t})),this.deploy||Object(u.c)(this,"deploy",E.from({payable:!1,type:"constructor"})),Object(u.c)(this,"_isInterface",!0)}return Object(a.a)(t,[{key:"format",value:function(t){t||(t=g.full),t===g.sighash&&dt.throwArgumentError("interface does not support formatting sighash","format",t);var e=this.fragments.map((function(e){return e.format(t)}));return t===g.json?JSON.stringify(e.map((function(t){return JSON.parse(t)}))):e}},{key:"getFunction",value:function(t){if(Object(I.j)(t)){for(var e in this.functions)if(t===this.getSighash(e))return this.functions[e];dt.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){var r=t.trim(),n=Object.keys(this.functions).filter((function(t){return t.split("(")[0]===r}));return 0===n.length?dt.throwArgumentError("no matching function","name",r):n.length>1&&dt.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[M.fromString(t).format()];return i||dt.throwArgumentError("no matching function","signature",t),i}},{key:"getEvent",value:function(t){if(Object(I.j)(t)){var e=t.toLowerCase();for(var r in this.events)if(e===this.getEventTopic(r))return this.events[r];dt.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){var n=t.trim(),i=Object.keys(this.events).filter((function(t){return t.split("(")[0]===n}));return 0===i.length?dt.throwArgumentError("no matching event","name",n):i.length>1&&dt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var o=this.events[O.fromString(t).format()];return o||dt.throwArgumentError("no matching event","signature",t),o}},{key:"getError",value:function(t){if(Object(I.j)(t)){var e=Object(u.d)(this.constructor,"getSighash");for(var r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}dt.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){var n=t.trim(),i=Object.keys(this.errors).filter((function(t){return t.split("(")[0]===n}));return 0===i.length?dt.throwArgumentError("no matching error","name",n):i.length>1&&dt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var o=this.errors[M.fromString(t).format()];return o||dt.throwArgumentError("no matching error","signature",t),o}},{key:"getSighash",value:function(t){if("string"===typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(r){throw e}}return Object(u.d)(this.constructor,"getSighash")(t)}},{key:"getEventTopic",value:function(t){return"string"===typeof t&&(t=this.getEvent(t)),Object(u.d)(this.constructor,"getEventTopic")(t)}},{key:"_decodeParams",value:function(t,e){return this._abiCoder.decode(t,e)}},{key:"_encodeParams",value:function(t,e){return this._abiCoder.encode(t,e)}},{key:"encodeDeploy",value:function(t){return this._encodeParams(this.deploy.inputs,t||[])}},{key:"decodeErrorResult",value:function(t,e){"string"===typeof t&&(t=this.getError(t));var r=Object(I.a)(e);return Object(I.g)(r.slice(0,4))!==this.getSighash(t)&&dt.throwArgumentError("data signature does not match error ".concat(t.name,"."),"data",Object(I.g)(r)),this._decodeParams(t.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(t,e){return"string"===typeof t&&(t=this.getError(t)),Object(I.g)(Object(I.b)([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}},{key:"decodeFunctionData",value:function(t,e){"string"===typeof t&&(t=this.getFunction(t));var r=Object(I.a)(e);return Object(I.g)(r.slice(0,4))!==this.getSighash(t)&&dt.throwArgumentError("data signature does not match function ".concat(t.name,"."),"data",Object(I.g)(r)),this._decodeParams(t.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(t,e){return"string"===typeof t&&(t=this.getFunction(t)),Object(I.g)(Object(I.b)([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}},{key:"decodeFunctionResult",value:function(t,e){"string"===typeof t&&(t=this.getFunction(t));var r=Object(I.a)(e),n=null,i="",o=null,a=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(h){}break;case 4:var u=Object(I.g)(r.slice(0,4)),l=gt[u];if(l)o=this._abiCoder.decode(l.inputs,r.slice(4)),a=l.name,s=l.signature,l.reason&&(n=o[0]),"Error"===a?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(o[0])):"Panic"===a&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(o[0]));else try{var h=this.getError(u);o=this._abiCoder.decode(h.inputs,r.slice(4)),a=h.name,s=h.format()}catch(h){}}return dt.throwError("call revert exception"+i,c.a.errors.CALL_EXCEPTION,{method:t.format(),data:Object(I.g)(e),errorArgs:o,errorName:a,errorSignature:s,reason:n})}},{key:"encodeFunctionResult",value:function(t,e){return"string"===typeof t&&(t=this.getFunction(t)),Object(I.g)(this._abiCoder.encode(t.outputs,e||[]))}},{key:"encodeFilterTopics",value:function(t,e){var r=this;"string"===typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&dt.throwError("too many arguments for "+t.format(),c.a.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});var n=[];t.anonymous||n.push(this.getEventTopic(t));var i=function(t,e){return"string"===t.type?Object(lt.a)(e):"bytes"===t.type?Object(ht.a)(Object(I.g)(e)):("bool"===t.type&&"boolean"===typeof e&&(e=e?"0x01":"0x00"),t.type.match(/^u?int/)&&(e=s.a.from(e).toHexString()),"address"===t.type&&r._abiCoder.encode(["address"],[e]),Object(I.f)(Object(I.g)(e),32))};for(e.forEach((function(e,r){var o=t.inputs[r];o.indexed?null==e?n.push(null):"array"===o.baseType||"tuple"===o.baseType?dt.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?n.push(e.map((function(t){return i(o,t)}))):n.push(i(o,e)):null!=e&&dt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(t,e){var r=this;"string"===typeof t&&(t=this.getEvent(t));var n=[],i=[],o=[];return t.anonymous||n.push(this.getEventTopic(t)),e.length!==t.inputs.length&&dt.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach((function(t,a){var s=e[a];if(t.indexed)if("string"===t.type)n.push(Object(lt.a)(s));else if("bytes"===t.type)n.push(Object(ht.a)(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([t.type],[s]))}else i.push(t),o.push(s)})),{data:this._abiCoder.encode(i,o),topics:n}}},{key:"decodeEventLog",value:function(t,e,r){if("string"===typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){var n=this.getEventTopic(t);Object(I.j)(r[0],32)&&r[0].toLowerCase()===n||dt.throwError("fragment/topic mismatch",c.a.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],o=[],a=[];t.inputs.forEach((function(t,e){t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(i.push(y.fromObject({type:"bytes32",name:t.name})),a.push(!0)):(i.push(t),a.push(!1)):(o.push(t),a.push(!1))}));var s=null!=r?this._abiCoder.decode(i,Object(I.b)(r)):null,u=this._abiCoder.decode(o,e,!0),l=[],h=0,d=0;t.inputs.forEach((function(t,e){if(t.indexed)if(null==s)l[e]=new vt({_isIndexed:!0,hash:null});else if(a[e])l[e]=new vt({_isIndexed:!0,hash:s[d++]});else try{l[e]=s[d++]}catch(n){l[e]=n}else try{l[e]=u[h++]}catch(n){l[e]=n}if(t.name&&null==l[t.name]){var r=l[e];r instanceof Error?Object.defineProperty(l,t.name,{enumerable:!0,get:function(){throw bt("property ".concat(JSON.stringify(t.name)),r)}}):l[t.name]=r}}));for(var p=function(t){var e=l[t];e instanceof Error&&Object.defineProperty(l,t,{enumerable:!0,get:function(){throw bt("index ".concat(t),e)}})},f=0;f<l.length;f++)p(f);return Object.freeze(l)}},{key:"parseTransaction",value:function(t){var e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new ft({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:s.a.from(t.value||"0")}):null}},{key:"parseLog",value:function(t){var e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new pt({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}},{key:"parseError",value:function(t){var e=Object(I.g)(t),r=this.getError(e.substring(0,10).toLowerCase());return r?new mt({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return ct}},{key:"getAddress",value:function(t){return Object(U.a)(t)}},{key:"getSighash",value:function(t){return Object(I.e)(Object(lt.a)(t.format()),0,4)}},{key:"getEventTopic",value:function(t){return Object(lt.a)(t.format())}},{key:"isInterface",value:function(t){return!(!t||!t._isInterface)}}]),t}()},1458:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return ie}));var n,i,o,a,s,u,c,l,h,d=r(111),p=r(7),f=r(8),m=r(9),v=r(58),g=r(45),b=r(13),y=r(14),w=r(1),k=r(4),O=r(27),_=r(503),x=r.n(_),j=r(3),E=r.n(j),M=r(1459),A=r(1477),S=r(67),P=r(1478),C=r(72),T=r.n(C),N=r(391),I=r(84),R=r(410),D=r.n(R),B=r(411),L=r(117),F=r.n(L),U=r(77),q=r.n(U),H=r(79),V=r.n(H),K=r(35),W="google",G="facebook",z="twitch",X="reddit",Y="discord",J={GOOGLE:"google",FACEBOOK:"facebook",TWITCH:"twitch",REDDIT:"reddit",DISCORD:"discord",EMAIL_PASSWORDLESS:"torus-auth0-email-passwordless"},Z=(n={},Object(O.a)(n,J.GOOGLE,"tkey-google"),Object(O.a)(n,J.FACEBOOK,"tkey-facebook"),Object(O.a)(n,J.TWITCH,"tkey-twitch"),Object(O.a)(n,J.REDDIT,"tkey-reddit"),Object(O.a)(n,J.DISCORD,"tkey-discord"),Object(O.a)(n,J.EMAIL_PASSWORDLESS,"tkey-auth0-email-passwordless"),n),Q="moonpay",$="wyre",tt="rampnetwork",et="xanpool",rt="mercuryo",nt="transak",it="mainnet",ot="matic",at="bsc_mainnet",st="avalanche_mainnet",ut="production",ct="bottom-left",lt="top-left",ht="bottom-right",dt="top-right",pt=(i={},Object(O.a)(i,Q,["AUD","BGN","BRL","CAD","CHF","CNY","COP","CZK","DKK","DOP","EGP","EUR","GBP","HKD","HRK","IDR","ILS","JPY","JOD","KES","KRW","KWD","LKR","MAD","MXN","MYR","NGN","NOK","NZD","OMR","PEN","PKR","PLN","RON","RUB","SEK","SGD","THB","TRY","TWD","USD","VND","ZAR"]),Object(O.a)(i,$,["USD","EUR","GBP","AUD","CAD","NZD","ARS","BRL","CHF","CLP","COP","CZK","DKK","HKD","ILS","INR","ISK","JPY","KRW","MXN","MYR","NOK","PHP","PLN","SEK","THB","VND","ZAR"]),Object(O.a)(i,tt,["USD","EUR","GBP"]),Object(O.a)(i,et,["SGD","HKD","THB","PHP","INR","IDR","MYR","AUD","NZD","KRW"]),Object(O.a)(i,rt,["EUR","USD","GBP","TRY","JPY","BRL","NGN","VND","MXN","KRW"]),Object(O.a)(i,nt,["ARS","AUD","BBD","BGN","BMD","BRL","CAD","CHF","CLP","CRC","CZK","DKK","DOP","EUR","FJD","FKP","GBP","GIP","HRK","HUF","IDR","ILS","ISK","JMD","JPY","KES","KRW","MDL","MXN","MYR","NOK","NZD","PEN","PHP","PLN","PYG","RON","SEK","SGD","THB","TRY","TZS","USD","ZAR"]),i),ft=new Set(["ETH","USDT","USDC","TUSD","EOSDT","USD","DAI","GUSD","DKKT","PAX","ILS","RUB","BYN","EUR","GBP","JPY","KRW","PLN","MXN","AUD","BRL","CAD","CHF","KPW","LAK","LBP","LKR","XOF","CNHT","DOGE","UAH","TRY","HKD","XJP","SGD","USC","NZD","NGN","RUR","COP","GHS","EGP","IDR","BHD","CRC","PEN","AED","DOP","PKR","HUF","VND","XAR","LTC","RON","OMR","MYR","DKK","UGX","ZMW","SAR","SEK","GEL","RWF","IRR","TZS","CNY","VEF","BDT","HRK","CLP","THB","XAF","ARS","UYU","SZL","KZT","NOK","KES","PAB","INR","CZK","MAD","TWD","PHP","ZAR","BOB","CDF","DASH","VES","ISK","MWK","BAM","TTD","XRP","JOD","RSD","HNL","BGN","GTQ","BWP","XMR","MMK","QAR","AOA","KWD","MUR","WUSD","WEUR","WAVES","WTRY","LRD","LSL","LYD","AWG","MDL","BTO","EURS","CHFT","MKD","MNT","MOP","MRO","MVR","VOLLAR","CKUSD","KHR","VUV","BITCNY","QC","BBD","NAD","NPR","PGK","PYG","BIF","BMD","BND","XLM","BNB","SCR","BAT","CRO","HT","KCS","LEO","LINK","MKR","NPXS","OMG","REP","ZB","ZIL","ZRX","BCH","BZD","CUP","CVE","DJF","DZD","ERN","ETB","FJD","FKP","BUSD","ANCT","ALL","AMD","ANG","CNYX","IQD","UZS","TND","GGP","XAU","KGS","GIP","JMD","ZEC","USDP","BSV","EMC2","SNT","GTO","POWR","EUSD","EURT","BCY","BTS","ATM","BLOCKPAY","ARDR","AMP","B2X","BITGOLD","BITEUR","ATB","BITUSD","AGRS","DFXT","HIKEN","BIX","KNC","EOS","COB","COSS","BMH","NANO","BDG","BNT","XVG","LKK1Y","LKK","USDK","EURN","NZDT","JSE","GMD","GNF","GYD","YER","XPF","HTG","SLL","SOS","WST","SVC","SYP","NEO","KMF","JUMP","AYA","BLAST","WGR","BCN","BTG","URALS","INN","USDQ","CNH","HUSD","BKRW","NZDX","EURX","CADX","USDEX","JPYX","AUDX","VNDC","EON","GBPX","CHFX","USDJ","IDRT","USDS","USDN","BIDR","IDK","BSD","BTN","KYD","NIO","SBD","SDG","SHP","TOP","XCD","XCHF","CNYT","GYEN","ZUSD","GOLD","TRX","TRYB","PLATC","STRAX","UST","GLM","VAI","BRZ","DDRST","XAUT","MIM"]);function mt(t){return pt[t].filter((function(t){return ft.has(t)}))}var vt=(l={},Object(O.a)(l,Q,{line1:"Credit/ Debit Card/ Apple Pay",line2:"4.5% or 5 USD",line3:"2,000\u20ac/day, 10,000\u20ac/mo",supportPage:"https://help.moonpay.io/en/",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:mt(Q),validCryptoCurrenciesByChain:(o={},Object(O.a)(o,it,[{value:"aave",display:"AAVE"},{value:"bat",display:"BAT"},{value:"dai",display:"DAI"},{value:"eth",display:"ETH"},{value:"mkr",display:"MKR"},{value:"matic",display:"MATIC"},{value:"usdt",display:"USDT"},{value:"usdc",display:"USDC"}]),Object(O.a)(o,ot,[{value:"eth_polygon",display:"ETH"},{value:"matic_polygon",display:"MATIC"},{value:"usdc_polygon",display:"USDC"}]),Object(O.a)(o,at,[{value:"bnb_bsc",display:"BNB"},{value:"busd_bsc",display:"BUSD"}]),Object(O.a)(o,st,[{value:"avax_cchain",display:"AVAX"}]),o),includeFees:!0,api:!0,enforceMax:!1}),Object(O.a)(l,$,{line1:"Apple Pay/ Debit/ Credit Card",line2:"4.9% + 30\xa2 or 5 USD",line3:"$250/day",supportPage:"https://support.sendwyre.com/en/",minOrderValue:5,maxOrderValue:500,validCurrencies:mt($),validCryptoCurrenciesByChain:(a={},Object(O.a)(a,it,[{value:"AAVE",display:"AAVE"},{value:"BAT",display:"BAT"},{value:"BUSD",display:"BUSD"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"MKR",display:"MKR"},{value:"UNI",display:"UNI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}]),Object(O.a)(a,ot,[{value:"MUSDC",display:"USDC"}]),Object(O.a)(a,st,[{value:"AVAXC",display:"AVAXC"}]),a),includeFees:!1,api:!0,enforceMax:!1}),Object(O.a)(l,tt,{line1:"Debit Card/ <br>Apple Pay/ Bank transfer",line2:"0.49% - 2.9%",line3:"5,000\u20ac/purchase, 20,000\u20ac/mo",supportPage:"https://instant.ramp.network/",minOrderValue:50,maxOrderValue:2e4,validCurrencies:mt(tt),validCryptoCurrenciesByChain:(s={},Object(O.a)(s,it,[{value:"ETH",display:"ETH"},{value:"DAI",display:"DAI"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}]),Object(O.a)(s,ot,[{value:"MATIC_DAI",display:"DAI"},{value:"MATIC_MATIC",display:"MATIC"},{value:"MATIC_USDC",display:"USDC"}]),Object(O.a)(s,st,[{value:"AVAX",display:"AVAX"}]),s),includeFees:!0,api:!0,receiveHint:"walletTopUp.receiveHintRamp",enforceMax:!1}),Object(O.a)(l,et,{line1:"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ <br>ViettelPay/ DuitNow",line2:"2.5% buying, 3% selling",line3:"$2,500 / day",supportPage:"mailto:support@xanpool.com",minOrderValue:100,maxOrderValue:2500,validCurrencies:mt(et),validCryptoCurrenciesByChain:Object(O.a)({},it,[{value:"ETH",display:"ETH"},{value:"USDT",display:"USDT"}]),includeFees:!0,api:!0,sell:!0,enforceMax:!1}),Object(O.a)(l,rt,{line1:"Credit/ Debit Card/ Apple Pay",line2:"3.95% or 4 USD",line3:"10,000\u20ac/day, 25,000\u20ac/mo",supportPage:"mailto:support@mercuryo.io",minOrderValue:30,maxOrderValue:5e3,validCurrencies:mt(rt),validCryptoCurrenciesByChain:(u={},Object(O.a)(u,it,[{value:"ETH",display:"ETH"},{value:"BAT",display:"BAT"},{value:"USDT",display:"USDT"},{value:"DAI",display:"DAI"}]),Object(O.a)(u,at,[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"},{value:"1INCH",display:"1INCH"}]),u),includeFees:!0,api:!0,enforceMax:!1}),Object(O.a)(l,nt,{line1:"Credit/ Debit Card/ <br/>Bank Transfer (sepa/gbp)",line2:"0.99% - 5.5% or 5 USD",line3:"500\u20ac/day",supportPage:"https://support.transak.com/hc/en-US",minOrderValue:30,maxOrderValue:500,validCurrencies:mt(nt),validCryptoCurrenciesByChain:(c={},Object(O.a)(c,it,[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"ETH",display:"ETH"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"}]),Object(O.a)(c,ot,[{value:"AAVE",display:"AAVE"},{value:"DAI",display:"DAI"},{value:"MATIC",display:"MATIC"},{value:"USDC",display:"USDC"},{value:"USDT",display:"USDT"},{value:"WETH",display:"WETH"}]),Object(O.a)(c,at,[{value:"BNB",display:"BNB"},{value:"BUSD",display:"BUSD"}]),Object(O.a)(c,st,[{value:"AVAX",display:"AVAX"}]),c),includeFees:!0,enforceMax:!0}),l),gt={supportedVerifierList:Object.values(J),paymentProviders:vt,api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"},bt=function(t){return new Promise((function(e,r){null!=window.document.body?Promise.resolve(t()).then(e).catch(r):window.document.addEventListener("DOMContentLoaded",(function(){Promise.resolve(t()).then(e).catch(r)}))}))},yt=function(t){var e=window.document.createElement("template"),r=t.trim();return e.innerHTML=r,e.content.firstChild},wt=function(t,e,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=function n(){r.apply(void 0,i),t.removeEventListener(e,n)};t.addEventListener(e,a)},kt=function(t,e,r){t.on(e,(function n(i){r(i),t.removeListener(e,n)}))};function Ot(){return _t.apply(this,arguments)}function _t(){return(_t=Object(k.a)(Object(w.a)().mark((function t(){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){"loading"!==document.readyState?t():wt(document,"DOMContentLoaded",t)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var xt=q.a.getLogger("torus-embed"),jt={errors:{disconnected:function(){return"Torus: Lost connection to Torus."},permanentlyDisconnected:function(){return"Torus: Disconnected from iframe. Page reload required."},sendSiteMetadata:function(){return"Torus: Failed to send site metadata. This is an internal error, please report this bug."},unsupportedSync:function(t){return"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(t," without a callback parameter.")},invalidDuplexStream:function(){return"Must provide a Node.js-style duplex stream."},invalidOptions:function(t,e){return"Invalid options. Received: { maxEventListeners: ".concat(t,", shouldSendMetadata: ").concat(e," }")},invalidRequestArgs:function(){return"Expected a single, non-array, object argument."},invalidRequestMethod:function(){return"'args.method' must be a non-empty string."},invalidRequestParams:function(){return"'args.params' must be an object or array if provided."},invalidLoggerObject:function(){return"'args.logger' must be an object if provided."},invalidLoggerMethod:function(t){return"'args.logger' must include required method '".concat(t,"'.")}},info:{connected:function(t){return'Torus: Connected to chain with ID "'.concat(t,'".')}},warnings:{enableDeprecation:'Torus: ""ethereum.enable()" is deprecated and may be removed in the future. Please use "ethereum.send("eth_requestAccounts")" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: "ethereum.send(...)" is deprecated and may be removed in the future. Please use "ethereum.sendAsync(...)" or "ethereum.request(...)" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event "close" is deprecated and may be removed in the future. Please use "disconnect" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event "data" is deprecated and will be removed in the future.Use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event "networkChanged" is deprecated and may be removed in the future. Please use "chainChanged" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event "notification" is deprecated and may be removed in the future. Please use "message" instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property "publicConfigStore" is deprecated and WILL be removed in the future.'}},Et=gt.paymentProviders;function Mt(){return function(t,e,r){"string"===typeof t.method&&t.method||(e.error=I.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),r((function(t){var r=e.error;return r?(xt.error("MetaMask - RPC Error: ".concat(r.message),r),t()):t()}))}}function At(t,e,r){var n='MetaMask: Lost connection to "'.concat(t,'".');null!==e&&void 0!==e&&e.stack&&(n+="\n".concat(e.stack)),xt.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}var St=function(){return Math.random().toString(36).slice(2)},Pt=function(){var t=Object(k.a)(Object(w.a)().mark((function t(e,r){var n,i,o,a,s;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="1.27.2",a=r.version||o,t.prev=2,"binance"!==e&&"production"!==e||r.version){t.next=13;break}if(gt.prodTorusUrl){t.next=10;break}return t.next=7,Object(A.a)("".concat(gt.api,"/latestversion?name=@toruslabs/torus-embed&version=").concat(o),{},{useAPIKey:!0});case 7:s=t.sent,t.next=11;break;case 10:s={data:gt.prodTorusUrl};case 11:a=s.data,gt.prodTorusUrl=s.data;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),xt.error(t.t0,"unable to fetch latest version");case 18:xt.info("version used: ",a),t.t1=e,t.next="binance"===t.t1?22:"testing"===t.t1?25:"lrc"===t.t1?28:"beta"===t.t1?31:"development"===t.t1?34:37;break;case 22:return n="https://binance.tor.us/v".concat(a),i="info",t.abrupt("break",40);case 25:return n="https://testing.tor.us",i="debug",t.abrupt("break",40);case 28:return n="https://lrc.tor.us",i="debug",t.abrupt("break",40);case 31:return n="https://beta.tor.us",i="debug",t.abrupt("break",40);case 34:return n="http://localhost:4050",i="debug",t.abrupt("break",40);case 37:return n="https://app.tor.us/v".concat(a),i="error",t.abrupt("break",40);case 40:return t.abrupt("return",{torusUrl:n,logLevel:i});case 41:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,r){return t.apply(this,arguments)}}(),Ct=function(){var t=window.navigator.language||"en-US",e=t.split("-");return t=Object.prototype.hasOwnProperty.call(gt.translations,e[0])?e[0]:"en"},Tt=["eth_subscription"],Nt=function(){},It="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375",Rt="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315",Dt="directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450";function Bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(r),!0).forEach((function(e){E()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}S.e.defaultMaxListeners=100;var Ft=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(n,i){return n||i.error?e(n||i.error):!r||Array.isArray(i)?t(i):t(i.result)}},Ut=function(t){Object(b.a)(r,t);var e=Object(y.a)(r);function r(t){var n;Object(p.a)(this,r);var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.maxEventListeners,a=void 0===o?100:o,s=i.shouldSendMetadata,u=void 0===s||s,c=i.jsonRpcStreamName,l=void 0===c?"provider":c;if(n=e.call(this),E()(Object(m.a)(n),"chainId",void 0),E()(Object(m.a)(n),"selectedAddress",void 0),E()(Object(m.a)(n),"_rpcEngine",void 0),E()(Object(m.a)(n),"networkVersion",void 0),E()(Object(m.a)(n),"shouldSendMetadata",void 0),E()(Object(m.a)(n),"isTorus",void 0),E()(Object(m.a)(n),"_publicConfigStore",void 0),E()(Object(m.a)(n),"tryPreopenHandle",void 0),E()(Object(m.a)(n),"enable",void 0),E()(Object(m.a)(n),"_state",void 0),E()(Object(m.a)(n),"_jsonRpcConnection",void 0),E()(Object(m.a)(n),"_sentWarnings",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),!Object(B.duplex)(t))throw new Error(jt.errors.invalidDuplexStream());n.isTorus=!0,n.setMaxListeners(a),n._state=Lt({},r._defaultState),n.selectedAddress=null,n.networkVersion=null,n.chainId=null,n.shouldSendMetadata=u,n._handleAccountsChanged=n._handleAccountsChanged.bind(Object(m.a)(n)),n._handleChainChanged=n._handleChainChanged.bind(Object(m.a)(n)),n._handleUnlockStateChanged=n._handleUnlockStateChanged.bind(Object(m.a)(n)),n._handleConnect=n._handleConnect.bind(Object(m.a)(n)),n._handleDisconnect=n._handleDisconnect.bind(Object(m.a)(n)),n._handleStreamDisconnect=n._handleStreamDisconnect.bind(Object(m.a)(n)),n._sendSync=n._sendSync.bind(Object(m.a)(n)),n._rpcRequest=n._rpcRequest.bind(Object(m.a)(n)),n._warnOfDeprecation=n._warnOfDeprecation.bind(Object(m.a)(n)),n._initializeState=n._initializeState.bind(Object(m.a)(n)),n.request=n.request.bind(Object(m.a)(n)),n.send=n.send.bind(Object(m.a)(n)),n.sendAsync=n.sendAsync.bind(Object(m.a)(n));var h=new S.c;F()(t,h,t,n._handleStreamDisconnect.bind(Object(m.a)(n),"MetaMask")),n._publicConfigStore=new N.ObservableStore({storageKey:"Metamask-Config"}),F()(h.createStream("publicConfig"),Object(N.storeAsStream)(n._publicConfigStore),At.bind(Object(m.a)(n),"MetaMask PublicConfigStore")),h.ignoreStream("phishing"),n.on("connect",(function(){n._state.isConnected=!0}));var d=Object(S.i)();F()(d.stream,h.createStream(l),d.stream,n._handleStreamDisconnect.bind(Object(m.a)(n),"MetaMask RpcProvider"));var f=new S.b;return f.push(Object(S.g)()),f.push(Mt()),f.push(d.middleware),n._rpcEngine=f,d.events.on("notification",(function(t){var e=t.method,r=t.params;"wallet_accountsChanged"===e?n._handleAccountsChanged(r):"wallet_unlockStateChanged"===e?n._handleUnlockStateChanged(r):"wallet_chainChanged"===e?n._handleChainChanged(r):Tt.includes(t.method)&&(n.emit("data",t),n.emit("notification",r.result),n.emit("message",{type:e,data:r}))})),n}return Object(f.a)(r,[{key:"publicConfigStore",get:function(){return this._sentWarnings.publicConfigStore||(xt.warn(jt.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}},{key:"isConnected",value:function(){return this._state.isConnected}},{key:"request",value:function(){var t=Object(k.a)(Object(w.a)().mark((function t(e){var r,n,i=this;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&"object"===typeof e&&!Array.isArray(e)){t.next=2;break}throw I.ethErrors.rpc.invalidRequest({message:jt.errors.invalidRequestArgs(),data:e});case 2:if(r=e.method,n=e.params,"string"===typeof r&&0!==r.length){t.next=5;break}throw I.ethErrors.rpc.invalidRequest({message:jt.errors.invalidRequestMethod(),data:e});case 5:if(void 0===n||Array.isArray(n)||"object"===typeof n&&null!==n){t.next=7;break}throw I.ethErrors.rpc.invalidRequest({message:jt.errors.invalidRequestParams(),data:e});case 7:return t.abrupt("return",new Promise((function(t,e){i._rpcRequest({method:r,params:n},Ft(t,e))})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendAsync",value:function(t,e){this._rpcRequest(t,e)}},{key:"addListener",value:function(t,e){return this._warnOfDeprecation(t),Object(v.a)(Object(g.a)(r.prototype),"addListener",this).call(this,t,e)}},{key:"on",value:function(t,e){return this._warnOfDeprecation(t),Object(v.a)(Object(g.a)(r.prototype),"on",this).call(this,t,e)}},{key:"once",value:function(t,e){return this._warnOfDeprecation(t),Object(v.a)(Object(g.a)(r.prototype),"once",this).call(this,t,e)}},{key:"prependListener",value:function(t,e){return this._warnOfDeprecation(t),Object(v.a)(Object(g.a)(r.prototype),"prependListener",this).call(this,t,e)}},{key:"prependOnceListener",value:function(t,e){return this._warnOfDeprecation(t),Object(v.a)(Object(g.a)(r.prototype),"prependOnceListener",this).call(this,t,e)}},{key:"_initializeState",value:function(){var t=Object(k.a)(Object(w.a)().mark((function t(){var e,r,n,i,o;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.request({method:"wallet_getProviderState"});case 3:e=t.sent,r=e.accounts,n=e.chainId,i=e.isUnlocked,o=e.networkVersion,this.emit("connect",{chainId:n}),this._handleChainChanged({chainId:n,networkVersion:o}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),xt.error("MetaMask: Failed to get initial state. Please report this bug.",t.t0);case 17:return t.prev=17,xt.info("initialized state"),this._state.initialized=!0,this.emit("_initialized"),t.finish(17);case 22:case"end":return t.stop()}}),t,this,[[0,14,17,22]])})));return function(){return t.apply(this,arguments)}}()},{key:"_rpcRequest",value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e,o=t;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc="2.0"),"eth_accounts"===o.method||"eth_requestAccounts"===o.method)i=function(t,i){r._handleAccountsChanged(i.result||[],"eth_accounts"===o.method,n),e(t,i)};else if("wallet_getProviderState"===o.method)return void this._rpcEngine.handle(t,i);this.tryPreopenHandle(o,i)}},{key:"send",value:function(t,e){var r=this;return this._sentWarnings.send||(xt.warn(jt.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!==typeof t||e&&!Array.isArray(e)?t&&"object"===typeof t&&"function"===typeof e?this._rpcRequest(t,e):this._sendSync(t):new Promise((function(n,i){try{r._rpcRequest({method:t,params:e},Ft(n,i,!1))}catch(o){i(o)}}))}},{key:"_sendSync",value:function(t){var e;switch(t.method){case"eth_accounts":e=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":e=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(t,Nt),e=!0;break;case"net_version":e=this.networkVersion||null;break;default:throw new Error(jt.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}},{key:"_handleConnect",value:function(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),xt.debug(jt.info.connected(t)))}},{key:"_handleDisconnect",value:function(t,e){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t)&&(this._state.isConnected=!1,t?(r=new I.EthereumRpcError(1013,e||jt.errors.disconnected()),xt.debug(r)):(r=new I.EthereumRpcError(1011,e||jt.errors.permanentlyDisconnected()),xt.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleStreamDisconnect",value:function(t,e){At(t,e,this),this._handleDisconnect(!1,e?e.message:void 0)}},{key:"_handleAccountsChanged",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t;Array.isArray(n)||(xt.error("MetaMask: Received non-array accounts parameter. Please report this bug.",n),n=[]);var i,o=Object(d.a)(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("string"!==typeof a){xt.error("MetaMask: Received non-string account. Please report this bug.",t),n=[];break}}}catch(s){o.e(s)}finally{o.f()}D()(this._state.accounts,n)||(e&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&xt.error('MetaMask: "eth_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}},{key:"_handleChainChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chainId,r=t.networkVersion;e&&r?"loading"===r?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId))):xt.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:e,networkVersion:r})}},{key:"_handleUnlockStateChanged",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accounts,r=t.isUnlocked;"boolean"===typeof r?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(e||[])):xt.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:r})}},{key:"_warnOfDeprecation",value:function(t){!1===this._sentWarnings.events[t]&&(xt.warn(jt.warnings.events[t]),this._sentWarnings.events[t]=!0)}}]),r}(S.e);E()(Ut,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});var qt=function(t,e){var r={};return t.algorithms.forEach((function(t){r[t]=V()(t).update(e,"utf8").digest("base64")})),r},Ht=function(t,e){var r=function(t){return{algorithms:t.algorithms||["sha256"],delimiter:t.delimiter||" ",full:t.full||!1}}(t),n={hashes:qt(r,e),integrity:void 0};return n.integrity=function(t,e){var r="";return r+Object.keys(e.hashes).map((function(t){return"".concat(t,"-").concat(e.hashes[t])})).join(t.delimiter)}(r,n),r.full?n:n.integrity},Vt=function(t){Object(b.a)(r,t);var e=Object(y.a)(r);function r(t){var n;Object(p.a)(this,r);var i=t.url,o=t.target,a=t.features;return n=e.call(this),E()(Object(m.a)(n),"url",void 0),E()(Object(m.a)(n),"target",void 0),E()(Object(m.a)(n),"features",void 0),E()(Object(m.a)(n),"window",void 0),E()(Object(m.a)(n),"windowTimer",void 0),E()(Object(m.a)(n),"iClosedWindow",void 0),n.url=i,n.target=o||"_blank",n.features=a||function(){var t=void 0!==window.screenLeft?window.screenLeft:window.screenX,e=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,i=Math.abs((r-1200)/2/1+t),o=Math.abs((n-700)/2/1+e);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(o,",left=").concat(i)}(),n.window=void 0,n.windowTimer=void 0,n.iClosedWindow=!1,n._setupTimer(),n}return Object(f.a)(r,[{key:"_setupTimer",value:function(){var t=this;this.windowTimer=Number(setInterval((function(){t.window&&t.window.closed&&(clearInterval(t.windowTimer),t.iClosedWindow||t.emit("close"),t.iClosedWindow=!1,t.window=void 0),void 0===t.window&&clearInterval(t.windowTimer)}),500))}},{key:"open",value:function(){var t;return this.window=window.open(this.url.href,this.target,this.features),null!==(t=this.window)&&void 0!==t&&t.focus&&this.window.focus(),Promise.resolve()}},{key:"close",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:"redirect",value:function(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}}]),r}(K.EventEmitter);function Kt(t){return new Promise((function(e,r){try{var n=document.createElement("img");n.onload=function(){return e(!0)},n.onerror=function(){return e(!1)},n.src=t}catch(i){r(i)}}))}var Wt=function(t){var e=t.document,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;var n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};function Gt(t){return zt.apply(this,arguments)}function zt(){return(zt=Object(k.a)(Object(w.a)().mark((function t(e){var r,n;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.document,n=r.querySelector('head > link[rel="shortcut icon"]'),t.t0=n,!t.t0){t.next=7;break}return t.next=6,Kt(n.href);case 6:t.t0=t.sent;case 7:if(!t.t0){t.next=9;break}return t.abrupt("return",n.href);case 9:if(n=Array.from(r.querySelectorAll('head > link[rel="icon"]')).find((function(t){return Boolean(t.href)})),t.t1=n,!t.t1){t.next=15;break}return t.next=14,Kt(n.href);case 14:t.t1=t.sent;case 15:if(!t.t1){t.next=17;break}return t.abrupt("return",n.href);case 17:return t.abrupt("return",null);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Xt=function(){var t=Object(k.a)(Object(w.a)().mark((function t(){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wt(window),t.next=3,Gt(window);case 3:return t.t1=t.sent,t.abrupt("return",{name:t.t0,icon:t.t1});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Yt(){return(Yt=Object(k.a)(Object(w.a)().mark((function t(e){var r;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Xt();case 3:r=t.sent,e.handle({jsonrpc:"2.0",id:St(),method:"wallet_sendDomainMetadata",params:r},Nt),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),xt.error({message:jt.errors.sendSiteMetadata(),originalError:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var Jt=["host","chainId","networkName"];function Zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(r),!0).forEach((function(e){E()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var $t=(h={},Object(O.a)(h,W,!0),Object(O.a)(h,G,!0),Object(O.a)(h,X,!0),Object(O.a)(h,z,!0),Object(O.a)(h,Y,!0),h),te="sha384-FLPj0jKrb6vIli62Ed4n/sqWhdhHMpFz3NffAV4H8uqTkzPsf4IAtKFgeVGgxb4+",ee="max-age=3600",re=["eth_sendTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","eth_getEncryptionPublicKey","eth_decrypt"],ne=function(t){var e;try{e=window[t];var r="__storage_test__";return e.setItem(r,r),e.removeItem(r),!0}catch(n){return n&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&e&&0!==e.length}}("localStorage");!function(){var t=Object(k.a)(Object(w.a)().mark((function t(){var e,r,n;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"undefined"!==typeof document){t.next=3;break}return t.abrupt("return");case 3:return e=document.createElement("link"),t.next=6,Pt("production",{check:!1,hash:te,version:""});case 6:r=t.sent,n=r.torusUrl,e.href="".concat(n,"/popup"),e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),xt.warn(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}()();var ie=function(){function e(){Object(p.a)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.buttonPosition,n=void 0===r?ct:r,i=t.modalZIndex,o=void 0===i?99999:i,a=t.apiKey,s=void 0===a?"torus-default":a;E()(this,"buttonPosition",ct),E()(this,"torusUrl",void 0),E()(this,"torusIframe",void 0),E()(this,"styleLink",void 0),E()(this,"isLoggedIn",void 0),E()(this,"isInitialized",void 0),E()(this,"torusWidgetVisibility",void 0),E()(this,"torusAlert",void 0),E()(this,"nodeDetailManager",void 0),E()(this,"torusJs",void 0),E()(this,"apiKey",void 0),E()(this,"modalZIndex",void 0),E()(this,"alertZIndex",void 0),E()(this,"torusAlertContainer",void 0),E()(this,"isIframeFullScreen",void 0),E()(this,"whiteLabel",void 0),E()(this,"requestedVerifier",void 0),E()(this,"currentVerifier",void 0),E()(this,"embedTranslations",void 0),E()(this,"ethereum",void 0),E()(this,"provider",void 0),E()(this,"communicationMux",void 0),E()(this,"isLoginCallback",void 0),E()(this,"dappStorageKey",void 0),E()(this,"paymentProviders",gt.paymentProviders),E()(this,"loginHint",""),E()(this,"useWalletConnect",void 0),this.buttonPosition=n,this.torusUrl="",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier="",this.currentVerifier="",this.nodeDetailManager=new M.a,this.torusJs=new P.a({metadataHost:"https://metadata.tor.us",allowHost:"https://signer.tor.us/api/allow",network:"mainnet"}),this.apiKey=s,P.a.setAPIKey(s),Object(A.b)(s),this.modalZIndex=o,this.alertZIndex=o+1e3,this.isIframeFullScreen=!1,this.dappStorageKey=""}return Object(f.a)(e,[{key:"init",value:function(){var t=Object(k.a)(Object(w.a)().mark((function t(){var e,r,n,i,o,a,s,u,c,l,h,d,p,f,m,v,g,b,y,O,_,x,j,E,M,A,S,P,C,N,I,R,D,B,L,F,U,q,H,V,K,W,G,z=this,X=arguments;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=X.length>0&&void 0!==X[0]?X[0]:{},r=e.buildEnv,n=void 0===r?ut:r,i=e.enableLogging,o=void 0!==i&&i,a=e.enabledVerifiers,s=void 0===a?$t:a,u=e.network,c=void 0===u?{host:"mainnet",chainId:null,networkName:"",blockExplorer:"",ticker:"",tickerName:""}:u,l=e.loginConfig,h=void 0===l?{}:l,d=e.showTorusButton,p=void 0===d||d,f=e.integrity,m=void 0===f?{check:!1,hash:te,version:""}:f,v=e.whiteLabel,g=e.skipTKey,b=void 0!==g&&g,y=e.useLocalStorage,O=void 0!==y&&y,_=e.useWalletConnect,x=void 0!==_&&_,!this.isInitialized){t.next=3;break}throw new Error("Already initialized");case 3:return t.next=5,Pt(n,m);case 5:if(j=t.sent,E=j.torusUrl,M=j.logLevel,xt.info(E,"url loaded"),this.torusUrl=E,this.whiteLabel=v,this.useWalletConnect=x,xt.setDefaultLevel(M),o?xt.enableAll():xt.disableAll(),this.torusWidgetVisibility=p,A="",ne&&O&&(S="".concat(gt.localStorageKeyPrefix).concat(window.location.hostname),(P=window.localStorage.getItem(S))?A=P:(C="torus-app-".concat(St()),window.localStorage.setItem(S,C),A=C)),this.dappStorageKey=A,(N=new URL(E)).pathname.endsWith("/")?N.pathname+="popup":N.pathname+="/popup",A&&(N.hash="#dappStorageKey=".concat(A)),this.torusIframe=yt('<iframe\n        id="torusIframe"\n        allow='.concat(x?"camera":"",'\n        class="torusIframe"\n        src="').concat(N.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex,'"\n      ></iframe>')),this.torusAlertContainer=yt('<div id="torusAlertContainer"></div>'),this.torusAlertContainer.style.display="none",this.torusAlertContainer.style.setProperty("z-index",this.alertZIndex.toString()),(I=window.document.createElement("link")).setAttribute("rel","stylesheet"),I.setAttribute("type","text/css"),I.setAttribute("href","".concat(E,"/css/widget.css")),this.styleLink=I,R=this.whiteLabel||{},D=R.defaultLanguage,B=void 0===D?Ct():D,L=R.customTranslations,F=void 0===L?{}:L,U=T()(gt.translations,F),q=U[B]||gt.translations[Ct()],this.embedTranslations=q.embed,H=function(){var t=Object(k.a)(Object(w.a)().mark((function t(){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ot();case 2:return t.abrupt("return",new Promise((function(t,e){z.torusIframe.onload=Object(k.a)(Object(w.a)().mark((function r(){var n;return Object(w.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:z._setupWeb3(),(n=z.communicationMux.getStream("init_stream")).on("data",(function(r){var n=r.name,i=r.data,o=r.error;"init_complete"===n&&i.success?(z.isInitialized=!0,z._displayIframe(z.isIframeFullScreen),t(void 0)):o&&e(new Error(o))})),n.write({name:"init_stream",data:{enabledVerifiers:s,loginConfig:h,whiteLabel:z.whiteLabel,buttonPosition:z.buttonPosition,torusWidgetVisibility:z.torusWidgetVisibility,apiKey:z.apiKey,skipTKey:b,network:c}});case 4:case"end":return r.stop()}}),r)}))),window.document.head.appendChild(z.styleLink),window.document.body.appendChild(z.torusIframe),window.document.body.appendChild(z.torusAlertContainer)})));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),"production"!==n||!m.check){t.next=56;break}return V="".concat(E,"/popup"),t.next=39,fetch(V,{cache:"reload"});case 39:if((K=t.sent).headers.get("Cache-Control")===ee){t.next=42;break}throw new Error("Unexpected Cache-Control headers, got ".concat(K.headers.get("Cache-Control")));case 42:return t.next=44,K.text();case 44:if(W=t.sent,G=Ht({algorithms:["sha384"]},W),xt.info(G,"integrity"),G!==m.hash){t.next=52;break}return t.next=50,H();case 50:t.next=54;break;case 52:throw this.clearInit(),new Error("Integrity check failed");case 54:t.next=58;break;case 56:return t.next=58,H();case 58:return t.abrupt("return",void 0);case 59:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"login",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.verifier,r=void 0===e?"":e,n=t.login_hint,i=void 0===n?"":n;if(!this.isInitialized)throw new Error("Call init() first");return this.requestedVerifier=r,this.loginHint=i,this.ethereum.enable()}},{key:"logout",value:function(){var t=this;return new Promise((function(e,r){if(t.isLoggedIn){t.communicationMux.getStream("logout").write({name:"logOut"});var n=t.communicationMux.getStream("status");kt(n,"data",(function(n){n.loggedIn?r(new Error("Some Error Occured")):(t.isLoggedIn=!1,t.currentVerifier="",t.requestedVerifier="",e())}))}else r(new Error("User has not logged in yet"))}))}},{key:"cleanUp",value:function(){var t=Object(k.a)(Object(w.a)().mark((function t(){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isLoggedIn){t.next=3;break}return t.next=3,this.logout();case 3:this.clearInit();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"clearInit",value:function(){function t(t){return t instanceof Element||t instanceof HTMLDocument}t(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),t(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),t(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}},{key:"hideTorusButton",value:function(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}},{key:"showTorusButton",value:function(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}},{key:"setProvider",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.host,n=void 0===r?"mainnet":r,i=e.chainId,o=void 0===i?null:i,a=e.networkName,s=void 0===a?"":a,u=x()(e,Jt);return new Promise((function(e,r){var i=t.communicationMux.getStream("provider_change");kt(i,"data",(function(t){var n=t.data,i=n.err,o=n.success;xt.info(t),i?r(i):o?e():r(new Error("some error occured"))}));var a=St();t._handleWindow(a,{target:"_blank",features:It}),i.write({name:"show_provider_change",data:{network:Qt({host:n,chainId:o,networkName:s},u),preopenInstanceId:a,override:!1}})}))}},{key:"showWallet",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.communicationMux.getStream("show_wallet"),i=t?"/".concat(t):"";n.write({name:"show_wallet",data:{path:i}});var o=function(t){if("show_wallet_instance"===t.name){var n=t.data.instanceId,o=new URL("".concat(e.torusUrl,"/wallet").concat(i));o.searchParams.append("integrity","true"),o.searchParams.append("instanceId",n),Object.keys(r).forEach((function(t){o.searchParams.append(t,r[t])})),e.dappStorageKey&&(o.hash="#dappStorageKey=".concat(e.dappStorageKey)),new Vt({url:o,features:Rt}).open()}};kt(n,"data",o)}},{key:"getPublicAddress",value:function(){var t=Object(k.a)(Object(w.a)().mark((function t(e){var r,n,i,o,a,s,u,c,l,h,d,p;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.verifier,n=e.verifierId,i=e.isExtended,o=void 0!==i&&i,gt.supportedVerifierList.includes(r)&&Z[r]){t.next=3;break}throw new Error("Unsupported verifier");case 3:return t.next=5,this.nodeDetailManager.getNodeDetails({verifier:r,verifierId:n});case 5:return a=t.sent,s=a.torusNodeEndpoints,u=a.torusNodePub,c=r,l=Z[r],t.prev=10,t.next=13,this.torusJs.getUserTypeAndAddress(s,u,{verifier:c,verifierId:n});case 13:if("v1"!==(h=t.sent).typeOfUser){t.next=18;break}if(o){t.next=17;break}return t.abrupt("return",h.address);case 17:return t.abrupt("return",h);case 18:return t.next=20,this.torusJs.getUserTypeAndAddress(s,u,{verifier:l,verifierId:n},!0);case 20:if(d=t.sent,o){t.next=23;break}return t.abrupt("return",d.address);case 23:return t.abrupt("return",d);case 26:if(t.prev=26,t.t0=t.catch(10),null===t.t0||void 0===t.t0||!t.t0.message.includes("Verifier + VerifierID has not yet been assigned")){t.next=35;break}return t.next=31,this.torusJs.getUserTypeAndAddress(s,u,{verifier:l,verifierId:n},!0);case 31:if(p=t.sent,o){t.next=34;break}return t.abrupt("return",p.address);case 34:return t.abrupt("return",p);case 35:throw t.t0;case 36:case"end":return t.stop()}}),t,this,[[10,26]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getUserInfo",value:function(t){var e=this;return new Promise((function(r,n){if(e.isLoggedIn){var i=e.communicationMux.getStream("user_info_access");i.write({name:"user_info_access_request"});kt(i,"data",(function(i){var o=i.name,a=i.data,s=a.approved,u=a.payload,c=a.rejected,l=a.newRequest;if("user_info_access_response"===o)if(s)r(u);else if(c)n(new Error("User rejected the request"));else if(l){var h=e.communicationMux.getStream("user_info");kt(h,"data",(function(t){"user_info_response"===t.name&&(t.data.approved?r(t.data.payload):n(new Error("User rejected the request")))}));var d=St();e._handleWindow(d,{target:"_blank",features:It}),h.write({name:"user_info_request",data:{message:t,preopenInstanceId:d}})}}))}else n(new Error("User has not logged in yet"))}))}},{key:"initiateTopup",value:function(t,e){var r=this;return new Promise((function(n,i){if(r.isInitialized){var o=function(t,e){var r={};if(!t)return{errors:r,isValid:!0};if(t&&!Et[t])return r.provider="Invalid Provider",{errors:r,isValid:0===Object.keys(r).length};var n=Et[t],i=e||{};if(i.fiatValue){var o=+parseFloat(i.fiatValue.toString())||0;o<n.minOrderValue&&(r.fiatValue="Requested amount is lower than supported"),o>n.maxOrderValue&&n.enforceMax&&(r.fiatValue="Requested amount is higher than supported")}if(i.selectedCurrency&&!n.validCurrencies.includes(i.selectedCurrency)&&(r.selectedCurrency="Unsupported currency"),i.selectedCryptoCurrency){var a=Object.values(n.validCryptoCurrenciesByChain).flat().map((function(t){return t.value})),s=t===Q?i.selectedCryptoCurrency.toLowerCase():i.selectedCryptoCurrency;a&&!a.includes(s)&&(r.selectedCryptoCurrency="Unsupported cryptoCurrency")}return{errors:r,isValid:0===Object.keys(r).length}}(t,e),a=o.errors;if(!o.isValid)return void i(new Error(JSON.stringify(a)));var s=r.communicationMux.getStream("topup");kt(s,"data",(function(t){"topup_response"===t.name&&(t.data.success?n(t.data.success):i(new Error(t.data.error)))}));var u=St();r._handleWindow(u),s.write({name:"topup_request",data:{provider:t,params:e,preopenInstanceId:u}})}else i(new Error("Torus is not initialized yet"))}))}},{key:"loginWithPrivateKey",value:function(){var e=Object(k.a)(Object(w.a)().mark((function e(r){var n,i,o=this;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.privateKey,i=r.userInfo,e.abrupt("return",new Promise((function(e,r){if(o.isInitialized){if(32!==t.from(n,"hex").length)return void r(new Error("Invalid private key, Please provide a 32 byte valid secp25k1 private key"));var a=o.communicationMux.getStream("login_with_private_key");kt(a,"data",(function(t){"login_with_private_key_response"===t.name&&(t.data.success?e(t.data.success):r(new Error(t.data.error)))})),a.write({name:"login_with_private_key_request",data:{privateKey:n,userInfo:i}})}else r(new Error("Torus is not initialized yet"))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"showWalletConnectScanner",value:function(){var t=Object(k.a)(Object(w.a)().mark((function t(){var e=this;return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.useWalletConnect){t.next=2;break}throw new Error("Set `useWalletConnect` as true in init function options to use wallet connect scanner");case 2:return t.abrupt("return",new Promise((function(t,r){if(e.isLoggedIn){var n=e.communicationMux.getStream("wallet_connect_stream");kt(n,"data",(function(n){"wallet_connect_stream_res"===n.name&&(n.data.success?t(n.data.success):r(new Error(n.data.error)),e._displayIframe())})),n.write({name:"wallet_connect_stream_req"}),e._displayIframe(!0)}else r(new Error("User has not logged in yet"))})));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_handleWindow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.url,n=e.target,i=e.features;if(t){var o=this.communicationMux.getStream("window"),a=new URL(r||"".concat(this.torusUrl,"/redirect?preopenInstanceId=").concat(t));this.dappStorageKey&&(a.hash?a.hash+="&dappStorageKey=".concat(this.dappStorageKey):a.hash="#dappStorageKey=".concat(this.dappStorageKey));var s=new Vt({url:a,target:n,features:i});if(s.open(),!s.window)return void this._createPopupBlockAlert(t,a.href);o.write({name:"opened_window",data:{preopenInstanceId:t}});var u=function e(r){var n=r.preopenInstanceId,i=r.close;n===t&&i&&(s.close(),o.removeListener("data",e))};o.on("data",u),s.once("close",(function(){o.write({data:{preopenInstanceId:t,closed:!0}}),o.removeListener("data",u)}))}}},{key:"_setEmbedWhiteLabel",value:function(t){var e=(this.whiteLabel||{}).theme;if(e){var r=e.isDark,n=void 0!==r&&r,i=e.colors,o=void 0===i?{}:i;n&&t.classList.add("torus-dark"),o.torusBrand1&&t.style.setProperty("--torus-brand-1",o.torusBrand1),o.torusGray2&&t.style.setProperty("--torus-gray-2",o.torusGray2)}}},{key:"_getLogoUrl",value:function(){var t,e,r,n,i="".concat(this.torusUrl,"/images/torus_icon-blue.svg");null!==(t=this.whiteLabel)&&void 0!==t&&null!==(e=t.theme)&&void 0!==e&&e.isDark?i=(null===(r=this.whiteLabel)||void 0===r?void 0:r.logoLight)||i:i=(null===(n=this.whiteLabel)||void 0===n?void 0:n.logoDark)||i;return i}},{key:"_sendWidgetVisibilityStatus",value:function(t){this.communicationMux.getStream("torus-widget-visibility").write({data:t})}},{key:"_displayIframe",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={};if(t)e.display="block",e.width="100%",e.height="100%",e.top="0px",e.right="0px",e.left="0px",e.bottom="0px";else switch(e.display=this.torusWidgetVisibility?"block":"none",e.height="70px",e.width="70px",this.buttonPosition){case lt:e.top="0px",e.left="0px",e.right="auto",e.bottom="auto";break;case dt:e.top="0px",e.right="0px",e.left="auto",e.bottom="auto";break;case ht:e.bottom="0px",e.right="0px",e.top="auto",e.left="auto";break;default:e.bottom="0px",e.left="0px",e.top="auto",e.right="auto"}Object.assign(this.torusIframe.style,e),this.isIframeFullScreen=t}},{key:"_setupWeb3",value:function(){var t=this;xt.info("setupWeb3 running");var e=new S.a({name:"embed_metamask",target:"iframe_metamask",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),r=new S.a({name:"embed_comm",target:"iframe_comm",targetWindow:this.torusIframe.contentWindow,targetOrigin:new URL(this.torusUrl).origin}),n=new Ut(e),i=function(t){var e=n[t];n[t]=function(t){if(t&&"eth_requestAccounts"===t)return n.enable();for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return e.apply(this,[t].concat(i))}};i("send"),i("sendAsync"),n.enable=function(){return new Promise((function(e,r){n.sendAsync({jsonrpc:"2.0",id:St(),method:"eth_requestAccounts",params:[]},(function(n,i){var o=(i||{}).result;if(n)setTimeout((function(){r(n)}),50);else if(Array.isArray(o)&&o.length>0){var a=function(){if(""!==t.requestedVerifier&&t.currentVerifier!==t.requestedVerifier){var n=t.requestedVerifier;t.logout().then((function(i){t.requestedVerifier=n,t._showLoginPopup(!0,e,r)})).catch((function(t){return r(t)}))}else e(o)};t.isLoggedIn?a():t.isLoginCallback=a}else t._showLoginPopup(!0,e,r)}))}))},n.tryPreopenHandle=function(e,r){var i=e;if(!Array.isArray(i)&&re.includes(i.method)){var o=St();t._handleWindow(o,{target:"_blank",features:Dt}),i.preopenInstanceId=o}n._rpcEngine.handle(i,r)};var o=new Proxy(n,{deleteProperty:function(){return!0}});this.ethereum=o;var a=Object(S.l)(r);this.communicationMux=a,a.getStream("window").on("data",(function(e){"create_window"===e.name&&t._createPopupBlockAlert(e.data.preopenInstanceId,e.data.url)})),a.getStream("widget").on("data",(function(e){var r=e.data;t._displayIframe(r)})),a.getStream("status").on("data",(function(e){e.loggedIn?(t.isLoggedIn=e.loggedIn,t.currentVerifier=e.verifier):t._displayIframe(),t.isLoginCallback&&(t.isLoginCallback(),delete t.isLoginCallback)})),this.provider=o,this.provider.shouldSendMetadata&&function(t){Yt.apply(this,arguments)}(this.provider._rpcEngine),n._initializeState(),xt.debug("Torus - injected provider")}},{key:"_showLoginPopup",value:function(t,e,r){var n=this,i=function(t){var i=t.err,o=t.selectedAddress;i?(xt.error(i),r&&r(i)):e&&e([o]),n.isIframeFullScreen&&n._displayIframe()},o=this.communicationMux.getStream("oauth");if(this.requestedVerifier){kt(o,"data",i);var a=St();this._handleWindow(a),o.write({name:"oauth",data:{calledFromEmbed:t,verifier:this.requestedVerifier,preopenInstanceId:a,login_hint:this.loginHint}})}else this._displayIframe(!0),kt(o,"data",i),o.write({name:"oauth_modal",data:{calledFromEmbed:t}})}},{key:"_createPopupBlockAlert",value:function(t,e){var r=this,n=this._getLogoUrl(),i=yt('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(n,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),o=yt('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),a=yt('<div id="torusAlert__btn-container"></div>');a.appendChild(o),i.appendChild(a);this._setEmbedWhiteLabel(i);bt((function(){r.torusAlertContainer.style.display="block",r.torusAlertContainer.appendChild(i)})),bt((function(){o.addEventListener("click",(function(){r._handleWindow(t,{url:e,target:"_blank",features:Dt}),i.remove(),0===r.torusAlertContainer.children.length&&(r.torusAlertContainer.style.display="none")}))}))}}]),e}()}).call(this,r(10).Buffer)},1459:function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var n=r(1),i=r(4),o=r(7),a=r(8),s=r(3),u=r.n(s),c=r(1460),l=r.n(c),h=r(1364),d="mainnet",p=[{inputs:[{internalType:"string",name:"_verifier",type:"string"},{internalType:"bytes32",name:"hashedVerifierId",type:"bytes32"}],name:"getNodeSet",outputs:[{internalType:"uint256",name:"currentEpoch",type:"uint256"},{internalType:"string[]",name:"torusNodeEndpoints",type:"string[]"},{internalType:"uint256[]",name:"torusNodePubX",type:"uint256[]"},{internalType:"uint256[]",name:"torusNodePubY",type:"uint256[]"},{internalType:"uint256[]",name:"torusIndexes",type:"uint256[]"}],stateMutability:"view",type:"function"}],f=function(){function t(){Object(o.a)(this,t);var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.network,i=void 0===n?d:n,a=r.proxyAddress,s=void 0===a?t.PROXY_ADDRESS_MAINNET:a;u()(this,"_currentEpoch",""),u()(this,"_torusNodeEndpoints",[]),u()(this,"_torusNodePub",[]),u()(this,"_torusIndexes",[]),u()(this,"nodeListAddress",void 0),u()(this,"updated",void 0),u()(this,"nodeListContract",void 0);try{var c=new URL(i);e=c.href}catch(f){var h="b8cdb0e4cff24599a286bf8e87ff1c96";e="https://".concat(i,".infura.io/v3/").concat(h)}l.a.setProvider(e),this.nodeListContract=new l.a(p,s),this.nodeListAddress=s,this.updated=!1}return Object(a.a)(t,[{key:"_nodeDetails",get:function(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}},{key:"getNodeDetails",value:function(){var e=Object(i.a)(Object(n.a)().mark((function e(r){var i,o,a,s,u,c,l,d,p,f,m,v,g,b,y,w;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.verifier,o=r.verifierId,e.prev=1,!this.updated||this.nodeListAddress!==t.PROXY_ADDRESS_MAINNET&&this.nodeListAddress!==t.PROXY_ADDRESS_ROPSTEN){e.next=4;break}return e.abrupt("return",this._nodeDetails);case 4:return a=Object(h.keccak256)(o),e.next=7,this.nodeListContract.methods.getNodeSet(i,a).call();case 7:for(s=e.sent,u=s.currentEpoch,c=s.torusNodeEndpoints,l=s.torusNodePubX,d=s.torusNodePubY,p=s.torusIndexes,this._currentEpoch=u,this._torusIndexes=p.map((function(t){return Number(t)})),f=[],m=[],v=0;v<c.length;v+=1)g=c[v],b=l[v],y=d[v],w="https://".concat(g.split(":")[0],"/jrpc"),f.push(w),m.push({X:Object(h.toHex)(b).replace("0x",""),Y:Object(h.toHex)(y).replace("0x","")});return this._torusNodeEndpoints=f,this._torusNodePub=m,this.updated=!0,e.abrupt("return",this._nodeDetails);case 20:if(e.prev=20,e.t0=e.catch(1),this.nodeListAddress!==t.PROXY_ADDRESS_MAINNET){e.next=24;break}return e.abrupt("return",t.NODE_DETAILS_MAINNET);case 24:throw e.t0;case 25:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(t){return e.apply(this,arguments)}}()}]),t}();u()(f,"PROXY_ADDRESS_MAINNET","0xf20336e16B5182637f09821c27BDe29b0AFcfe80"),u()(f,"PROXY_ADDRESS_ROPSTEN","0x6258c9d6c12ed3edda59a1a6527e469517744aa7"),u()(f,"PROXY_ADDRESS_POLYGON","0x9f072ba19b3370e512aa1b4bfcdaf97283168005"),u()(f,"NODE_DETAILS_MAINNET",{currentEpoch:"19",nodeListAddress:f.PROXY_ADDRESS_MAINNET,torusNodeEndpoints:["https://torus-19.torusnode.com/jrpc","https://torus-node.ens.domains/jrpc","https://torus-node.matic.network/jrpc","https://torus.zilliqa.network/jrpc","https://torus-mainnet.cosmos.network/jrpc","https://torus2.etherscan.com/jrpc","https://torus-node-v2.skalelabs.com/jrpc","https://torus-node.binancex.dev/jrpc","https://torusnode.ont.io/jrpc"],torusIndexes:[1,2,3,4,5,6,7,8,9],torusNodePub:[{X:"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b",Y:"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5"},{X:"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d",Y:"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873"},{X:"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe",Y:"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152"},{X:"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768",Y:"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef"},{X:"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064",Y:"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1"},{X:"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139",Y:"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122"},{X:"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6",Y:"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9"},{X:"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043",Y:"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46"},{X:"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5",Y:"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790"}],updated:!1})},1460:function(t,e,r){"use strict";var n=r(241).default,i=r(1461),o=r(1426),a=r(1364),s=r(1428).subscription,u=r(1359).formatters,c=r(1359).errors,l=r(1427),h=r(1476),d=function t(e,r,o){var s=this,l=Array.prototype.slice.call(arguments);if(!(this instanceof t))throw new Error('Please use the "new" keyword to instantiate a web3.eth.Contract() object!');if(this.setProvider=function(){i.packageInit(s,arguments),s.clearSubscriptions=s._requestManager.clearSubscriptions},i.packageInit(this,[this.constructor]),this.clearSubscriptions=this._requestManager.clearSubscriptions,!e||!Array.isArray(e))throw c.ContractMissingABIError();this.options={};var d=l[l.length-1];d&&"object"===typeof d&&!Array.isArray(d)&&(o=d,this.options=n(n({},this.options),this._getOrSetDefaultOptions(o)),r&&"object"===typeof r&&(r=null)),Object.defineProperty(this.options,"address",{set:function(t){t&&(s._address=a.toChecksumAddress(u.inputAddressFormatter(t)))},get:function(){return s._address},enumerable:!0}),Object.defineProperty(this.options,"jsonInterface",{set:function(t){return s.methods={},s.events={},s._jsonInterface=t.map((function(t){var e,r;if(t.constant="view"===t.stateMutability||"pure"===t.stateMutability||t.constant,t.payable="payable"===t.stateMutability||t.payable,t.name&&(r=a._jsonInterfaceMethodToString(t)),"function"===t.type){if(t.signature=h.encodeFunctionSignature(r),e=s._createTxObject.bind({method:t,parent:s}),s.methods[t.name]){var n=s._createTxObject.bind({method:t,parent:s,nextMethod:s.methods[t.name]});s.methods[t.name]=n}else s.methods[t.name]=e;s.methods[t.signature]=e,s.methods[r]=e}else if("event"===t.type){t.signature=h.encodeEventSignature(r);var i=s._on.bind(s,t.signature);s.events[t.name]&&"bound "!==s.events[t.name].name||(s.events[t.name]=i),s.events[t.signature]=i,s.events[r]=i}return t})),s.events.allEvents=s._on.bind(s,"allevents"),s._jsonInterface},get:function(){return s._jsonInterface},enumerable:!0});var p=this.constructor.defaultAccount,f=this.constructor.defaultBlock||"latest";Object.defineProperty(this,"handleRevert",{get:function(){return!1===s.options.handleRevert||!0===s.options.handleRevert?s.options.handleRevert:this.constructor.handleRevert},set:function(t){s.options.handleRevert=t},enumerable:!0}),Object.defineProperty(this,"defaultCommon",{get:function(){return s.options.common||this.constructor.defaultCommon},set:function(t){s.options.common=t},enumerable:!0}),Object.defineProperty(this,"defaultHardfork",{get:function(){return s.options.hardfork||this.constructor.defaultHardfork},set:function(t){s.options.hardfork=t},enumerable:!0}),Object.defineProperty(this,"defaultChain",{get:function(){return s.options.chain||this.constructor.defaultChain},set:function(t){s.options.chain=t},enumerable:!0}),Object.defineProperty(this,"transactionPollingTimeout",{get:function(){return 0===s.options.transactionPollingTimeout?s.options.transactionPollingTimeout:s.options.transactionPollingTimeout||this.constructor.transactionPollingTimeout},set:function(t){s.options.transactionPollingTimeout=t},enumerable:!0}),Object.defineProperty(this,"transactionPollingInterval",{get:function(){return 0===s.options.transactionPollingInterval?s.options.transactionPollingInterval:s.options.transactionPollingInterval||this.constructor.transactionPollingInterval},set:function(t){s.options.transactionPollingInterval=t},enumerable:!0}),Object.defineProperty(this,"transactionConfirmationBlocks",{get:function(){return 0===s.options.transactionConfirmationBlocks?s.options.transactionConfirmationBlocks:s.options.transactionConfirmationBlocks||this.constructor.transactionConfirmationBlocks},set:function(t){s.options.transactionConfirmationBlocks=t},enumerable:!0}),Object.defineProperty(this,"transactionBlockTimeout",{get:function(){return 0===s.options.transactionBlockTimeout?s.options.transactionBlockTimeout:s.options.transactionBlockTimeout||this.constructor.transactionBlockTimeout},set:function(t){s.options.transactionBlockTimeout=t},enumerable:!0}),Object.defineProperty(this,"blockHeaderTimeout",{get:function(){return 0===s.options.blockHeaderTimeout?s.options.blockHeaderTimeout:s.options.blockHeaderTimeout||this.constructor.blockHeaderTimeout},set:function(t){s.options.blockHeaderTimeout=t},enumerable:!0}),Object.defineProperty(this,"defaultAccount",{get:function(){return p},set:function(t){return t&&(p=a.toChecksumAddress(u.inputAddressFormatter(t))),t},enumerable:!0}),Object.defineProperty(this,"defaultBlock",{get:function(){return f},set:function(t){return f=t,t},enumerable:!0}),this.methods={},this.events={},this._address=null,this._jsonInterface=[],this.options.address=r,this.options.jsonInterface=e};d.setProvider=function(t,e){i.packageInit(this,[t]),this._ethAccounts=e},d.prototype._getCallback=function(t){if(t&&t[t.length-1]&&"function"===typeof t[t.length-1])return t.pop()},d.prototype._checkListener=function(t,e){if(e===t)throw c.ContractReservedEventError(t)},d.prototype._getOrSetDefaultOptions=function(t){var e=t.gasPrice?String(t.gasPrice):null,r=t.from?a.toChecksumAddress(u.inputAddressFormatter(t.from)):null;return t.data=t.data||this.options.data,t.from=r||this.options.from,t.gasPrice=e||this.options.gasPrice,t.gas=t.gas||t.gasLimit||this.options.gas,delete t.gasLimit,t},d.prototype._encodeEventABI=function(t,e){var r=(e=e||{}).filter||{},n={};if(["fromBlock","toBlock"].filter((function(t){return void 0!==e[t]})).forEach((function(t){n[t]=u.inputBlockNumberFormatter(e[t])})),Array.isArray(e.topics))n.topics=e.topics;else{if(n.topics=[],t&&!t.anonymous&&"ALLEVENTS"!==t.name&&n.topics.push(t.signature),"ALLEVENTS"!==t.name){var i=t.inputs.filter((function(t){return!0===t.indexed})).map((function(t){var e=r[t.name];return e?Array.isArray(e)?e.map((function(e){return h.encodeParameter(t.type,e)})):h.encodeParameter(t.type,e):null}));n.topics=n.topics.concat(i)}n.topics.length||delete n.topics}return this.options.address&&(n.address=this.options.address.toLowerCase()),n},d.prototype._decodeEventABI=function(t){var e=this;t.data=t.data||"",t.topics=t.topics||[];var r=u.outputLogFormatter(t);if("ALLEVENTS"===e.name&&(e=e.jsonInterface.find((function(e){return e.signature===t.topics[0]}))||{anonymous:!0}),e.inputs=e.inputs||[],!e.anonymous){var n=0;e.inputs.forEach((function(t){return t.indexed?n++:null})),n>0&&t.topics.length!==n+1&&(e={anonymous:!0,inputs:[]})}var i=e.anonymous?t.topics:t.topics.slice(1);return r.returnValues=h.decodeLog(e.inputs,t.data,i),delete r.returnValues.__length__,r.event=e.name,r.signature=e.anonymous||!t.topics[0]?null:t.topics[0],r.raw={data:r.data,topics:r.topics},delete r.data,delete r.topics,r},d.prototype._encodeMethodABI=function(){var t=this._method.signature,e=this.arguments||[],r=!1,n=this._parent.options.jsonInterface.filter((function(e){return"constructor"===t&&e.type===t||(e.signature===t||e.signature===t.replace("0x","")||e.name===t)&&"function"===e.type})).map((function(t){var n=Array.isArray(t.inputs)?t.inputs.length:0;if(n!==e.length)throw new Error("The number of arguments is not matching the methods required number. You need to pass "+n+" arguments.");return"function"===t.type&&(r=t.signature),Array.isArray(t.inputs)?t.inputs:[]})).map((function(t){return h.encodeParameters(t,e).replace("0x","")}))[0]||"";if("constructor"===t){if(!this._deployData)throw new Error("The contract has no contract data option set. This is necessary to append the constructor parameters.");return this._deployData.startsWith("0x")||(this._deployData="0x"+this._deployData),this._deployData+n}var i=r?r+n:n;if(!i)throw new Error("Couldn't find a matching contract method named \""+this._method.name+'".');return i},d.prototype._decodeMethodReturn=function(t,e){if(!e)return null;e=e.length>=2?e.slice(2):e;var r=h.decodeParameters(t,e);return 1===r.__length__?r[0]:(delete r.__length__,r)},d.prototype.deploy=function(t,e){if((t=t||{}).arguments=t.arguments||[],!(t=this._getOrSetDefaultOptions(t)).data){if("function"===typeof e)return e(c.ContractMissingDeployDataError());throw c.ContractMissingDeployDataError()}var r=this.options.jsonInterface.find((function(t){return"constructor"===t.type}))||{};return r.signature="constructor",this._createTxObject.apply({method:r,parent:this,deployData:t.data,_ethAccounts:this.constructor._ethAccounts},t.arguments)},d.prototype._generateEventOptions=function(){var t=Array.prototype.slice.call(arguments),e=this._getCallback(t),r="object"===(!!t[t.length-1]&&typeof t[t.length-1])?t.pop():{},n="string"===typeof t[0]?t[0]:"allevents",i="allevents"===n.toLowerCase()?{name:"ALLEVENTS",jsonInterface:this.options.jsonInterface}:this.options.jsonInterface.find((function(t){return"event"===t.type&&(t.name===n||t.signature==="0x"+n.replace("0x",""))}));if(!i)throw c.ContractEventDoesNotExistError(n);if(!a.isAddress(this.options.address))throw c.ContractNoAddressDefinedError();return{params:this._encodeEventABI(i,r),event:i,callback:e}},d.prototype.clone=function(){return new this.constructor(this.options.jsonInterface,this.options.address,this.options)},d.prototype.once=function(t,e,r){var n=Array.prototype.slice.call(arguments);if(!(r=this._getCallback(n)))throw c.ContractOnceRequiresCallbackError();e&&delete e.fromBlock,this._on(t,e,(function(t,e,n){n.unsubscribe(),"function"===typeof r&&r(t,e,n)}))},d.prototype._on=function(){var t=this._generateEventOptions.apply(this,arguments);t.params&&t.params.toBlock&&(delete t.params.toBlock,console.warn("Invalid option: toBlock. Use getPastEvents for specific range.")),this._checkListener("newListener",t.event.name),this._checkListener("removeListener",t.event.name);var e=new s({subscription:{params:1,inputFormatter:[u.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event),subscriptionHandler:function(t){t.removed?this.emit("changed",t):this.emit("data",t),"function"===typeof this.callback&&this.callback(null,t,this)}},type:"eth",requestManager:this._requestManager});return e.subscribe("logs",t.params,t.callback||function(){}),e},d.prototype.getPastEvents=function(){var t=this._generateEventOptions.apply(this,arguments),e=new o({name:"getPastLogs",call:"eth_getLogs",params:1,inputFormatter:[u.inputLogFormatter],outputFormatter:this._decodeEventABI.bind(t.event)});e.setRequestManager(this._requestManager);var r=e.buildCall();return e=null,r(t.params,t.callback)},d.prototype._createTxObject=function(){var t=Array.prototype.slice.call(arguments),e={};if("function"===this.method.type&&(e.call=this.parent._executeMethod.bind(e,"call"),e.call.request=this.parent._executeMethod.bind(e,"call",!0)),e.send=this.parent._executeMethod.bind(e,"send"),e.send.request=this.parent._executeMethod.bind(e,"send",!0),e.encodeABI=this.parent._encodeMethodABI.bind(e),e.estimateGas=this.parent._executeMethod.bind(e,"estimate"),e.createAccessList=this.parent._executeMethod.bind(e,"createAccessList"),t&&this.method.inputs&&t.length!==this.method.inputs.length){if(this.nextMethod)return this.nextMethod.apply(null,t);throw c.InvalidNumberOfParams(t.length,this.method.inputs.length,this.method.name)}return e.arguments=t||[],e._method=this.method,e._parent=this.parent,e._ethAccounts=this.parent.constructor._ethAccounts||this._ethAccounts,this.deployData&&(e._deployData=this.deployData),e},d.prototype._processExecuteArguments=function(t,e){var r={};if(r.type=t.shift(),r.callback=this._parent._getCallback(t),"call"!==r.type||!0===t[t.length-1]||"string"!==typeof t[t.length-1]&&!isFinite(t[t.length-1])||(r.defaultBlock=t.pop()),r.options="object"===(!!t[t.length-1]&&typeof t[t.length-1])?t.pop():{},r.generateRequest=!0===t[t.length-1]&&t.pop(),r.options=this._parent._getOrSetDefaultOptions(r.options),r.options.data=this.encodeABI(),!this._deployData&&!a.isAddress(this._parent.options.address))throw c.ContractNoAddressDefinedError();return this._deployData||(r.options.to=this._parent.options.address),r.options.data?r:a._fireError(new Error("Couldn't find a matching contract method, or the number of parameters is wrong."),e.eventEmitter,e.reject,r.callback)},d.prototype._executeMethod=function(){var t=this,e=this._parent._processExecuteArguments.call(this,Array.prototype.slice.call(arguments),r),r=l("send"!==e.type),n=t.constructor._ethAccounts||t._ethAccounts;if(e.generateRequest){var i={params:[u.inputCallFormatter.call(this._parent,e.options)],callback:e.callback};return"call"===e.type?(i.params.push(u.inputDefaultBlockNumberFormatter.call(this._parent,e.defaultBlock)),i.method="eth_call",i.format=this._parent._decodeMethodReturn.bind(null,this._method.outputs)):i.method="eth_sendTransaction",i}switch(e.type){case"createAccessList":if(!a.isAddress(e.options.from))return a._fireError(c.ContractNoFromAddressDefinedError(),r.eventEmitter,r.reject,e.callback);var s=new o({name:"createAccessList",call:"eth_createAccessList",params:2,inputFormatter:[u.inputTransactionFormatter,u.inputDefaultBlockNumberFormatter],requestManager:t._parent._requestManager,accounts:n,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction();return s(e.options,e.callback);case"estimate":var d=new o({name:"estimateGas",call:"eth_estimateGas",params:1,inputFormatter:[u.inputCallFormatter],outputFormatter:a.hexToNumber,requestManager:t._parent._requestManager,accounts:n,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock}).createFunction();return d(e.options,e.callback);case"call":var p=new o({name:"call",call:"eth_call",params:2,inputFormatter:[u.inputCallFormatter,u.inputDefaultBlockNumberFormatter],outputFormatter:function(e){return t._parent._decodeMethodReturn(t._method.outputs,e)},requestManager:t._parent._requestManager,accounts:n,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock,handleRevert:t._parent.handleRevert,abiCoder:h}).createFunction();return p(e.options,e.defaultBlock,e.callback);case"send":if(!a.isAddress(e.options.from))return a._fireError(c.ContractNoFromAddressDefinedError(),r.eventEmitter,r.reject,e.callback);if("boolean"===typeof this._method.payable&&!this._method.payable&&e.options.value&&e.options.value>0)return a._fireError(new Error("Can not send value to non-payable contract method or constructor"),r.eventEmitter,r.reject,e.callback);var f={receiptFormatter:function(e){if(Array.isArray(e.logs)){var r=e.logs.map((function(e){return t._parent._decodeEventABI.call({name:"ALLEVENTS",jsonInterface:t._parent.options.jsonInterface},e)}));e.events={};var n=0;r.forEach((function(t){t.event?e.events[t.event]?Array.isArray(e.events[t.event])?e.events[t.event].push(t):e.events[t.event]=[e.events[t.event],t]:e.events[t.event]=t:(e.events[n]=t,n++)})),delete e.logs}return e},contractDeployFormatter:function(e){var r=t._parent.clone();return r.options.address=e.contractAddress,r}},m=new o({name:"sendTransaction",call:"eth_sendTransaction",params:1,inputFormatter:[u.inputTransactionFormatter],requestManager:t._parent._requestManager,accounts:t.constructor._ethAccounts||t._ethAccounts,defaultAccount:t._parent.defaultAccount,defaultBlock:t._parent.defaultBlock,transactionBlockTimeout:t._parent.transactionBlockTimeout,transactionConfirmationBlocks:t._parent.transactionConfirmationBlocks,transactionPollingTimeout:t._parent.transactionPollingTimeout,transactionPollingInterval:t._parent.transactionPollingInterval,defaultCommon:t._parent.defaultCommon,defaultChain:t._parent.defaultChain,defaultHardfork:t._parent.defaultHardfork,handleRevert:t._parent.handleRevert,extraFormatters:f,abiCoder:h}).createFunction();return m(e.options,e.callback);default:throw new Error('Method "'+e.type+'" not implemented.')}},t.exports=d},1461:function(t,e,r){var n=r(1462),i=r(1474);t.exports={packageInit:function(t,e){if(e=Array.prototype.slice.call(e),!t)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(t,"currentProvider",{get:function(){return t._provider},set:function(e){return t.setProvider(e)},enumerable:!0,configurable:!0}),e[0]&&e[0]._requestManager?t._requestManager=e[0]._requestManager:t._requestManager=new n.Manager(e[0],e[1]),t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=function(e,r){return t._requestManager.setProvider(e,r),t._provider=t._requestManager.provider,!0}),t.setRequestManager=function(e){t._requestManager=e,t._provider=e.provider},t.BatchRequest=n.BatchManager.bind(null,t._requestManager),t.extend=i(t)},addProviders:function(t){t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers}}},1462:function(t,e,r){"use strict";var n=r(80).callbackify,i=r(1359).errors,o=r(1425),a=r(1468),s=r(1469),u=function t(e,r){this.provider=null,this.providers=t.providers,this.setProvider(e,r),this.subscriptions=new Map};u.givenProvider=s,u.providers={WebsocketProvider:r(1470),HttpProvider:r(1472),IpcProvider:r(1473)},u.prototype.setProvider=function(t,e){var r=this;if(t&&"string"===typeof t&&this.providers)if(/^http(s)?:\/\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&"object"===typeof e&&"function"===typeof e.connect)t=new this.providers.IpcProvider(t,e);else if(t)throw new Error("Can't autodetect provider for \""+t+'"');if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on){"function"===typeof t.request?this.provider.on("message",(function(t){if(t&&"eth_subscription"===t.type&&t.data){var e=t.data;e.subscription&&r.subscriptions.has(e.subscription)&&r.subscriptions.get(e.subscription).callback(null,e.result)}})):this.provider.on("data",(function(t,e){(t=t||e).method&&t.params&&t.params.subscription&&r.subscriptions.has(t.params.subscription)&&r.subscriptions.get(t.params.subscription).callback(null,t.params.result)})),this.provider.on("connect",(function(){r.subscriptions.forEach((function(t){t.subscription.resubscribe()}))})),this.provider.on("error",(function(t){r.subscriptions.forEach((function(e){e.callback(t)}))}));this.provider.on("disconnect",(function(t){r._isCleanCloseEvent(t)&&!r._isIpcCloseError(t)||(r.subscriptions.forEach((function(e){e.callback(i.ConnectionCloseError(t)),r.subscriptions.delete(e.subscription.id)})),r.provider&&r.provider.emit&&r.provider.emit("error",i.ConnectionCloseError(t))),r.provider&&r.provider.emit&&r.provider.emit("end",t)}))}},u.prototype.send=function(t,e){if(e=e||function(){},!this.provider)return e(i.InvalidProvider());var r=t.method,a=t.params,s=o.toPayload(r,a),u=this._jsonrpcResultCallback(e,s);if(this.provider.request)n(this.provider.request.bind(this.provider))({method:r,params:a},e);else if(this.provider.sendAsync)this.provider.sendAsync(s,u);else{if(!this.provider.send)throw new Error("Provider does not have a request or send method to use.");this.provider.send(s,u)}},u.prototype.sendBatch=function(t,e){if(!this.provider)return e(i.InvalidProvider());var r=o.toBatchPayload(t);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,(function(t,r){return t?e(t):Array.isArray(r)?void e(null,r):e(i.InvalidResponse(r))}))},u.prototype.addSubscription=function(t,e){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions.set(t.id,{callback:e,subscription:t})},u.prototype.removeSubscription=function(t,e){if(this.subscriptions.has(t)){var r=this.subscriptions.get(t).subscription.options.type;return this.subscriptions.delete(t),void this.send({method:r+"_unsubscribe",params:[t]},e)}"function"===typeof e&&e(null)},u.prototype.clearSubscriptions=function(t){try{var e=this;return this.subscriptions.size>0&&this.subscriptions.forEach((function(r,n){t&&"syncing"===r.name||e.removeSubscription(n)})),this.provider.reset&&this.provider.reset(),!0}catch(r){throw new Error("Error while clearing subscriptions: ".concat(r))}},u.prototype._isCleanCloseEvent=function(t){return"object"===typeof t&&([1e3].includes(t.code)||!0===t.wasClean)},u.prototype._isIpcCloseError=function(t){return"boolean"===typeof t&&t},u.prototype._jsonrpcResultCallback=function(t,e){return function(r,n){return n&&n.id&&e.id!==n.id?t(new Error("Wrong response id ".concat(n.id," (expected: ").concat(e.id,") in ").concat(JSON.stringify(e)))):r?t(r):n&&n.error?t(i.ErrorResponse(n)):o.isValidResponse(n)?void t(null,n.result):t(i.InvalidResponse(n))}},t.exports={Manager:u,BatchManager:a}},1463:function(t,e,r){"use strict";t.exports={ErrorResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t),r=t.error&&t.error.data?t.error.data:null,n=new Error("Returned error: "+e);return n.data=r,n},InvalidNumberOfParams:function(t,e,r){return new Error('Invalid number of parameters for "'+r+'". Got '+t+" expected "+e+"!")},InvalidConnection:function(t,e){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+t+".",e)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")},ConnectionNotOpenError:function(t){return this.ConnectionError("connection not open on send()",t)},ConnectionCloseError:function(t){return"object"===typeof t&&t.code&&t.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+t.code+"` and the following reason string `"+t.reason+"`",t):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(t,e){var r=new Error(t);return e&&(r.code=e.code,r.reason=e.reason),r},RevertInstructionError:function(t,e){var r=new Error("Your request got reverted with the following reason string: "+t);return r.reason=t,r.signature=e,r},TransactionRevertInstructionError:function(t,e,r){var n=new Error("Transaction has been reverted by the EVM:\n"+JSON.stringify(r,null,2));return n.reason=t,n.signature=e,n.receipt=r,n},TransactionError:function(t,e){var r=new Error(t);return r.receipt=e,r},NoContractAddressFoundError:function(t){return this.TransactionError("The transaction receipt didn't contain a contract address.",t)},ContractCodeNotStoredError:function(t){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",t)},TransactionRevertedWithoutReasonError:function(t){return this.TransactionError("Transaction has been reverted by the EVM:\n"+JSON.stringify(t,null,2),t)},TransactionOutOfGasError:function(t){return this.TransactionError("Transaction ran out of gas. Please provide more gas:\n"+JSON.stringify(t,null,2),t)},ResolverMethodMissingError:function(t,e){return new Error("The resolver at "+t+'does not implement requested method: "'+e+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(t){return new Error('Event "'+t+"\" doesn't exist in this contract.")},ContractReservedEventError:function(t){return new Error('The event "'+t+"\" is a reserved event name, you can't use it.")},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}}},1464:function(t,e,r){"use strict";var n=r(241).default,i=r(1364),o=r(1467),a=function(t){return i.toBN(t).toString(10)},s=function(t){if(void 0!==t)return function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:"genesis"===t?"0x0":i.isHexStrict(t)?"string"===typeof t?t.toLowerCase():t:i.numberToHex(t)},u=function(t){if(t.to&&(t.to=h(t.to)),t.data&&t.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!t.data.startsWith("0x")&&(t.data="0x"+t.data),t.data&&!i.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),(t.maxPriorityFeePerGas||t.maxFeePerGas)&&delete t.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter((function(e){return void 0!==t[e]})).forEach((function(e){t[e]=i.numberToHex(t[e])})),t},c=function(t){return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),t.nonce=i.hexToNumber(t.nonce),t.gas=i.hexToNumber(t.gas),t.gasPrice&&(t.gasPrice=a(t.gasPrice)),t.maxFeePerGas&&(t.maxFeePerGas=a(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=a(t.maxPriorityFeePerGas)),t.type&&(t.type=i.hexToNumber(t.type)),t.value=a(t.value),t.to&&i.isAddress(t.to)?t.to=i.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=i.toChecksumAddress(t.from)),t},l=function(t){if("string"===typeof t.blockHash&&"string"===typeof t.transactionHash&&"string"===typeof t.logIndex){var e=i.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+e.replace("0x","").slice(0,8)}else t.id||(t.id=null);return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=i.hexToNumber(t.logIndex)),t.address&&(t.address=i.toChecksumAddress(t.address)),t},h=function(t){var e=new o(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(i.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error("Provided address ".concat(t," is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted."))};t.exports={inputDefaultBlockNumberFormatter:function(t){return s(!this||void 0!==t&&null!==t?t:this.defaultBlock)},inputBlockNumberFormatter:s,inputCallFormatter:function(t){var e=(t=u(t)).from||(this?this.defaultAccount:null);return e&&(t.from=h(e)),t},inputTransactionFormatter:function(t){if("number"!==typeof(t=u(t)).from&&(!t.from||"object"!==typeof t.from)){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&"number"!==typeof t.from)throw new Error('The send transactions "from" field must be defined!');t.from=h(t.from)}return t},inputAddressFormatter:h,inputPostFormatter:function(t){return t.ttl&&(t.ttl=i.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=i.numberToHex(t.workToProve)),t.priority&&(t.priority=i.numberToHex(t.priority)),Array.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map((function(t){return 0===t.indexOf("0x")?t:i.fromUtf8(t)})),t},inputLogFormatter:function(t){var e=function(t){return null===t||"undefined"===typeof t?null:0===(t=String(t)).indexOf("0x")?t:i.fromUtf8(t)};return void 0===t&&(t={}),void 0===t.fromBlock&&(t=n(n({},t),{},{fromBlock:"latest"})),(t.fromBlock||0===t.fromBlock)&&(t.fromBlock=s(t.fromBlock)),(t.toBlock||0===t.toBlock)&&(t.toBlock=s(t.toBlock)),t.topics=t.topics||[],t.topics=t.topics.map((function(t){return Array.isArray(t)?t.map(e):e(t)})),e=null,t.address&&(t.address=Array.isArray(t.address)?t.address.map((function(t){return h(t)})):h(t.address)),t},inputSignFormatter:function(t){return i.isHexStrict(t)?t:i.utf8ToHex(t)},inputStorageKeysFormatter:function(t){return t.map(i.numberToHex)},outputProofFormatter:function(t){return t.address=i.toChecksumAddress(t.address),t.nonce=i.hexToNumberString(t.nonce),t.balance=i.hexToNumberString(t.balance),t},outputBigNumberFormatter:a,outputTransactionFormatter:c,outputTransactionReceiptFormatter:function(t){if("object"!==typeof t)throw new Error("Received receipt is invalid: "+t);return null!==t.blockNumber&&(t.blockNumber=i.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=i.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=i.hexToNumber(t.cumulativeGasUsed),t.gasUsed=i.hexToNumber(t.gasUsed),Array.isArray(t.logs)&&(t.logs=t.logs.map(l)),t.effectiveGasPrice&&(t.effectiveGasPrice=i.hexToNumber(t.effectiveGasPrice)),t.contractAddress&&(t.contractAddress=i.toChecksumAddress(t.contractAddress)),"undefined"!==typeof t.status&&null!==t.status&&(t.status=Boolean(parseInt(t.status))),t},outputBlockFormatter:function(t){return t.gasLimit=i.hexToNumber(t.gasLimit),t.gasUsed=i.hexToNumber(t.gasUsed),t.size=i.hexToNumber(t.size),t.timestamp=i.hexToNumber(t.timestamp),null!==t.number&&(t.number=i.hexToNumber(t.number)),t.difficulty&&(t.difficulty=a(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=a(t.totalDifficulty)),Array.isArray(t.transactions)&&t.transactions.forEach((function(t){if("string"!==typeof t)return c(t)})),t.miner&&(t.miner=i.toChecksumAddress(t.miner)),t.baseFeePerGas&&(t.baseFeePerGas=i.hexToNumber(t.baseFeePerGas)),t},outputLogFormatter:l,outputPostFormatter:function(t){return t.expiry=i.hexToNumber(t.expiry),t.sent=i.hexToNumber(t.sent),t.ttl=i.hexToNumber(t.ttl),t.workProved=i.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map((function(t){return i.toUtf8(t)})),t},outputSyncingFormatter:function(t){return t.startingBlock=i.hexToNumber(t.startingBlock),t.currentBlock=i.hexToNumber(t.currentBlock),t.highestBlock=i.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=i.hexToNumber(t.knownStates),t.pulledStates=i.hexToNumber(t.pulledStates)),t}}},1466:function(t,e,r){var n=r(1380),i=r(1424),o=function(t){var e=typeof t;if("string"===e)return i.isHexStrict(t)?new n(t.replace(/0x/i,""),16):new n(t,10);if("number"===e)return new n(t);if(i.isBigNumber(t))return new n(t.toString(10));if(i.isBN(t))return t;throw new Error(t+" is not a number")},a=function(t,e,r){var a,s,u;if("bytes"===(t=(u=t).startsWith("int[")?"int256"+u.slice(3):"int"===u?"int256":u.startsWith("uint[")?"uint256"+u.slice(4):"uint"===u?"uint256":u.startsWith("fixed[")?"fixed128x128"+u.slice(5):"fixed"===u?"fixed128x128":u.startsWith("ufixed[")?"ufixed128x128"+u.slice(6):"ufixed"===u?"ufixed128x128":u)){if(e.replace(/^0x/i,"").length%2!==0)throw new Error("Invalid bytes characters "+e.length);return e}if("string"===t)return i.utf8ToHex(e);if("bool"===t)return e?"01":"00";if(t.startsWith("address")){if(a=r?64:40,!i.isAddress(e))throw new Error(e+" is not a valid address, or the checksum is invalid.");return i.leftPad(e.toLowerCase(),a)}if(a=function(t){var e=/^\D+(\d+).*$/.exec(t);return e?parseInt(e[1],10):null}(t),t.startsWith("bytes")){if(!a)throw new Error("bytes[] not yet supported in solidity");if(r&&(a=32),a<1||a>32||a<e.replace(/^0x/i,"").length/2)throw new Error("Invalid bytes"+a+" for "+e);return i.rightPad(e,2*a)}if(t.startsWith("uint")){if(a%8||a<8||a>256)throw new Error("Invalid uint"+a+" size");if((s=o(e)).bitLength()>a)throw new Error("Supplied uint exceeds width: "+a+" vs "+s.bitLength());if(s.lt(new n(0)))throw new Error("Supplied uint "+s.toString()+" is negative");return a?i.leftPad(s.toString("hex"),a/8*2):s}if(t.startsWith("int")){if(a%8||a<8||a>256)throw new Error("Invalid int"+a+" size");if((s=o(e)).bitLength()>a)throw new Error("Supplied int exceeds width: "+a+" vs "+s.bitLength());return s.lt(new n(0))?s.toTwos(a).toString("hex"):a?i.leftPad(s.toString("hex"),a/8*2):s}throw new Error("Unsupported or invalid type: "+t)},s=function(t){if(Array.isArray(t))throw new Error("Autodetection of array types is not supported.");var e,r,o="";if(t&&"object"===typeof t&&(t.hasOwnProperty("v")||t.hasOwnProperty("t")||t.hasOwnProperty("value")||t.hasOwnProperty("type"))?(e=t.hasOwnProperty("t")?t.t:t.type,o=t.hasOwnProperty("v")?t.v:t.value):(e=i.toHex(t,!0),o=i.toHex(t),e.startsWith("int")||e.startsWith("uint")||(e="bytes")),!e.startsWith("int")&&!e.startsWith("uint")||"string"!==typeof o||/^(-)?0x/i.test(o)||(o=new n(o)),Array.isArray(o)){if(r=function(t){var e=/^\D+\d*\[(\d+)\]$/.exec(t);return e?parseInt(e[1],10):null}(e),r&&o.length!==r)throw new Error(e+" is not matching the given array "+JSON.stringify(o));r=o.length}return Array.isArray(o)?o.map((function(t){return a(e,t,r).toString("hex").replace("0x","")})).join(""):a(e,o,r).toString("hex").replace("0x","")};t.exports={soliditySha3:function(){var t=Array.prototype.slice.call(arguments),e=t.map(s);return i.sha3("0x"+e.join(""))},soliditySha3Raw:function(){return i.sha3Raw("0x"+Array.prototype.slice.call(arguments).map(s).join(""))},encodePacked:function(){var t=Array.prototype.slice.call(arguments),e=t.map(s);return"0x"+e.join("").toLowerCase()}}},1467:function(t,e,r){"use strict";var n=r(25).default,i=r(26).default,o=r(1364),a=r(1380),s=function(t){var e="A".charCodeAt(0),r="Z".charCodeAt(0);return(t=(t=t.toUpperCase()).slice(4)+t.slice(0,4)).split("").map((function(t){var n=t.charCodeAt(0);return n>=e&&n<=r?n-e+10:t})).join("")},u=function(t){for(var e,r=t;r.length>2;)e=r.slice(0,9),r=parseInt(e,10)%97+r.slice(e.length);return parseInt(r,10)%97},c=function(){function t(e){n(this,t),this._iban=e}return i(t,[{key:"isValid",value:function(){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban)&&1===u(s(this._iban))}},{key:"isDirect",value:function(){return 34===this._iban.length||35===this._iban.length}},{key:"isIndirect",value:function(){return 20===this._iban.length}},{key:"checksum",value:function(){return this._iban.slice(2,4)}},{key:"institution",value:function(){return this.isIndirect()?this._iban.slice(7,11):""}},{key:"client",value:function(){return this.isIndirect()?this._iban.slice(11):""}},{key:"toAddress",value:function(){if(this.isDirect()){var t=this._iban.slice(4),e=new a(t,36);return o.toChecksumAddress(e.toString(16,20))}return""}},{key:"toString",value:function(){return this._iban}}],[{key:"toAddress",value:function(e){if(!(e=new t(e)).isDirect())throw new Error("IBAN is indirect and can't be converted");return e.toAddress()}},{key:"toIban",value:function(e){return t.fromAddress(e).toString()}},{key:"fromAddress",value:function(e){if(!o.isAddress(e))throw new Error("Provided address is not a valid address: "+e);e=e.replace("0x","").replace("0X","");var r=function(t,e){for(var r=t;r.length<2*e;)r="0"+r;return r}(new a(e,16).toString(36),15);return t.fromBban(r.toUpperCase())}},{key:"fromBban",value:function(e){return new t("XE"+("0"+(98-u(s("XE00"+e)))).slice(-2)+e)}},{key:"createIndirect",value:function(e){return t.fromBban("ETH"+e.institution+e.identifier)}},{key:"isValid",value:function(e){return new t(e).isValid()}}]),t}();t.exports=c},1468:function(t,e,r){"use strict";var n=r(1425),i=r(1359).errors,o=function(t){this.requestManager=t,this.requests=[]};o.prototype.add=function(t){this.requests.push(t)},o.prototype.execute=function(){var t=this.requests,e=this._sortResponses.bind(this);this.requestManager.sendBatch(t,(function(r,o){o=e(o),t.map((function(t,e){return o[e]||{}})).forEach((function(e,o){if(t[o].callback){if(e&&e.error)return t[o].callback(i.ErrorResponse(e));if(!n.isValidResponse(e))return t[o].callback(i.InvalidResponse(e));try{t[o].callback(null,t[o].format?t[o].format(e.result):e.result)}catch(r){t[o].callback(r)}}}))}))},o.prototype._sortResponses=function(t){return(t||[]).sort((function(t,e){return t.id-e.id}))},t.exports=o},1469:function(t,e,r){"use strict";var n=null,i="object"===typeof globalThis?globalThis:void 0;if(!i)try{i=Function("return this")()}catch(o){i=self}"undefined"!==typeof i.ethereum?n=i.ethereum:"undefined"!==typeof i.web3&&i.web3.currentProvider&&(i.web3.currentProvider.sendAsync&&(i.web3.currentProvider.send=i.web3.currentProvider.sendAsync,delete i.web3.currentProvider.sendAsync),!i.web3.currentProvider.on&&i.web3.currentProvider.connection&&"ipcProviderWrapper"===i.web3.currentProvider.connection.constructor.name&&(i.web3.currentProvider.on=function(t,e){if("function"!==typeof e)throw new Error("The second parameter callback must be a function.");if("data"===t)this.connection.on("data",(function(t){var r="";t=t.toString();try{r=JSON.parse(t)}catch(o){return e(new Error("Couldn't parse response data"+t))}r.id||-1===r.method.indexOf("_subscription")||e(null,r)}));else this.connection.on(t,e)}),n=i.web3.currentProvider),t.exports=n},1470:function(t,e,r){"use strict";var n=r(289),i=r(1471),o=r(1359).errors,a=r(672).w3cwebsocket,s=function(t,e){n.call(this),e=e||{},this.url=t,this._customTimeout=e.timeout||15e3,this.headers=e.headers||{},this.protocol=e.protocol||void 0,this.reconnectOptions=Object.assign({auto:!1,delay:5e3,maxAttempts:!1,onTimeout:!1},e.reconnect),this.clientConfig=e.clientConfig||void 0,this.requestOptions=e.requestOptions||void 0,this.DATA="data",this.CLOSE="close",this.ERROR="error",this.CONNECT="connect",this.RECONNECT="reconnect",this.connection=null,this.requestQueue=new Map,this.responseQueue=new Map,this.reconnectAttempts=0,this.reconnecting=!1;var r=i.parseURL(t);r.username&&r.password&&(this.headers.authorization="Basic "+i.btoa(r.username+":"+r.password)),r.auth&&(this.headers.authorization="Basic "+i.btoa(r.auth)),Object.defineProperty(this,"connected",{get:function(){return this.connection&&this.connection.readyState===this.connection.OPEN},enumerable:!0}),this.connect()};(s.prototype=Object.create(n.prototype)).constructor=s,s.prototype.connect=function(){this.connection=new a(this.url,this.protocol,void 0,this.headers,this.requestOptions,this.clientConfig),this._addSocketListeners()},s.prototype._onMessage=function(t){var e=this;this._parseResponse("string"===typeof t.data?t.data:"").forEach((function(t){if(t.method&&-1!==t.method.indexOf("_subscription"))e.emit(e.DATA,t);else{var r=t.id;Array.isArray(t)&&(r=t[0].id),e.responseQueue.has(r)&&(void 0!==e.responseQueue.get(r).callback&&e.responseQueue.get(r).callback(!1,t),e.responseQueue.delete(r))}}))},s.prototype._onConnect=function(){if(this.emit(this.CONNECT),this.reconnectAttempts=0,this.reconnecting=!1,this.requestQueue.size>0){var t=this;this.requestQueue.forEach((function(e,r){t.send(e.payload,e.callback),t.requestQueue.delete(r)}))}},s.prototype._onClose=function(t){var e=this;!this.reconnectOptions.auto||[1e3,1001].includes(t.code)&&!1!==t.wasClean?(this.emit(this.CLOSE,t),this.requestQueue.size>0&&this.requestQueue.forEach((function(r,n){r.callback(o.ConnectionNotOpenError(t)),e.requestQueue.delete(n)})),this.responseQueue.size>0&&this.responseQueue.forEach((function(r,n){r.callback(o.InvalidConnection("on WS",t)),e.responseQueue.delete(n)})),this._removeSocketListeners(),this.removeAllListeners()):this.reconnect()},s.prototype._addSocketListeners=function(){this.connection.addEventListener("message",this._onMessage.bind(this)),this.connection.addEventListener("open",this._onConnect.bind(this)),this.connection.addEventListener("close",this._onClose.bind(this))},s.prototype._removeSocketListeners=function(){this.connection.removeEventListener("message",this._onMessage),this.connection.removeEventListener("open",this._onConnect),this.connection.removeEventListener("close",this._onClose)},s.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(t){e.lastChunk&&(t=e.lastChunk+t);var n=null;try{n=JSON.parse(t)}catch(i){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout((function(){e.reconnectOptions.auto&&e.reconnectOptions.onTimeout?e.reconnect():(e.emit(e.ERROR,o.ConnectionTimeout(e._customTimeout)),e.requestQueue.size>0&&e.requestQueue.forEach((function(t,r){t.callback(o.ConnectionTimeout(e._customTimeout)),e.requestQueue.delete(r)})))}),e._customTimeout))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,n&&r.push(n)})),r},s.prototype.send=function(t,e){var r=t.id,n={payload:t,callback:e};if(Array.isArray(t)&&(r=t[0].id),this.connection.readyState===this.connection.CONNECTING||this.reconnecting)this.requestQueue.set(r,n);else{if(this.connection.readyState!==this.connection.OPEN)return this.requestQueue.delete(r),this.emit(this.ERROR,o.ConnectionNotOpenError()),void n.callback(o.ConnectionNotOpenError());this.responseQueue.set(r,n),this.requestQueue.delete(r);try{this.connection.send(JSON.stringify(n.payload))}catch(i){n.callback(i),this.responseQueue.delete(r)}}},s.prototype.reset=function(){this.responseQueue.clear(),this.requestQueue.clear(),this.removeAllListeners(),this._removeSocketListeners(),this._addSocketListeners()},s.prototype.disconnect=function(t,e){this._removeSocketListeners(),this.connection.close(t||1e3,e)},s.prototype.supportsSubscriptions=function(){return!0},s.prototype.reconnect=function(){var t=this;this.reconnecting=!0,this.responseQueue.size>0&&this.responseQueue.forEach((function(e,r){e.callback(o.PendingRequestsOnReconnectingError()),t.responseQueue.delete(r)})),!this.reconnectOptions.maxAttempts||this.reconnectAttempts<this.reconnectOptions.maxAttempts?setTimeout((function(){t.reconnectAttempts++,t._removeSocketListeners(),t.emit(t.RECONNECT,t.reconnectAttempts),t.connect()}),this.reconnectOptions.delay):(this.emit(this.ERROR,o.MaxAttemptsReachedOnReconnectingError()),this.reconnecting=!1,this.requestQueue.size>0&&this.requestQueue.forEach((function(e,r){e.callback(o.MaxAttemptsReachedOnReconnectingError()),t.requestQueue.delete(r)})))},t.exports=s},1471:function(t,e,r){(function(e,n){var i="[object process]"===Object.prototype.toString.call("undefined"!==typeof e?e:0),o="undefined"!==typeof navigator&&"ReactNative"===navigator.product,a=null,s=null;if(i||o){a=function(t){return n.from(t).toString("base64")};var u=r(134);if(u.URL){var c=u.URL;s=function(t){return new c(t)}}else s=r(134).parse}else a=btoa.bind("object"===typeof globalThis?globalThis:self),s=function(t){return new URL(t)};t.exports={parseURL:s,btoa:a}}).call(this,r(17),r(10).Buffer)},1472:function(t,e,r){var n=r(1359).errors,i=r(299).XMLHttpRequest,o=r(290),a=r(405),s=function(t,e){e=e||{},this.withCredentials=e.withCredentials||!1,this.timeout=e.timeout||0,this.headers=e.headers,this.agent=e.agent,this.connected=!1;var r=!1!==e.keepAlive;this.host=t||"http://localhost:8545",this.agent||("https"===this.host.substring(0,5)?this.httpsAgent=new a.Agent({keepAlive:r}):this.httpAgent=new o.Agent({keepAlive:r}))};s.prototype._prepareRequest=function(){var t;if("undefined"!==typeof XMLHttpRequest)t=new XMLHttpRequest;else{t=new i;var e={httpsAgent:this.httpsAgent,httpAgent:this.httpAgent,baseUrl:this.baseUrl};this.agent&&(e.httpsAgent=this.agent.https,e.httpAgent=this.agent.http,e.baseUrl=this.agent.baseUrl),t.nodejsSet(e)}return t.open("POST",this.host,!0),t.setRequestHeader("Content-Type","application/json"),t.timeout=this.timeout,t.withCredentials=this.withCredentials,this.headers&&this.headers.forEach((function(e){t.setRequestHeader(e.name,e.value)})),t},s.prototype.send=function(t,e){var r=this,i=this._prepareRequest();i.onreadystatechange=function(){if(4===i.readyState&&1!==i.timeout){var t=i.responseText,o=null;try{t=JSON.parse(t)}catch(a){o=n.InvalidResponse(i.responseText)}r.connected=!0,e(o,t)}},i.ontimeout=function(){r.connected=!1,e(n.ConnectionTimeout(this.timeout))};try{i.send(JSON.stringify(t))}catch(o){this.connected=!1,e(n.InvalidConnection(this.host))}},s.prototype.disconnect=function(){},s.prototype.supportsSubscriptions=function(){return!1},t.exports=s},1473:function(t,e,r){"use strict";var n=r(1359).errors,i=r(673),o=function(t,e){var r=this;this.responseCallbacks={},this.notificationCallbacks=[],this.path=t,this.connected=!1,this.connection=e.connect({path:this.path}),this.addDefaultEvents();var n=function(t){var e=null;Array.isArray(t)?t.forEach((function(t){r.responseCallbacks[t.id]&&(e=t.id)})):e=t.id,e||-1===t.method.indexOf("_subscription")?r.responseCallbacks[e]&&(r.responseCallbacks[e](null,t),delete r.responseCallbacks[e]):r.notificationCallbacks.forEach((function(e){"function"===typeof e&&e(t)}))};"Socket"===e.constructor.name?i(this.connection).done(n):this.connection.on("data",(function(t){r._parseResponse(t.toString()).forEach(n)}))};o.prototype.addDefaultEvents=function(){var t=this;this.connection.on("connect",(function(){t.connected=!0})),this.connection.on("close",(function(){t.connected=!1})),this.connection.on("error",(function(){t._timeout()})),this.connection.on("end",(function(){t._timeout()})),this.connection.on("timeout",(function(){t._timeout()}))},o.prototype._parseResponse=function(t){var e=this,r=[];return t.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach((function(t){e.lastChunk&&(t=e.lastChunk+t);var i=null;try{i=JSON.parse(t)}catch(o){return e.lastChunk=t,clearTimeout(e.lastChunkTimeout),void(e.lastChunkTimeout=setTimeout((function(){throw e._timeout(),n.InvalidResponse(t)}),15e3))}clearTimeout(e.lastChunkTimeout),e.lastChunk=null,i&&r.push(i)})),r},o.prototype._addResponseCallback=function(t,e){var r=t.id||t[0].id,n=t.method||t[0].method;this.responseCallbacks[r]=e,this.responseCallbacks[r].method=n},o.prototype._timeout=function(){for(var t in this.responseCallbacks)this.responseCallbacks.hasOwnProperty(t)&&(this.responseCallbacks[t](n.InvalidConnection("on IPC")),delete this.responseCallbacks[t])},o.prototype.reconnect=function(){this.connection.connect({path:this.path})},o.prototype.send=function(t,e){this.connection.writable||this.connection.connect({path:this.path}),this.connection.write(JSON.stringify(t)),this._addResponseCallback(t,e)},o.prototype.on=function(t,e){if("function"!==typeof e)throw new Error("The second parameter callback must be a function.");if("data"===t)this.notificationCallbacks.push(e);else this.connection.on(t,e)},o.prototype.once=function(t,e){if("function"!==typeof e)throw new Error("The second parameter callback must be a function.");this.connection.once(t,e)},o.prototype.removeListener=function(t,e){var r=this;if("data"===t)this.notificationCallbacks.forEach((function(t,n){t===e&&r.notificationCallbacks.splice(n,1)}));else this.connection.removeListener(t,e)},o.prototype.removeAllListeners=function(t){if("data"===t)this.notificationCallbacks=[];else this.connection.removeAllListeners(t)},o.prototype.reset=function(){this._timeout(),this.notificationCallbacks=[],this.connection.removeAllListeners("error"),this.connection.removeAllListeners("end"),this.connection.removeAllListeners("timeout"),this.addDefaultEvents()},o.prototype.supportsSubscriptions=function(){return!0},t.exports=o},1474:function(t,e,r){"use strict";var n=r(1359).formatters,i=r(1426),o=r(1364);t.exports=function(t){var e=function(e){var r;return e.property?(t[e.property]||(t[e.property]={}),r=t[e.property]):r=t,e.methods&&e.methods.forEach((function(e){e instanceof i||(e=new i(e)),e.attachToObject(r),e.setRequestManager(t._requestManager)})),t};return e.formatters=n,e.utils=o,e.Method=i,e}},1475:function(t,e,r){"use strict";var n=r(1359).errors,i=r(289),o=r(1359).formatters;function a(t){return t}function s(t){i.call(this),this.id=null,this.callback=a,this.arguments=null,this.lastBlock=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype._extractCallback=function(t){if("function"===typeof t[t.length-1])return t.pop()},s.prototype._validateArgs=function(t){var e=this.options.subscription;if(e||(e={}),e.params||(e.params=0),t.length!==e.params)throw n.InvalidNumberOfParams(t.length,e.params,e.subscriptionName)},s.prototype._formatInput=function(t){var e=this.options.subscription;return e&&e.inputFormatter?e.inputFormatter.map((function(e,r){return e?e(t[r]):t[r]})):t},s.prototype._formatOutput=function(t){var e=this.options.subscription;return e&&e.outputFormatter&&t?e.outputFormatter(t):t},s.prototype._toPayload=function(t){var e=[];if(this.callback=this._extractCallback(t)||a,this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),e.push(this.subscriptionMethod),e=e.concat(this.arguments),t.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:e}},s.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.lastBlock=null,this.removeAllListeners()},s.prototype.subscribe=function(){var t=this,e=Array.prototype.slice.call(arguments),r=this._toPayload(e);if(!r)return this;if(!this.options.requestManager.provider)return setTimeout((function(){var e=new Error("No provider set.");t.callback(e,null,t),t.emit("error",e)}),0),this;if(!this.options.requestManager.provider.on)return setTimeout((function(){var e=new Error("The current provider doesn't support subscriptions: "+t.options.requestManager.provider.constructor.name);t.callback(e,null,t),t.emit("error",e)}),0),this;if(this.lastBlock&&this.options.params&&"object"===typeof this.options.params&&(r.params[1]=this.options.params,r.params[1].fromBlock=o.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=r.params[1],"logs"===r.params[0]&&r.params[1]&&"object"===typeof r.params[1]&&r.params[1].hasOwnProperty("fromBlock")&&isFinite(r.params[1].fromBlock)){var n=Object.assign({},r.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[n]},(function(e,r){e?setTimeout((function(){t.callback(e,null,t),t.emit("error",e)}),0):r.forEach((function(e){var r=t._formatOutput(e);t.callback(null,r,t),t.emit("data",r)}))}))}return"object"===typeof r.params[1]&&delete r.params[1].fromBlock,this.options.requestManager.send(r,(function(e,n){!e&&n?(t.id=n,t.method=r.params[0],t.options.requestManager.addSubscription(t,(function(e,r){e?(t.callback(e,!1,t),t.emit("error",e)):(Array.isArray(r)||(r=[r]),r.forEach((function(e){var r=t._formatOutput(e);if(t.lastBlock=r&&"object"===typeof r?r.blockNumber:null,"function"===typeof t.options.subscription.subscriptionHandler)return t.options.subscription.subscriptionHandler.call(t,r);t.emit("data",r),t.callback(null,r,t)})))})),t.emit("connected",n)):setTimeout((function(){t.callback(e,!1,t),t.emit("error",e)}),0)})),this},s.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)},t.exports=s},1476:function(t,e,r){var n=r(10).Buffer,i=r(1364),o=r(1455).AbiCoder,a=r(1455).ParamType,s=new o((function(t,e){return!t.match(/^u?int/)||Array.isArray(e)||e&&"object"===typeof e&&"BN"===e.constructor.name?e:e.toString()}));function u(){}var c=function(){};c.prototype.encodeFunctionSignature=function(t){return("function"===typeof t||"object"===typeof t&&t)&&(t=i._jsonInterfaceMethodToString(t)),i.sha3(t).slice(0,10)},c.prototype.encodeEventSignature=function(t){return("function"===typeof t||"object"===typeof t&&t)&&(t=i._jsonInterfaceMethodToString(t)),i.sha3(t)},c.prototype.encodeParameter=function(t,e){return this.encodeParameters([t],[e])},c.prototype.encodeParameters=function(t,e){var r=this;return t=r.mapTypes(t),e=e.map((function(e,n){var i=t[n];if("object"===typeof i&&i.type&&(i=i.type),e=r.formatParam(i,e),"string"===typeof i&&i.includes("tuple")){!function t(e,n){if("array"===e.name){if(!e.type.match(/\[(\d+)\]/))return n.map((function(r){return t(s._getCoder(a.from(e.type.replace("[]",""))),r)}));var i=parseInt(e.type.match(/\[(\d+)\]/)[1]);if(n.length!==i)throw new Error("Array length does not matches with the given input");return n.map((function(r){return t(s._getCoder(a.from(e.type.replace(/\[\d+\]/,""))),r)}))}e.coders.forEach((function(e,i){"tuple"===e.name?t(e,n[i]):n[i]=r.formatParam(e.name,n[i])}))}(s._getCoder(a.from(i)),e)}return e})),s.encode(t,e)},c.prototype.mapTypes=function(t){var e=this,r=[];return t.forEach((function(t){if("object"===typeof t&&"function"===t.type&&(t=Object.assign({},t,{type:"bytes24"})),e.isSimplifiedStructFormat(t)){var n=Object.keys(t)[0];r.push(Object.assign(e.mapStructNameAndType(n),{components:e.mapStructToCoderFormat(t[n])}))}else r.push(t)})),r},c.prototype.isSimplifiedStructFormat=function(t){return"object"===typeof t&&"undefined"===typeof t.components&&"undefined"===typeof t.name},c.prototype.mapStructNameAndType=function(t){var e="tuple";return t.indexOf("[]")>-1&&(e="tuple[]",t=t.slice(0,-2)),{type:e,name:t}},c.prototype.mapStructToCoderFormat=function(t){var e=this,r=[];return Object.keys(t).forEach((function(n){"object"!==typeof t[n]?r.push({name:n,type:t[n]}):r.push(Object.assign(e.mapStructNameAndType(n),{components:e.mapStructToCoderFormat(t[n])}))})),r},c.prototype.formatParam=function(t,e){var r=this,o=new RegExp(/^bytes([0-9]*)$/),a=new RegExp(/^bytes([0-9]*)\[\]$/),s=new RegExp(/^(u?int)([0-9]*)$/),u=new RegExp(/^(u?int)([0-9]*)\[\]$/);if(i.isBN(e)||i.isBigNumber(e))return e.toString(10);if(t.match(a)||t.match(u))return e.map((function(e){return r.formatParam(t.replace("[]",""),e)}));var c=t.match(s);if(c){var l=parseInt(c[2]||"256");l/8<e.length&&(e=i.leftPad(e,l))}if(c=t.match(o)){n.isBuffer(e)&&(e=i.toHex(e));var h=parseInt(c[1]);if(h){var d=2*h;"0x"===e.substring(0,2)&&(d+=2),e.length<d&&(e=i.rightPad(e,2*h))}e.length%2===1&&(e="0x0"+e.substring(2))}return e},c.prototype.encodeFunctionCall=function(t,e){return this.encodeFunctionSignature(t)+this.encodeParameters(t.inputs,e).replace("0x","")},c.prototype.decodeParameter=function(t,e){return this.decodeParameters([t],e)[0]},c.prototype.decodeParameters=function(t,e){return this.decodeParametersWith(t,e,!1)},c.prototype.decodeParametersWith=function(t,e,r){if(t.length>0&&(!e||"0x"===e||"0X"===e))throw new Error("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");var n=s.decode(this.mapTypes(t),"0x"+e.replace(/0x/i,""),r),i=new u;return i.__length__=0,t.forEach((function(t,e){var r=n[i.__length__],o="object"===typeof t&&t.type&&"string"===t.type;r="0x"!==r||o||"string"===typeof t&&"string"===t?r:null,i[e]=r,("function"===typeof t||t&&"object"===typeof t)&&t.name&&(i[t.name]=r),i.__length__++})),i},c.prototype.decodeLog=function(t,e,r){var n=this;r=Array.isArray(r)?r:[r],e=e||"";var i=[],o=[],a=0;t.forEach((function(t,e){t.indexed?(o[e]=["bool","int","uint","address","fixed","ufixed"].find((function(e){return-1!==t.type.indexOf(e)}))?n.decodeParameter(t.type,r[a]):r[a],a++):i[e]=t}));var s=e,c=s?this.decodeParametersWith(i,s,!0):[],l=new u;return l.__length__=0,t.forEach((function(t,e){l[e]="string"===t.type?"":null,"undefined"!==typeof c[e]&&(l[e]=c[e]),"undefined"!==typeof o[e]&&(l[e]=o[e]),t.name&&(l[t.name]=l[e]),l.__length__++})),l};var l=new c;t.exports=l},1477:function(t,e,r){"use strict";r.d(e,"a",(function(){return _})),r.d(e,"b",(function(){return b}));var n=r(1),i=r(4),o=(r(71),r(3)),a=r.n(o),s=r(72),u=r.n(s),c=r(77);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=r.n(c).a.getLogger("http-helpers");d.setLevel(c.levels.INFO);var p="torus-default",f="",m=null,v=[],g=[];function b(t){p=t}function y(t,e){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(Object(n.a)().mark((function t(e,r){var i,o,a,s;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=null;try{i=new URL(e)}catch(n){}if(!m||!i||!v.includes(i.origin)&&!g.includes(i.pathname)){t.next=11;break}return o=m.startTransaction({name:e}),a=o.startChild({op:"http"}),t.next=7,fetch(e,r);case 7:return s=t.sent,a.finish(),o.finish(),t.abrupt("return",s);case 11:return t.abrupt("return",fetch(e,r));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){var t={};return p&&(t["x-api-key"]=p),f&&(t["x-embed-host"]=f),t}function O(t){d.info("Response: ".concat(t.status," ").concat(t.statusText)),d.info("Url: ".concat(t.url))}var _=function(){var t=Object(i.a)(Object(n.a)().mark((function t(e){var r,i,o,a,s,c=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},i=c.length>2&&void 0!==c[2]?c[2]:{},o={mode:"cors",headers:{}},i.useAPIKey&&(o.headers=h(h({},o.headers),k())),a=u()(o,r,{method:"GET"}),t.next=7,y(e,a);case 7:if(!(s=t.sent).ok){t.next=10;break}return t.abrupt("return",s.json());case 10:throw O(s),s;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},1478:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return U}));var n=r(1),i=r(4),o=r(71),a=r(8),s=r(7),u=r(9),c=r(13),l=r(14),h=r(133),d=r(3),p=r.n(d),f=r(88),m=r(1479),v=r(1380),g=r.n(v),b=r(92),y=r(137),w=r.n(y),k=r(1364),O=r(77),_=r.n(O),x=r(135),j=r.n(x),E=_.a.getLogger("torus.js");E.disableAll();var M=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){var n;Object(s.a)(this,r);var i=t.errors,o=t.responses,a=t.predicate;return n=e.call(this,"Unable to resolve enough promises."),p()(Object(u.a)(n),"errors",void 0),p()(Object(u.a)(n),"responses",void 0),p()(Object(u.a)(n),"predicate",void 0),n.errors=i,n.responses=o,n.predicate=a,n}return Object(a.a)(r)}(Object(h.a)(Error)),A=function(t,e){return new Promise((function(r,n){var i,o=0,a={resolved:!1},s=new Array(t.length).fill(void 0),u=new Array(t.length).fill(void 0);return t.forEach((function(c,l){return c.then((function(t){u[l]=t})).catch((function(t){s[l]=t})).finally((function(){if(!a.resolved)return e(u.slice(0),a).then((function(t){a.resolved=!0,r(t)})).catch((function(t){i=t})).finally((function(){if((o+=1)===t.length){var e=Object.values(u.reduce((function(t,e){if(e){var r,n=e.id,i=e.error;(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.length)>0&&(i.data.startsWith("Error occurred while verifying params")?t[n]=(o=i.data).charAt(0).toUpperCase()+o.slice(1):t[n]=i.data)}var o;return t}),{}));if(e.length>0){var r=e.length>1?"\n".concat(e.map((function(t){return"\u2022 ".concat(t)})).join("\n")):e[0];n(new Error(r))}else{var a;n(new M({errors:s,responses:u,predicate:(null===(a=i)||void 0===a?void 0:a.message)||i}))}}}))}))}))}))};function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(){return Object(s.a)(this,r),e.apply(this,arguments)}return Object(a.a)(r)}(Object(h.a)(Error)),T=function t(e,r){var n=e;if("number"===typeof n&&(n=Array.from({length:n},(function(t,e){return e}))),r>n.length||r<=0)return[];if(r===n.length)return[n];if(1===r)return n.reduce((function(t,e){return[].concat(Object(o.a)(t),[[e]])}),[]);for(var i=[],a=[],s=0;s<=n.length-r+1;s+=1){a=t(n.slice(s+1),r-1);for(var u=0;u<a.length;u+=1)i.push([n[s]].concat(Object(o.a)(a[u])))}return i},N=function(t,e){for(var r={},n=0;n<t.length;n+=1){var i=w()(t[n]);if(r[i]=r[i]?r[i]+1:1,r[i]===e)return t[n]}},I=function(){var t=Object(i.a)(Object(n.a)().mark((function t(e,r,i){var o;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.map((function(t){return Object(m.c)(t,Object(m.a)("VerifierLookupRequest",{verifier:r,verifier_id:i.toString()})).catch((function(t){return E.error("lookup request failed",t)}))})),t.abrupt("return",A(o,(function(t){var r=t.filter((function(t){return t})),n=N(r.map((function(t){return t&&t.error})),1+~~(e.length/2)),i=N(r.map((function(t){return t&&t.result})),1+~~(e.length/2));return i||n?Promise.resolve({keyResult:i,errorResult:n}):Promise.reject(new Error("invalid results ".concat(JSON.stringify(t))))})));case 2:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),R=function(t,e,r,n){return new Promise((function(i,o){setTimeout((function(){I(t,e,r).then(i).catch(o)}),n)}))},D=function(){var t=Object(i.a)(Object(n.a)().mark((function t(e){var r,i,o,a,s,u,c,l,h,d,p,f;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.endpoints,i=e.torusNodePubs,o=e.lastPoint,a=e.firstPoint,s=e.verifier,u=e.verifierId,c=e.signerHost,l=e.network,void 0===o?(h=Math.floor(Math.random()*r.length),d=h):h=o%r.length,h!==a){t.next=4;break}throw new Error("Looped through all");case 4:return void 0!==a&&(d=a),p=Object(m.a)("KeyAssign",{verifier:s,verifier_id:u.toString()}),t.prev=6,t.next=9,Object(m.c)(c,p,{headers:{pubKeyX:i[h].X,pubKeyY:i[h].Y,network:l}},{useAPIKey:!0});case 9:return f=t.sent,t.next=12,Object(m.c)(r[h],P(P({},p),f),{headers:{"Content-Type":"application/json; charset=utf-8"}});case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(6),E.error(t.t0),!["Timed out","TypeError: Failed to fetch","TypeError: cancelled","TypeError: NetworkError when attempting to fetch resource."].includes(t.t0.message)){t.next=21;break}return t.abrupt("return",D({endpoints:r,torusNodePubs:i,lastPoint:h+1,firstPoint:d,verifier:s,verifierId:u,signerHost:c,network:l}));case 21:throw new Error("Sorry, the Torus Network that powers Web3Auth is currently very busy.\n    We will generate your key in time. Pls try again later. \n\n    ".concat(t.t0.message||""));case 22:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}();function B(t){var e=j()("keccak256").update(t).digest().toString("hex");return"0x".concat(e)}function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var U=function(){function e(){Object(s.a)(this,e);var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.enableOneKey,n=void 0!==r&&r,i=t.metadataHost,o=void 0===i?"https://metadata.tor.us":i,a=t.allowHost,u=void 0===a?"https://signer.tor.us/api/allow":a,c=t.signerHost,l=void 0===c?"https://signer.tor.us/api/sign":c,h=t.serverTimeOffset,d=void 0===h?0:h,f=t.network,m=void 0===f?"mainnet":f;p()(this,"metadataHost",void 0),p()(this,"allowHost",void 0),p()(this,"serverTimeOffset",void 0),p()(this,"enableOneKey",void 0),p()(this,"signerHost",void 0),p()(this,"network",void 0),p()(this,"ec",void 0),this.ec=new b.ec("secp256k1"),this.metadataHost=o,this.allowHost=u,this.enableOneKey=n,this.serverTimeOffset=d||0,this.signerHost=l,this.network=m}return Object(a.a)(e,[{key:"getUserTypeAndAddress",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e,r,i){var o,a,s,u,c,l,h,d,p,f,m,v,b,y,w,k,O,_,x=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.verifier,a=i.verifierId,s=x.length>3&&void 0!==x[3]&&x[3],t.next=4,I(e,o,a);case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:if(u=t.t0,c=u.keyResult,l=u.errorResult,h=!1,!l||!JSON.stringify(l).includes("Verifier + VerifierID has not yet been assigned")){t.next=23;break}if(s){t.next=14;break}throw new Error("Verifier + VerifierID has not yet been assigned");case 14:return t.next=16,D({endpoints:e,torusNodePubs:r,lastPoint:void 0,firstPoint:void 0,verifier:o,verifierId:a,signerHost:this.signerHost,network:this.network});case 16:return t.next=18,R(e,o,a,1e3);case 18:p=t.sent,d=null===p||void 0===p?void 0:p.keyResult,h=!0,t.next=28;break;case 23:if(!c){t.next=27;break}d=c,t.next=28;break;case 27:throw new Error("node results do not match at first lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(l||{})));case 28:if(!d){t.next=58;break}return f=d.keys[0],m=f.pub_key_X,v=f.pub_key_Y,t.prev=30,t.next=33,this.getOrSetNonce(m,v,void 0,!h);case 33:b=t.sent,y=new g.a(b.nonce||"0",16),t.next=40;break;case 37:throw t.prev=37,t.t1=t.catch(30),new C;case 40:if("v1"!==b.typeOfUser){t.next=44;break}w=this.ec.keyFromPublic({x:m,y:v}).getPublic().add(this.ec.keyFromPrivate(y.toString(16)).getPublic()),t.next=49;break;case 44:if("v2"!==b.typeOfUser){t.next=48;break}w=this.ec.keyFromPublic({x:m,y:v}).getPublic().add(this.ec.keyFromPublic({x:b.pubNonce.x,y:b.pubNonce.y}).getPublic()),t.next=49;break;case 48:throw new Error("getOrSetNonce should always return typeOfUser.");case 49:if(k=w.getX().toString(16),O=w.getY().toString(16),_=this.generateAddressFromPubKey(w.getX(),w.getY()),"v1"!==b.typeOfUser){t.next=56;break}return t.abrupt("return",{typeOfUser:b.typeOfUser,nonce:y,X:k,Y:O,address:_});case 56:if("v2"!==b.typeOfUser){t.next=58;break}return t.abrupt("return",{typeOfUser:b.typeOfUser,nonce:y,pubNonce:b.pubNonce,upgraded:b.upgraded,X:k,Y:O,address:_});case 58:throw new Error("node results do not match at final lookup ".concat(JSON.stringify(c||{}),", ").concat(JSON.stringify(l||{})));case 59:case"end":return t.stop()}}),t,this,[[30,37]])})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"setCustomKey",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e){var r,i,o,a,s,u,c,l,h;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.privKeyHex,i=e.metadataNonce,o=e.torusKeyHex,a=e.customKeyHex,o?s=new g.a(o,16):(u=new g.a(r,16),s=u.sub(i).umod(this.ec.curve.n)),c=new g.a(a,16),l=c.sub(s).umod(this.ec.curve.n),h=this.generateMetadataParams(l.toString(16),s),t.next=7,this.setMetadata(h);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"retrieveShares",value:function(){var e=Object(i.a)(Object(n.a)().mark((function e(r,o,a,s,u){var c,l,h,d,p,v,b,y,w,k=this,O=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=O.length>5&&void 0!==O[5]?O[5]:{},l=[],e.next=4,Object(m.b)(this.allowHost,{headers:{verifier:a,verifier_id:s.verifier_id,network:this.network}},{useAPIKey:!0});case 4:for(h=Object(f.generatePrivate)(),d=Object(f.getPublic)(h).toString("hex"),p=d.slice(2,66),v=d.slice(66),b=B(u),y=0;y<r.length;y+=1)w=Object(m.c)(r[y],Object(m.a)("CommitmentRequest",{messageprefix:"mug00",tokencommitment:b.slice(2),temppubx:p,temppuby:v,verifieridentifier:a})).catch((function(t){E.error("commitment",t)})),l.push(w);return e.abrupt("return",A(l,(function(t){return t.filter((function(t){return!(!t||"object"!==typeof t)&&!t.error})).length>=3*~~(r.length/4)+1?Promise.resolve(t):Promise.reject(new Error("invalid ".concat(JSON.stringify(t))))})).then((function(e){for(var l=[],d=[],p=0;p<e.length;p+=1)e[p]&&d.push(e[p].result);for(var v=0;v<r.length;v+=1){var b=Object(m.c)(r[v],Object(m.a)("ShareRequest",{encrypted:"yes",item:[F(F({},s),{},{idtoken:u,nodesignatures:d,verifieridentifier:a},c)]})).catch((function(t){return E.error("share req",t)}));l.push(b)}return A(l,function(){var e=Object(i.a)(Object(n.a)().mark((function e(i,a){var s,u,c,l,d,p,m,v,b,y,w,O,_,x,j,M,A;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.filter((function(t){return t})),u=N(i.map((function(t){return t&&t.result&&t.result.keys[0].PublicKey})),1+~~(r.length/2)),!(s.length>=1+~~(r.length/2)&&u)){e.next=28;break}for(c=[],l=[],d=0;d<i.length;d+=1)(null===(v=i[d])||void 0===v||null===(p=v.result)||void 0===p||null===(m=p.keys)||void 0===m?void 0:m.length)>0?(v.result.keys.sort((function(t,e){return new g.a(t.Index,16).cmp(new g.a(e.Index,16))})),(b=v.result.keys[0]).Metadata?(y={ephemPublicKey:t.from(b.Metadata.ephemPublicKey,"hex"),iv:t.from(b.Metadata.iv,"hex"),mac:t.from(b.Metadata.mac,"hex")},c.push(Object(f.decrypt)(h,F(F({},y),{},{ciphertext:t.from(t.from(b.Share,"base64").toString("binary").padStart(64,"0"),"hex")})).catch((function(t){return E.debug("share decryption",t)})))):c.push(Promise.resolve(t.from(b.Share.padStart(64,"0"),"hex")))):c.push(Promise.resolve(void 0)),l.push(new g.a(o[d],16));return e.next=8,Promise.all(c);case 8:if(w=e.sent,!a.resolved){e.next=11;break}return e.abrupt("return",void 0);case 11:O=w.reduce((function(t,e,r){return e&&t.push({index:l[r],value:new g.a(e)}),t}),[]),_=T(O.length,1+~~(r.length/2)),x=null,j=function(e){var r=_[e],n=O.filter((function(t,e){return r.includes(e)})),i=n.map((function(t){return t.value})),o=n.map((function(t){return t.index})),a=k.lagrangeInterpolation(i,o);if(!a)return"continue";var s=Object(f.getPublic)(t.from(a.toString(16,64),"hex")).toString("hex"),c=s.slice(2,66),l=s.slice(66);return 0===new g.a(c,16).cmp(new g.a(u.X,16))&&0===new g.a(l,16).cmp(new g.a(u.Y,16))?(x=a,"break"):void 0},M=0;case 16:if(!(M<_.length)){e.next=25;break}if("continue"!==(A=j(M))){e.next=20;break}return e.abrupt("continue",22);case 20:if("break"!==A){e.next=22;break}return e.abrupt("break",25);case 22:M+=1,e.next=16;break;case 25:if(void 0!==x&&null!==x){e.next=27;break}throw new Error("could not derive private key");case 27:return e.abrupt("return",x);case 28:throw new Error("invalid");case 29:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())})).then(function(){var e=Object(i.a)(Object(n.a)().mark((function e(r){var i,o,a,s,u,c,l,h;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r){e.next=3;break}throw new Error("Invalid private key returned");case 3:if(o=Object(f.getPublic)(t.from(i.toString(16,64),"hex")).toString("hex"),a=o.slice(2,66),s=o.slice(66),!k.enableOneKey){e.next=14;break}return e.next=9,k.getNonce(a,s,i);case 9:c=e.sent,l=c.nonce,u=new g.a(l||"0",16),e.next=17;break;case 14:return e.next=16,k.getMetadata({pub_key_X:a,pub_key_Y:s});case 16:u=e.sent;case 17:return E.debug("> torus.js/retrieveShares",{privKey:i.toString(16),metadataNonce:u.toString(16)}),i=i.add(u).umod(k.ec.curve.n),h=k.generateAddressFromPrivKey(i),E.debug("> torus.js/retrieveShares",{ethAddress:h,privKey:i.toString(16)}),e.abrupt("return",{ethAddress:h,privKey:i.toString("hex",64),metadataNonce:u});case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}()},{key:"getMetadata",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e){var r,i,o=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},t.prev=1,t.next=4,Object(m.c)("".concat(this.metadataHost,"/get"),e,r,{useAPIKey:!0});case 4:if((i=t.sent)&&i.message){t.next=7;break}return t.abrupt("return",new g.a(0));case 7:return t.abrupt("return",new g.a(i.message,16));case 10:return t.prev=10,t.t0=t.catch(1),E.error("get metadata error",t.t0),t.abrupt("return",new g.a(0));case 14:case"end":return t.stop()}}),t,this,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"generateMetadataParams",value:function(e,r){var n=this.ec.keyFromPrivate(r.toString("hex",64)),i={data:e,timestamp:new g.a(~~(this.serverTimeOffset+Date.now()/1e3)).toString(16)},o=n.sign(B(w()(i)).slice(2));return{pub_key_X:n.getPublic().getX().toString("hex"),pub_key_Y:n.getPublic().getY().toString("hex"),set_data:i,signature:t.from(o.r.toString(16,64)+o.s.toString(16,64)+new g.a("").toString(16,2),"hex").toString("base64")}}},{key:"setMetadata",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e){var r,i,o=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},t.prev=1,t.next=4,Object(m.c)("".concat(this.metadataHost,"/set"),e,r,{useAPIKey:!0});case 4:return i=t.sent,t.abrupt("return",i.message);case 8:return t.prev=8,t.t0=t.catch(1),E.error("set metadata error",t.t0),t.abrupt("return","");case 12:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"lagrangeInterpolation",value:function(t,e){if(t.length!==e.length)return null;for(var r=new g.a(0),n=0;n<t.length;n+=1){for(var i=new g.a(1),o=new g.a(1),a=0;a<t.length;a+=1)if(n!==a){i=(i=i.mul(e[a].neg())).umod(this.ec.curve.n);var s=e[n].sub(e[a]);s=s.umod(this.ec.curve.n),o=o.mul(s).umod(this.ec.curve.n)}var u=i.mul(o.invm(this.ec.curve.n)).umod(this.ec.curve.n);u=u.mul(t[n]).umod(this.ec.curve.n),r=r.add(u)}return r.umod(this.ec.curve.n)}},{key:"generateAddressFromPrivKey",value:function(e){var r=this.ec.keyFromPrivate(e.toString("hex",64),"hex").getPublic().encode("hex",!1).slice(2);E.info(r,"public key");var n="0x".concat(B(t.from(r,"hex")).slice(26));return Object(k.toChecksumAddress)(n)}},{key:"generateAddressFromPubKey",value:function(e,r){var n=this.ec.keyFromPublic({x:e.toString("hex",64),y:r.toString("hex",64)}),i=n.getPublic().encode("hex",!1).slice(2);E.info(n.getPublic().encode("hex",!1),"public key");var o="0x".concat(B(t.from(i,"hex")).slice(26));return Object(k.toChecksumAddress)(o)}},{key:"getPublicAddress",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e,r,i){var o,a,s,u,c,l,h,d,p,f,m,v,b,y,w,k,O,_,x,j=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.verifier,a=i.verifierId,s=j.length>3&&void 0!==j[3]&&j[3],E.debug("> torus.js/getPublicAddress",{endpoints:e,torusNodePubs:r,verifier:o,verifierId:a,isExtended:s}),c=!1,t.next=6,I(e,o,a);case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0={};case 9:if(l=t.t0,h=l.keyResult,!(d=l.errorResult)||!JSON.stringify(d).includes("Verifier not supported")){t.next=16;break}throw new Error("Verifier not supported. Check if you: \n\n      1. Are on the right network (Torus testnet/mainnet) \n\n      2. Have setup a verifier on dashboard.web3auth.io?");case 16:if(!d||!JSON.stringify(d).includes("Verifier + VerifierID has not yet been assigned")){t.next=26;break}return t.next=19,D({endpoints:e,torusNodePubs:r,lastPoint:void 0,firstPoint:void 0,verifier:o,verifierId:a,signerHost:this.signerHost,network:this.network});case 19:return t.next=21,R(e,o,a,1e3);case 21:p=t.sent,u=null===p||void 0===p?void 0:p.keyResult,c=!0,t.next=31;break;case 26:if(!h){t.next=30;break}u=h,t.next=31;break;case 30:throw new Error("node results do not match at first lookup ".concat(JSON.stringify(h||{}),", ").concat(JSON.stringify(d||{})));case 31:if(E.debug("> torus.js/getPublicAddress",{finalKeyResult:u,isNewKey:c}),!u){t.next=69;break}if(m=u.keys[0],v=m.pub_key_X,b=m.pub_key_Y,!this.enableOneKey){t.next=57;break}return t.prev=35,t.next=38,this.getOrSetNonce(v,b,void 0,!c);case 38:y=t.sent,w=new g.a(y.nonce||"0",16),O=y.typeOfUser,t.next=46;break;case 43:throw t.prev=43,t.t1=t.catch(35),new C;case 46:if("v1"!==y.typeOfUser){t.next=50;break}k=this.ec.keyFromPublic({x:v,y:b}).getPublic().add(this.ec.keyFromPrivate(w.toString(16)).getPublic()),t.next=55;break;case 50:if("v2"!==y.typeOfUser){t.next=54;break}y.upgraded?k=this.ec.keyFromPublic({x:v,y:b}).getPublic():(k=this.ec.keyFromPublic({x:v,y:b}).getPublic().add(this.ec.keyFromPublic({x:y.pubNonce.x,y:y.pubNonce.y}).getPublic()),_=y.pubNonce),t.next=55;break;case 54:throw new Error("getOrSetNonce should always return typeOfUser.");case 55:t.next=62;break;case 57:return O="v1",t.next=60,this.getMetadata({pub_key_X:v,pub_key_Y:b});case 60:w=t.sent,k=this.ec.keyFromPublic({x:v,y:b}).getPublic().add(this.ec.keyFromPrivate(w.toString(16)).getPublic());case 62:if(v=k.getX().toString(16),b=k.getY().toString(16),x=this.generateAddressFromPubKey(k.getX(),k.getY()),E.debug("> torus.js/getPublicAddress",{X:v,Y:b,address:x,typeOfUser:O,nonce:null===(f=w)||void 0===f?void 0:f.toString(16),pubNonce:_}),s){t.next=68;break}return t.abrupt("return",x);case 68:return t.abrupt("return",{typeOfUser:O,address:x,X:v,Y:b,metadataNonce:w,pubNonce:_});case 69:throw new Error("node results do not match at final lookup ".concat(JSON.stringify(h||{}),", ").concat(JSON.stringify(d||{})));case 70:case"end":return t.stop()}}),t,this,[[35,43]])})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"getOrSetNonce",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e,r,i){var o,a,s,u=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>3&&void 0!==u[3]&&u[3],s=o?"getNonce":"getOrSetNonce",a=i?this.generateMetadataParams(s,i):{pub_key_X:e,pub_key_Y:r,set_data:{data:s}},t.abrupt("return",Object(m.c)("".concat(this.metadataHost,"/get_or_set_nonce"),a,void 0,{useAPIKey:!0}));case 4:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"getNonce",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e,r,i){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getOrSetNonce(e,r,i,!0));case 1:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"getPostboxKeyFrom1OutOf1",value:function(t,e){var r=new g.a(t,16),n=new g.a(e,16);return r.sub(n).umod(this.ec.curve.n).toString("hex")}}],[{key:"enableLogging",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?E.enableAll():E.disableAll()}},{key:"setAPIKey",value:function(t){Object(m.d)(t)}},{key:"setEmbedHost",value:function(t){Object(m.e)(t)}},{key:"isGetOrSetNonceError",value:function(t){return t instanceof C}}]),e}()}).call(this,r(10).Buffer)},1479:function(t,e,r){"use strict";r.d(e,"a",(function(){return O})),r.d(e,"b",(function(){return w})),r.d(e,"c",(function(){return k})),r.d(e,"d",(function(){return v})),r.d(e,"e",(function(){return m}));var n=r(1),i=r(4),o=r(3),a=r.n(o),s=r(72),u=r.n(s),c=r(77);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){a()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=r.n(c).a.getLogger("http-helpers");d.setLevel(c.levels.INFO);var p="torus-default",f="";function m(t){f=t}function v(t){p=t}function g(){var t={};return p&&(t["x-api-key"]=p),f&&(t["x-embed-host"]=f),t}function b(t){d.info("Response: ".concat(t.status," ").concat(t.statusText)),d.info("Url: ".concat(t.url))}var y=function(t,e){var r=new Promise((function(e,r){var n=setTimeout((function(){clearTimeout(n),r(new Error("Timed out in ".concat(t,"ms")))}),t)}));return Promise.race([e,r])},w=function(){var t=Object(i.a)(Object(n.a)().mark((function t(e){var r,i,o,a,s,c=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},i=c.length>2&&void 0!==c[2]?c[2]:{},o={mode:"cors",headers:{}},i.useAPIKey&&(o.headers=h(h({},o.headers),g())),a=u()(o,r,{method:"GET"}),t.next=7,fetch(e,a);case 7:if(!(s=t.sent).ok){t.next=10;break}return t.abrupt("return",s.json());case 10:throw b(s),s;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=h(h({},i.headers),g()));var o=u()(i,r,{method:"POST"});return n.isUrlEncodedData?(o.body=e,"application/json; charset=utf-8"===o.headers["Content-Type"]&&delete o.headers["Content-Type"]):o.body=JSON.stringify(e),y(n.timeout||6e4,fetch(t,o).then((function(t){if(t.ok)return t.json();throw b(t),t})))},O=function(t,e){return{jsonrpc:"2.0",method:t,id:10,params:e}}},1621:function(t,e,r){"use strict";r.r(e),r.d(e,"TorusWalletAdapter",(function(){return b}));var n=r(1),i=r(4),o=r(7),a=r(8),s=r(9),u=r(58),c=r(45),l=r(13),h=r(14),d=r(3),p=r.n(d),f=r(1458),m=r(6);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){p()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=function(t){Object(l.a)(r,t);var e=Object(h.a)(r);function r(){var t;Object(o.a)(this,r);var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=e.call(this),p()(Object(s.a)(t),"name",m.j.TORUS_EVM),p()(Object(s.a)(t),"adapterNamespace",m.c.EIP155),p()(Object(s.a)(t),"currentChainNamespace",m.g.EIP155),p()(Object(s.a)(t),"type",m.a.EXTERNAL),p()(Object(s.a)(t),"status",m.d.NOT_READY),p()(Object(s.a)(t),"torusInstance",null),p()(Object(s.a)(t),"torusWalletOptions",void 0),p()(Object(s.a)(t),"initParams",void 0),p()(Object(s.a)(t),"loginSettings",{}),p()(Object(s.a)(t),"rehydrated",!1),t.torusWalletOptions=n.adapterSettings||{},t.initParams=n.initParams||{},t.loginSettings=n.loginSettings||{},t.chainConfig=n.chainConfig||null,t}return Object(a.a)(r,[{key:"provider",get:function(){return this.status===m.d.CONNECTED&&this.torusInstance?this.torusInstance.provider:null},set:function(t){throw new Error("Not implemented")}},{key:"init",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(e){var i,o,a,s,l,h,d,p,v;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(u.a)(Object(c.a)(r.prototype),"checkInitializationRequirements",this).call(this),this.chainConfig?(l=this.chainConfig,h=l.chainId,d=l.blockExplorer,p=l.displayName,v=l.rpcTarget,i={chainId:parseInt(h,16),host:v,blockExplorer:d,networkName:p}):(this.chainConfig=Object(m.n)(m.g.EIP155,1),o=this.chainConfig,a=o.blockExplorer,s=o.displayName,i={chainId:1,host:"mainnet",blockExplorer:a,networkName:s}),this.torusInstance=new f.a(this.torusWalletOptions),m.p.debug("initializing torus evm adapter init"),t.next=6,this.torusInstance.init(g(g({showTorusButton:!1},this.initParams),{},{network:i}));case 6:if(this.status=m.d.READY,this.emit(m.b.READY,m.j.TORUS_EVM),t.prev=8,m.p.debug("initializing torus evm adapter"),!e.autoConnect){t.next=14;break}return this.rehydrated=!0,t.next=14,this.connect();case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(8),m.p.error("Failed to connect with torus evm provider",t.t0),this.emit(m.b.ERRORED,t.t0);case 20:case"end":return t.stop()}}),t,this,[[8,16]])})));return function(e){return t.apply(this,arguments)}}()},{key:"connect",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(){var e,i,o,a,s,l,h,d,p,f;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(u.a)(Object(c.a)(r.prototype),"checkConnectionRequirements",this).call(this),this.torusInstance){t.next=3;break}throw m.k.notReady("Torus wallet is not initialized");case 3:return this.status=m.d.CONNECTING,this.emit(m.b.CONNECTING,{adapter:m.j.TORUS_EVM}),t.prev=5,t.next=8,this.torusInstance.login(this.loginSettings);case 8:if(!(e=this.torusInstance.provider.chainId)||parseInt(e)===parseInt(this.chainConfig.chainId,16)){t.next=19;break}return i=this.chainConfig,o=i.chainId,a=i.blockExplorer,s=i.displayName,l=i.rpcTarget,h=i.ticker,d=i.tickerName,p={chainId:o,host:l,blockExplorerUrl:a,networkName:s,tickerName:d,ticker:h,logo:""},t.next=14,this.torusInstance.setProvider(g({},p));case 14:return t.next=16,this.torusInstance.ethereum.request({method:"eth_chainId"});case 16:if(!(f=t.sent)||parseInt(f)===parseInt(this.chainConfig.chainId,16)){t.next=19;break}throw m.k.fromCode(5e3,"Not connected to correct chainId. Expected: ".concat(this.chainConfig.chainId,", Current: ").concat(f));case 19:return this.status=m.d.CONNECTED,this.torusInstance.showTorusButton(),this.emit(m.d.CONNECTED,{adapter:m.j.TORUS_EVM,reconnected:this.rehydrated}),t.abrupt("return",this.provider);case 25:throw t.prev=25,t.t0=t.catch(5),this.status=m.d.READY,this.rehydrated=!1,this.emit(m.d.ERRORED,t.t0),t.t0 instanceof m.m?t.t0:m.l.connectionError("Failed to login with torus wallet");case 31:case"end":return t.stop()}}),t,this,[[5,25]])})));return function(){return t.apply(this,arguments)}}()},{key:"disconnect",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(){var e,r=arguments;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:{cleanup:!1},this.status===m.d.CONNECTED){t.next=3;break}throw m.l.notConnectedError("Not connected with wallet");case 3:if(this.torusInstance){t.next=5;break}throw m.k.notReady("Torus wallet is not initialized");case 5:return t.next=7,this.torusInstance.logout();case 7:this.torusInstance.hideTorusButton(),e.cleanup?(this.status=m.d.NOT_READY,this.torusInstance=null):this.status=m.d.READY,this.rehydrated=!1,this.emit(m.b.DISCONNECTED);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var t=Object(i.a)(Object(n.a)().mark((function t(){var e;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.status===m.d.CONNECTED){t.next=2;break}throw m.l.notConnectedError("Not connected with wallet");case 2:if(this.torusInstance){t.next=4;break}throw m.k.notReady("Torus wallet is not initialized");case 4:return t.next=6,this.torusInstance.getUserInfo("");case 6:return e=t.sent,t.abrupt("return",e);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setAdapterSettings",value:function(t){}}]),r}(m.e)}}]);
//# sourceMappingURL=8.4dcf0ac1.chunk.js.map