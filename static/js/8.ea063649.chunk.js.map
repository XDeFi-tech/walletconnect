{"version":3,"sources":["../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-helpers/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-utils/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/bn.js/lib/bn.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-utils/lib/utils.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-requestmanager/lib/jsonrpc.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-method/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-promievent/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-subscriptions/lib/index.js","../../src.ts/_version.ts","../../src.ts/fragments.ts","../../../src.ts/coders/abstract-coder.ts","../../../src.ts/coders/address.ts","../../../src.ts/coders/anonymous.ts","../../../src.ts/coders/array.ts","../../../src.ts/coders/boolean.ts","../../../src.ts/coders/bytes.ts","../../../src.ts/coders/fixed-bytes.ts","../../../src.ts/coders/null.ts","../../../src.ts/coders/number.ts","../../../src.ts/coders/string.ts","../../../src.ts/coders/tuple.ts","../../src.ts/abi-coder.ts","../../src.ts/interface.ts","../../src/interfaces.ts","../../src/supportedCurrencies.ts","../../src/config.ts","../../src/embedUtils.ts","../../src/loglevel.ts","../../src/messages.ts","../../src/utils.ts","../../src/inpage-provider.ts","../../src/integrity.ts","../../src/PopupHandler.ts","../../src/siteMetadata.ts","../../src/embed.ts","../../src/nodeDetailManager.ts","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-eth-contract/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-requestmanager/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-helpers/lib/errors.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-helpers/lib/formatters.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-utils/lib/soliditySha3.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-eth-iban/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-requestmanager/lib/batch.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-requestmanager/lib/givenProvider.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-providers-ws/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-providers-ws/lib/helpers.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-providers-http/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-providers-ipc/lib/index.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core/lib/extend.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-core-subscriptions/lib/subscription.js","../node_modules/@web3auth/torus-evm-adapter/node_modules/web3-eth-abi/lib/index.js","../../src/index.ts","../../src/some.ts","../../src/torus.ts","../../src/torusWalletAdapter.ts"],"names":["errors","require","formatters","module","exports","ethjsUnit","utils","soliditySha3","randombytes","BN","_flattenTypes","includeTuple","puts","types","forEach","param","components","type","substring","Error","suffix","arrayBracket","indexOf","result","Array","isArray","push","join","hexToAscii","hex","isHexStrict","str","i","l","length","code","parseInt","slice","String","fromCharCode","asciiToHex","n","charCodeAt","toString","getUnitValue","unit","toLowerCase","unitMap","JSON","stringify","_fireError","error","emitter","reject","callback","optionalData","data","message","listeners","catch","setTimeout","emit","removeAllListeners","_jsonInterfaceMethodToString","json","name","inputs","randomHex","size","isBN","isBigNumber","isHex","sha3","sha3Raw","keccak256","soliditySha3Raw","encodePacked","isAddress","checkAddressChecksum","toChecksumAddress","address","test","replace","addressHash","checksumAddress","toUpperCase","toHex","toBN","bytesToHex","hexToBytes","hexToNumberString","hexToNumber","toDecimal","numberToHex","fromDecimal","hexToUtf8","hexToString","toUtf8","stripHexPrefix","utf8ToHex","stringToHex","fromUtf8","toAscii","fromAscii","toWei","number","fromWei","padLeft","leftPad","padRight","rightPad","toTwosComplement","isBloom","isUserEthereumAddressInBloom","isContractAddressInBloom","isTopic","isTopicInBloom","isInBloom","compareBlockNumbers","a","b","bnA","bnB","lt","eq","toNumber","assert","val","msg","inherits","ctor","superCtor","super_","TempCtor","prototype","constructor","base","endian","this","negative","words","red","_init","Buffer","wordSize","window","e","parseHex4Bits","string","index","c","parseHexByte","lowerBound","r","parseBase","start","end","mul","len","Math","min","move","dest","src","num","max","left","right","cmp","_initNumber","_initArray","_parseHex","_parseBase","toArray","ceil","j","w","off","_strip","limbLen","limbPow","total","mod","word","imuln","_iaddn","pow","copy","_move","clone","_expand","_normSign","Symbol","for","inspect","zeros","groupSizes","groupBases","padding","out","carry","groupSize","groupBase","isZero","modrn","idivn","ret","toJSON","toBuffer","toArrayLike","smallMulTo","self","lo","k","ncarry","rword","maxJ","ArrayType","byteLength","reqLength","res","allocUnsafe","allocate","_toArrayLikeLE","position","shift","_toArrayLikeBE","clz32","_countBits","t","_zeroBits","bitLength","hi","zeroBits","toTwos","width","abs","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","sub","comb10MulTo","mid","o","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","FFTM","x","y","mulTo","makeRBT","N","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","s","rtwdf","cos","PI","itwdf","sin","p","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","m","odd","conjugate","normalize13b","ws","round","convert13b","stub","ph","mulp","_","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","bits","carryMask","newCarry","ishln","iushrn","hint","extended","h","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","mode","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","andln","acc","modn","egcd","A","B","C","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lten","lte","eqn","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","tmp","_tmp","K256","call","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","split","imulK","undefined","strip","input","output","outLen","prev","next","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","numberToBN","utf8","ethereumjsUtil","ethereumBloomFilters","object","apply","arguments","encode","reverse","value","isFinite","returnType","isBuffer","SHA3_NULL_S","from","returnValue","bufferToHex","_Hash","BNwrapped","includes","toLocaleLowerCase","startsWith","hexValue","Object","setPrototypeOf","bloom","ethereumAddress","contractAddress","topic","decode","bytes","chars","sign","hasPrefix","Jsonrpc","messageId","method","params","jsonrpc","id","response","every","validateSingleMessage","messages","map","toPayload","promiEvent","Subscriptions","subscriptions","EthersTransactionUtils","Method","options","inputFormatter","outputFormatter","transformPayload","extraFormatters","abiCoder","requestManager","accounts","defaultBlock","defaultAccount","transactionBlockTimeout","transactionConfirmationBlocks","transactionPollingTimeout","transactionPollingInterval","blockHeaderTimeout","defaultCommon","defaultChain","defaultHardfork","handleRevert","setRequestManager","createFunction","func","buildCall","defineProperty","configurable","writable","attachToObject","obj","getCall","args","extractCallback","pop","validateArgs","InvalidNumberOfParams","formatInput","_this","formatter","formatOutput","payload","_confirmTransaction","defer","promiseResolved","canUnsubscribe","timeoutCount","confirmationCount","intervalId","blockHeaderTimeoutId","lastBlock","gasProvided","gas","isContractDeployment","to","hasBytecode","_ethereumCalls","inputBlockNumberFormatter","outputBlockFormatter","outputTransactionReceiptFormatter","inputAddressFormatter","inputDefaultBlockNumberFormatter","outputTransactionFormatter","subscriptionName","_ethereumCall","mthd","checkConfirmation","existingReceipt","isPolling","err","blockHeader","unsubscribe","clearInterval","clearTimeout","resolve","getTransactionReceipt","eventEmitter","then","receipt","blockHash","receiptFormatter","getBlockByNumber","latestBlock","latestBlockHash","hash","block","blockNumber","NoContractAddressFoundError","getCode","status","contractDeployFormatter","ContractCodeNotStoredError","outOfGas","gasUsed","revertMessage","txReplayOptions","rawTransactionHex","parsedTx","parse","inputTransactionFormatter","gasLimit","toHexString","gasPrice","getRevertReason","TransactionRevertInstructionError","reason","signature","TransactionRevertedWithoutReasonError","TransactionOutOfGasError","TransactionError","startWatching","blockHeaderArrived","startInterval","setInterval","bind","provider","on","subscribe","getWallet","wallet","privateKey","_handleTxPricing","tx","Promise","getGasPrice","all","responses","baseFeePerGas","maxPriorityFeePerGas","maxFeePerGas","isSendTx","isCall","send","sendTxCallback","reasonData","isRevertReasonString","decodeParameter","RevertInstructionError","sendSignedTx","signedPayload","rawTransaction","sendRequest","chain","hardfork","common","signTransaction","txPricing","request","txOptions","format","EventEmitter","PromiEvent","justPromise","_events","once","addListener","removeListener","promise","Subscription","rm","console","warn","subscription","version","node","state","logger","throwArgumentError","path","coder","values","signed","topics","LOGIN_PROVIDER","WALLET_VERIFIERS","GOOGLE","FACEBOOK","TWITCH","REDDIT","DISCORD","EMAIL_PASSWORDLESS","WALLET_OPENLOGIN_VERIFIER_MAP","PAYMENT_PROVIDER","SUPPORTED_PAYMENT_NETWORK","TORUS_BUILD_ENV","BUTTON_POSITION","PROVIDER_SUPPORTED_FIAT_CURRENCIES","cryptoCompareCurrenciesSet","providerSupportedFiatCurrencies","currency","paymentProviders","line1","line2","line3","supportPage","minOrderValue","maxOrderValue","validCurrencies","supportedFiatCurrencies","validCryptoCurrenciesByChain","display","includeFees","api","enforceMax","receiveHint","sell","supportedVerifierList","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","prodTorusUrl","localStorageKeyPrefix","runOnLoad","fn","htmlToElement","html","template","trimmedHtml","handleEvent","handlerArgs","handlerWrapper","handler","handle","handleStream","chunk","document","loglevel","disconnected","permanentlyDisconnected","sendSiteMetadata","unsupportedSync","invalidDuplexStream","invalidOptions","maxEventListeners","shouldSendMetadata","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","info","connected","chainId","warnings","enableDeprecation","sendDeprecation","events","close","networkChanged","notification","publicConfigStore","createErrorMiddleware","req","done","log","logStreamDisconnectWarning","remoteLabel","warningMsg","getPreopenInstanceId","getTorusUrl","versionUsed","integrity","buildEnv","config","get","useAPIKey","torusUrl","logLevel","getUserLanguage","userLanguage","userLanguages","EMITTED_NOTIFICATIONS","NOOP","FEATURES_PROVIDER_CHANGE_WINDOW","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_CONFIRM_WINDOW","SafeEventEmitter","getRpcPromiseCallback","unwrapResult","jsonRpcStreamName","enable","experimentalMethods","isDuplexStream","TorusInpageProvider","mux","pump","storageKey","storeAsStream","jsonRpcConnection","createStreamMiddleware","rpcEngine","createIdRemapMiddleware","isConnected","sendAsync","prependListener","prependOnceListener","_initializeState","networkVersion","isUnlocked","_rpcRequest","isInternal","cb","_payload","methodOrPayload","callbackOrArgs","_sendSync","_handleConnect","_handleDisconnect","errorMessage","_handleStreamDisconnect","_handleAccountsChanged","isEthAccounts","finalAccounts","dequal","_handleChainChanged","_handleUnlockStateChanged","_warnOfDeprecation","initialized","isPermanentlyDisconnected","hasEmittedConnection","hashes","internalHashes","algorithm","createHash","main","finalOptions","algorithms","delimiter","full","defaults","sri","features","target","dualScreenLeft","dualScreenTop","height","top","getPopupFeatures","_setupTimer","Number","open","redirect","img","getSiteName","siteName","metaTitle","icon","imgExists","_icon","Boolean","getSiteMetadata","getSiteIcon","domainMetadata","engine","originalError","defaultVerifiers","iframeIntegrity","expectedCacheControlHeader","UNSAFE_METHODS","isLocalStorageAvailable","storage","storageAvailable","torusIframeHtml","check","buttonPosition","modalZIndex","apiKey","configuration","metadataHost","allowHost","network","TorusJs","setAPIKey","init","enableLogging","enabledVerifiers","host","networkName","blockExplorer","ticker","tickerName","loginConfig","showTorusButton","skipTKey","useLocalStorage","useWalletConnect","dappStorageKey","localStorageKey","storedKey","generatedKey","torusIframeUrl","link","defaultLanguage","customTranslations","mergedTranslations","deepmerge","languageTranslations","handleSetup","documentReady","initStream","whiteLabel","torusWidgetVisibility","fetchUrl","fetch","cache","resp","calculatedIntegrity","generateIntegrity","login","verifier","login_hint","loginHint","logout","logOutStream","statusStream","cleanUp","clearInit","element","isElement","hideTorusButton","setProvider","rest","providerChangeStream","success","preopenInstanceId","override","showWallet","showWalletStream","finalPath","showWalletHandler","instanceId","finalUrl","url","walletWindow","getPublicAddress","isExtended","verifierId","nodeDetails","endpoints","torusNodePubs","walletVerifier","openloginVerifier","existingV1User","v2User","newV2User","getUserInfo","userInfoAccessStream","newRequest","userInfoStream","handlerChunk","initiateTopup","isValid","selectedProvider","selectedParams","requestedOrderAmount","parseFloat","finalCryptoCurrency","validatePaymentProvider","topupStream","loginWithPrivateKey","userInfo","loginPrivKeyStream","showWalletConnectScanner","walletConnectStream","_handleWindow","windowStream","handledWindow","closeHandler","receivedId","closed","_setEmbedWhiteLabel","theme","isDark","colors","_getLogoUrl","logoUrl","logoLight","logoDark","_sendWidgetVisibilityStatus","torusWidgetVisibilityStream","_displayIframe","isFull","style","_setupWeb3","metamaskStream","targetWindow","targetOrigin","origin","communicationStream","inpageProvider","detectAccountRequestPrototypeModifier","originalMethod","handleLoginCb","requestedVerifier","proxiedInpageProvider","deleteProperty","communicationMux","setupMultiplex","widgetStream","_showLoginPopup","loginHandler","selectedAddress","oauthStream","calledFromEmbed","_createPopupBlockAlert","torusAlert","successAlert","btnContainer","ETHEREUM_NETWORK","abi","internalType","outputs","stateMutability","proxyAddress","NodeDetailManager","PROXY_ADDRESS_MAINNET","localUrl","projectId","Web3EthContract","_nodeDetails","currentEpoch","nodeListAddress","torusNodeEndpoints","torusNodePub","torusIndexes","updated","getNodeDetails","hashedVerifierId","updatedEndpoints","updatedNodePub","endPointElement","pubKx","torusNodePubX","pubKy","torusNodePubY","endpoint","X","Y","core","Contract","jsonInterface","packageInit","clearSubscriptions","_requestManager","ContractMissingABIError","lastArg","_getOrSetDefaultOptions","set","_address","enumerable","methods","_jsonInterface","funcName","constant","payable","encodeFunctionSignature","_createTxObject","parent","cascadeFunc","nextMethod","encodeEventSignature","event","_on","allEvents","_ethAccounts","_getCallback","_checkListener","ContractReservedEventError","_encodeEventABI","filter","f","anonymous","indexedTopics","indexed","v","encodeParameter","concat","_decodeEventABI","outputLogFormatter","find","intf","indexedInputs","argTopics","returnValues","decodeLog","__length__","raw","_encodeMethodABI","methodSignature","_method","paramsABI","_parent","inputLength","encodeParameters","_deployData","_decodeMethodReturn","decodeParameters","deploy","ContractMissingDeployDataError","deployData","_generateEventOptions","eventName","ContractEventDoesNotExistError","ContractNoAddressDefinedError","ContractOnceRequiresCallbackError","fromBlock","subOptions","toBlock","inputLogFormatter","subscriptionHandler","removed","getPastEvents","getPastLogs","txObject","_executeMethod","encodeABI","estimateGas","createAccessList","_processExecuteArguments","processedArgs","generateRequest","ethAccounts","inputCallFormatter","ContractNoFromAddressDefinedError","logs","count","ev","newContract","sendTransaction","extend","pkg","_provider","Manager","givenProvider","providers","net","manager","BatchRequest","BatchManager","addProviders","callbackify","RequestManager","Map","WebsocketProvider","HttpProvider","IpcProvider","connect","has","deprecatedResult","resubscribe","_isCleanCloseEvent","_isIpcCloseError","ConnectionCloseError","delete","InvalidProvider","jsonrpcPayload","jsonrpcResultCallback","_jsonrpcResultCallback","callbackRequest","sendBatch","toBatchPayload","results","InvalidResponse","addSubscription","removeSubscription","keepIsSyncing","reset","wasClean","ErrorResponse","isValidResponse","got","expected","InvalidConnection","ConnectionError","ConnectionTimeout","ms","ConnectionNotOpenError","MaxAttemptsReachedOnReconnectingError","PendingRequestsOnReconnectingError","ResolverMethodMissingError","Iban","outputBigNumberFormatter","isPredefinedBlockNumber","_txInputFormatter","key","transactionIndex","nonce","transactionHash","logIndex","shaId","iban","isDirect","toAddress","inputPostFormatter","post","ttl","workToProve","priority","toTopic","addr","inputSignFormatter","inputStorageKeysFormatter","keys","outputProofFormatter","proof","balance","cumulativeGasUsed","effectiveGasPrice","timestamp","difficulty","totalDifficulty","transactions","item","miner","outputPostFormatter","expiry","sent","workProved","outputSyncingFormatter","startingBlock","currentBlock","highestBlock","knownStates","pulledStates","_parseNumber","arg","_solidityPack","arraySize","typesize","exec","_parseTypeN","_processSolidityEncodePackedArgs","hasOwnProperty","_parseTypeNArray","hexArgs","BigNumber","iso13616Prepare","Z","mod9710","remainder","_iban","isIndirect","base36","asBn","ib","fromAddress","padded","fromBban","bban","countryCode","institution","identifier","Batch","requests","execute","sortResponses","_sortResponses","sort","global","globalThis","Function","ethereum","web3","currentProvider","connection","helpers","Ws","w3cwebsocket","_customTimeout","timeout","headers","protocol","reconnectOptions","assign","auto","delay","maxAttempts","onTimeout","reconnect","clientConfig","requestOptions","DATA","CLOSE","ERROR","CONNECT","RECONNECT","requestQueue","responseQueue","reconnectAttempts","reconnecting","parsedURL","parseURL","username","password","authorization","btoa","auth","readyState","OPEN","create","_addSocketListeners","_onMessage","_parseResponse","_onConnect","_onClose","_removeSocketListeners","addEventListener","removeEventListener","lastChunk","lastChunkTimeout","CONNECTING","clear","disconnect","supportsSubscriptions","isNode","process","isRN","navigator","product","_btoa","URL","newURL","XHR2","XMLHttpRequest","http","https","withCredentials","agent","keepAlive","httpsAgent","Agent","httpAgent","_prepareRequest","agents","baseUrl","nodejsSet","setRequestHeader","header","onreadystatechange","responseText","ontimeout","oboe","responseCallbacks","notificationCallbacks","addDefaultEvents","load","_timeout","_addResponseCallback","write","splice","pckg","ex","extension","extendedObject","property","identity","_extractCallback","_validateArgs","_formatInput","_formatOutput","_toPayload","subscriptionMethod","err1","err2","blockParams","resultItem","EthersAbiCoder","AbiCoder","ParamType","ethersAbiCoder","match","Result","ABICoder","functionName","mapTypes","formatParam","modifyParams","_getCoder","arrayLength","coders","mappedTypes","isSimplifiedStructFormat","structName","mapStructNameAndType","mapStructToCoderFormat","struct","paramTypeBytes","RegExp","paramTypeBytesArray","paramTypeNumber","paramTypeNumberArray","maxSize","encodeFunctionCall","decodeParametersWith","loose","decodedValue","isStringObject","notIndexedInputs","indexedParams","topicCount","staticType","nonIndexedData","notIndexedParams","levels","embedHost","sentry","tracingOrigins","tracingPaths","_url","transaction","span","op","options_","customOptions","defaultOptions","getApiKeyHeaders","merge","fetchAndTrace","debugLogResponse","predicate","Some","finishedCount","sharedState","resolved","errorArr","promises","resultArr","predicateError","it","kCombinations","combs","tailCombs","thresholdSame","hashMap","arr","JsonStringify","keyLookup","lookupPromises","generateJsonRPCObject","verifier_id","lookupResults","lookupShares","errorResult","keyResult","x3","waitKeyLookup","keyAssign","lastPoint","nodeNum","initialPoint","firstPoint","pubKeyX","pubKeyY","signedData","acceptedErrorMsgs","signerHost","createKeccakHash","enableOneKey","serverTimeOffset","getUserTypeAndAddress","doesKeyAssign","isNewKey","assignResult","finalKeyResult","pub_key_X","pub_key_Y","nonceResult","modifiedPubKey","finalX","finalY","typeOfUser","pubNonce","upgraded","setCustomKey","customKeyHex","torusKey","privKey","customKey","newMetadataNonce","retrieveShares","extraParams","promiseArr","verifierParams","tmpKey","generatePrivate","pubKey","getPublic","tokenCommitment","messageprefix","tokencommitment","temppubx","temppuby","verifieridentifier","completedRequests","promiseArrRequest","nodeSigs","encrypted","idtoken","nodesignatures","shareResponses","thresholdPublicKey","sharePromises","nodeIndexes","currentShareResponse","firstKey","metadata","ephemPublicKey","iv","mac","decrypt","ciphertext","indexes","sharesResolved","decryptedShares","allCombis","currentCombi","currentCombiShares","shares","indices","derivedPrivateKey","decryptedPubKey","decryptedPubKeyX","decryptedPubKeyY","metadataNonce","ethAddress","getMetadata","metadataResponse","generateMetadataParams","setData","Date","sig","set_data","setMetadata","lagrangeInterpolation","nodeIndex","secret","upper","lower","temp","generateAddressFromPrivKey","publicKey","ethAddressLower","generateAddressFromPubKey","publicKeyX","publicKeyY","getOrSetNonce","getOnly","getNonce","getPostboxKeyFrom1OutOf1","privKeyBN","nonceBN","setEmbedHost","isGetOrSetNonceError","promiseTimeout","parameters","WALLET_ADAPTERS","TORUS_EVM","ADAPTER_NAMESPACES","EIP155","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","rpcTarget","displayName","getChainConfig","ADAPTER_EVENTS","WalletInitializationError","adapter","blockExplorerUrl","logo","updatedChainID","reconnected","rehydrated","WalletLoginError","cleanup","setAdapterSettings"],"mappings":"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","file":"static/js/8.ea063649.chunk.js","sourcesContent":["/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar errors = require('./errors');\nvar formatters = require('./formatters');\nmodule.exports = {\n    errors: errors,\n    formatters: formatters\n};\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file utils.js\n * @author Marek Kotewicz <marek@parity.io>\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\nvar ethjsUnit = require('ethjs-unit');\nvar utils = require('./utils.js');\nvar soliditySha3 = require('./soliditySha3.js');\nvar randombytes = require('randombytes');\nvar BN = require('bn.js');\n/**\n * Fires an error in an event emitter and callback and returns the eventemitter\n *\n * @method _fireError\n * @param {Object} error a string, a error, or an object with {message, data}\n * @param {Object} emitter\n * @param {Function} reject\n * @param {Function} callback\n * @param {any} optionalData\n * @return {Object} the emitter\n */\nvar _fireError = function (error, emitter, reject, callback, optionalData) {\n    /*jshint maxcomplexity: 10 */\n    // add data if given\n    if (!!error && typeof error === 'object' && !(error instanceof Error) && error.data) {\n        if (!!error.data && typeof error.data === 'object' || Array.isArray(error.data)) {\n            error.data = JSON.stringify(error.data, null, 2);\n        }\n        error = error.message + \"\\n\" + error.data;\n    }\n    if (typeof error === 'string') {\n        error = new Error(error);\n    }\n    if (typeof callback === 'function') {\n        callback(error, optionalData);\n    }\n    if (typeof reject === 'function') {\n        // suppress uncatched error if an error listener is present\n        // OR suppress uncatched error if an callback listener is present\n        if (emitter &&\n            (typeof emitter.listeners === 'function' &&\n                emitter.listeners('error').length) || typeof callback === 'function') {\n            emitter.catch(function () { });\n        }\n        // reject later, to be able to return emitter\n        setTimeout(function () {\n            reject(error);\n        }, 1);\n    }\n    if (emitter && typeof emitter.emit === 'function') {\n        // emit later, to be able to return emitter\n        setTimeout(function () {\n            emitter.emit('error', error, optionalData);\n            emitter.removeAllListeners();\n        }, 1);\n    }\n    return emitter;\n};\n/**\n * Should be used to create full function/event name from json abi\n *\n * @method _jsonInterfaceMethodToString\n * @param {Object} json\n * @return {String} full function/event name\n */\nvar _jsonInterfaceMethodToString = function (json) {\n    if (!!json && typeof json === 'object' && json.name && json.name.indexOf('(') !== -1) {\n        return json.name;\n    }\n    return json.name + '(' + _flattenTypes(false, json.inputs).join(',') + ')';\n};\n/**\n * Should be used to flatten json abi inputs/outputs into an array of type-representing-strings\n *\n * @method _flattenTypes\n * @param {bool} includeTuple\n * @param {Object} puts\n * @return {Array} parameters as strings\n */\nvar _flattenTypes = function (includeTuple, puts) {\n    // console.log(\"entered _flattenTypes. inputs/outputs: \" + puts)\n    var types = [];\n    puts.forEach(function (param) {\n        if (typeof param.components === 'object') {\n            if (param.type.substring(0, 5) !== 'tuple') {\n                throw new Error('components found but type is not tuple; report on GitHub');\n            }\n            var suffix = '';\n            var arrayBracket = param.type.indexOf('[');\n            if (arrayBracket >= 0) {\n                suffix = param.type.substring(arrayBracket);\n            }\n            var result = _flattenTypes(includeTuple, param.components);\n            // console.log(\"result should have things: \" + result)\n            if (Array.isArray(result) && includeTuple) {\n                // console.log(\"include tuple word, and its an array. joining...: \" + result.types)\n                types.push('tuple(' + result.join(',') + ')' + suffix);\n            }\n            else if (!includeTuple) {\n                // console.log(\"don't include tuple, but its an array. joining...: \" + result)\n                types.push('(' + result.join(',') + ')' + suffix);\n            }\n            else {\n                // console.log(\"its a single type within a tuple: \" + result.types)\n                types.push('(' + result + ')');\n            }\n        }\n        else {\n            // console.log(\"its a type and not directly in a tuple: \" + param.type)\n            types.push(param.type);\n        }\n    });\n    return types;\n};\n/**\n * Returns a random hex string by the given bytes size\n *\n * @param {Number} size\n * @returns {string}\n */\nvar randomHex = function (size) {\n    return '0x' + randombytes(size).toString('hex');\n};\n/**\n * Should be called to get ascii from it's hex representation\n *\n * @method hexToAscii\n * @param {String} hex\n * @returns {String} ascii string representation of hex value\n */\nvar hexToAscii = function (hex) {\n    if (!utils.isHexStrict(hex))\n        throw new Error('The parameter must be a valid HEX string.');\n    var str = \"\";\n    var i = 0, l = hex.length;\n    if (hex.substring(0, 2) === '0x') {\n        i = 2;\n    }\n    for (; i < l; i += 2) {\n        var code = parseInt(hex.slice(i, i + 2), 16);\n        str += String.fromCharCode(code);\n    }\n    return str;\n};\n/**\n * Should be called to get hex representation (prefixed by 0x) of ascii string\n *\n * @method asciiToHex\n * @param {String} str\n * @returns {String} hex representation of input string\n */\nvar asciiToHex = function (str) {\n    if (!str)\n        return \"0x00\";\n    var hex = \"\";\n    for (var i = 0; i < str.length; i++) {\n        var code = str.charCodeAt(i);\n        var n = code.toString(16);\n        hex += n.length < 2 ? '0' + n : n;\n    }\n    return \"0x\" + hex;\n};\n/**\n * Returns value of unit in Wei\n *\n * @method getUnitValue\n * @param {String} unit the unit to convert to, default ether\n * @returns {BN} value of the unit (in Wei)\n * @throws error if the unit is not correct:w\n */\nvar getUnitValue = function (unit) {\n    unit = unit ? unit.toLowerCase() : 'ether';\n    if (!ethjsUnit.unitMap[unit]) {\n        throw new Error('This unit \"' + unit + '\" doesn\\'t exist, please use the one of the following units' + JSON.stringify(ethjsUnit.unitMap, null, 2));\n    }\n    return unit;\n};\n/**\n * Takes a number of wei and converts it to any other ether unit.\n *\n * Possible units are:\n *   SI Short   SI Full        Effigy       Other\n * - kwei       femtoether     babbage\n * - mwei       picoether      lovelace\n * - gwei       nanoether      shannon      nano\n * - --         microether     szabo        micro\n * - --         milliether     finney       milli\n * - ether      --             --\n * - kether                    --           grand\n * - mether\n * - gether\n * - tether\n *\n * @method fromWei\n * @param {Number|String} number can be a number, number string or a HEX of a decimal\n * @param {String} unit the unit to convert to, default ether\n * @return {String|Object} When given a BN object it returns one as well, otherwise a number\n */\nvar fromWei = function (number, unit) {\n    unit = getUnitValue(unit);\n    if (!utils.isBN(number) && !(typeof number === 'string')) {\n        throw new Error('Please pass numbers as strings or BN objects to avoid precision errors.');\n    }\n    return utils.isBN(number) ? ethjsUnit.fromWei(number, unit) : ethjsUnit.fromWei(number, unit).toString(10);\n};\n/**\n * Takes a number of a unit and converts it to wei.\n *\n * Possible units are:\n *   SI Short   SI Full        Effigy       Other\n * - kwei       femtoether     babbage\n * - mwei       picoether      lovelace\n * - gwei       nanoether      shannon      nano\n * - --         microether     szabo        micro\n * - --         microether     szabo        micro\n * - --         milliether     finney       milli\n * - ether      --             --\n * - kether                    --           grand\n * - mether\n * - gether\n * - tether\n *\n * @method toWei\n * @param {Number|String|BN} number can be a number, number string or a HEX of a decimal\n * @param {String} unit the unit to convert from, default ether\n * @return {String|Object} When given a BN object it returns one as well, otherwise a number\n */\nvar toWei = function (number, unit) {\n    unit = getUnitValue(unit);\n    if (!utils.isBN(number) && !(typeof number === 'string')) {\n        throw new Error('Please pass numbers as strings or BN objects to avoid precision errors.');\n    }\n    return utils.isBN(number) ? ethjsUnit.toWei(number, unit) : ethjsUnit.toWei(number, unit).toString(10);\n};\n/**\n * Converts to a checksum address\n *\n * @method toChecksumAddress\n * @param {String} address the given HEX address\n * @return {String}\n */\nvar toChecksumAddress = function (address) {\n    if (typeof address === 'undefined')\n        return '';\n    if (!/^(0x)?[0-9a-f]{40}$/i.test(address))\n        throw new Error('Given address \"' + address + '\" is not a valid Ethereum address.');\n    address = address.toLowerCase().replace(/^0x/i, '');\n    var addressHash = utils.sha3(address).replace(/^0x/i, '');\n    var checksumAddress = '0x';\n    for (var i = 0; i < address.length; i++) {\n        // If ith character is 8 to f then make it uppercase\n        if (parseInt(addressHash[i], 16) > 7) {\n            checksumAddress += address[i].toUpperCase();\n        }\n        else {\n            checksumAddress += address[i];\n        }\n    }\n    return checksumAddress;\n};\n/**\n * Returns -1 if a<b, 1 if a>b; 0 if a == b.\n * For more details on this type of function, see\n * developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n *\n * @method compareBlockNumbers\n *\n * @param {String|Number|BN} a\n *\n * @param {String|Number|BN} b\n *\n * @returns {Number} -1, 0, or 1\n */\nvar compareBlockNumbers = function (a, b) {\n    if (a == b) {\n        return 0;\n    }\n    else if ((\"genesis\" == a || \"earliest\" == a || 0 == a) && (\"genesis\" == b || \"earliest\" == b || 0 == b)) {\n        return 0;\n    }\n    else if (\"genesis\" == a || \"earliest\" == a) {\n        // b !== a, thus a < b\n        return -1;\n    }\n    else if (\"genesis\" == b || \"earliest\" == b) {\n        // b !== a, thus a > b\n        return 1;\n    }\n    else if (a == \"latest\") {\n        if (b == \"pending\") {\n            return -1;\n        }\n        else {\n            // b !== (\"pending\" OR \"latest\"), thus a > b\n            return 1;\n        }\n    }\n    else if (b === \"latest\") {\n        if (a == \"pending\") {\n            return 1;\n        }\n        else {\n            // b !== (\"pending\" OR \"latest\"), thus a > b\n            return -1;\n        }\n    }\n    else if (a == \"pending\") {\n        // b (== OR <) \"latest\", thus a > b\n        return 1;\n    }\n    else if (b == \"pending\") {\n        return -1;\n    }\n    else {\n        let bnA = new BN(a);\n        let bnB = new BN(b);\n        if (bnA.lt(bnB)) {\n            return -1;\n        }\n        else if (bnA.eq(bnB)) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    }\n};\nmodule.exports = {\n    _fireError: _fireError,\n    _jsonInterfaceMethodToString: _jsonInterfaceMethodToString,\n    _flattenTypes: _flattenTypes,\n    // extractDisplayName: extractDisplayName,\n    // extractTypeName: extractTypeName,\n    randomHex: randomHex,\n    BN: utils.BN,\n    isBN: utils.isBN,\n    isBigNumber: utils.isBigNumber,\n    isHex: utils.isHex,\n    isHexStrict: utils.isHexStrict,\n    sha3: utils.sha3,\n    sha3Raw: utils.sha3Raw,\n    keccak256: utils.sha3,\n    soliditySha3: soliditySha3.soliditySha3,\n    soliditySha3Raw: soliditySha3.soliditySha3Raw,\n    encodePacked: soliditySha3.encodePacked,\n    isAddress: utils.isAddress,\n    checkAddressChecksum: utils.checkAddressChecksum,\n    toChecksumAddress: toChecksumAddress,\n    toHex: utils.toHex,\n    toBN: utils.toBN,\n    bytesToHex: utils.bytesToHex,\n    hexToBytes: utils.hexToBytes,\n    hexToNumberString: utils.hexToNumberString,\n    hexToNumber: utils.hexToNumber,\n    toDecimal: utils.hexToNumber,\n    numberToHex: utils.numberToHex,\n    fromDecimal: utils.numberToHex,\n    hexToUtf8: utils.hexToUtf8,\n    hexToString: utils.hexToUtf8,\n    toUtf8: utils.hexToUtf8,\n    stripHexPrefix: utils.stripHexPrefix,\n    utf8ToHex: utils.utf8ToHex,\n    stringToHex: utils.utf8ToHex,\n    fromUtf8: utils.utf8ToHex,\n    hexToAscii: hexToAscii,\n    toAscii: hexToAscii,\n    asciiToHex: asciiToHex,\n    fromAscii: asciiToHex,\n    unitMap: ethjsUnit.unitMap,\n    toWei: toWei,\n    fromWei: fromWei,\n    padLeft: utils.leftPad,\n    leftPad: utils.leftPad,\n    padRight: utils.rightPad,\n    rightPad: utils.rightPad,\n    toTwosComplement: utils.toTwosComplement,\n    isBloom: utils.isBloom,\n    isUserEthereumAddressInBloom: utils.isUserEthereumAddressInBloom,\n    isContractAddressInBloom: utils.isContractAddressInBloom,\n    isTopic: utils.isTopic,\n    isTopicInBloom: utils.isTopicInBloom,\n    isInBloom: utils.isInBloom,\n    compareBlockNumbers: compareBlockNumbers,\n    toNumber: utils.toNumber\n};\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file utils.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\nvar BN = require('bn.js');\nvar numberToBN = require('number-to-bn');\nvar utf8 = require('utf8');\nvar ethereumjsUtil = require('ethereumjs-util');\nvar ethereumBloomFilters = require('ethereum-bloom-filters');\n/**\n * Returns true if object is BN, otherwise false\n *\n * @method isBN\n * @param {Object} object\n * @return {Boolean}\n */\nvar isBN = function (object) {\n    return BN.isBN(object);\n};\n/**\n * Returns true if object is BigNumber, otherwise false\n *\n * @method isBigNumber\n * @param {Object} object\n * @return {Boolean}\n */\nvar isBigNumber = function (object) {\n    return object && object.constructor && object.constructor.name === 'BigNumber';\n};\n/**\n * Takes an input and transforms it into an BN\n *\n * @method toBN\n * @param {Number|String|BN} number, string, HEX string or BN\n * @return {BN} BN\n */\nvar toBN = function (number) {\n    try {\n        return numberToBN.apply(null, arguments);\n    }\n    catch (e) {\n        throw new Error(e + ' Given value: \"' + number + '\"');\n    }\n};\n/**\n * Takes and input transforms it into BN and if it is negative value, into two's complement\n *\n * @method toTwosComplement\n * @param {Number|String|BN} number\n * @return {String}\n */\nvar toTwosComplement = function (number) {\n    return '0x' + toBN(number).toTwos(256).toString(16, 64);\n};\n/**\n * Checks if the given string is an address\n *\n * @method isAddress\n * @param {String} address the given HEX address\n * @return {Boolean}\n */\nvar isAddress = function (address) {\n    // check if it has the basic requirements of an address\n    if (!/^(0x)?[0-9a-f]{40}$/i.test(address)) {\n        return false;\n        // If it's ALL lowercase or ALL upppercase\n    }\n    else if (/^(0x|0X)?[0-9a-f]{40}$/.test(address) || /^(0x|0X)?[0-9A-F]{40}$/.test(address)) {\n        return true;\n        // Otherwise check each case\n    }\n    else {\n        return checkAddressChecksum(address);\n    }\n};\n/**\n * Checks if the given string is a checksummed address\n *\n * @method checkAddressChecksum\n * @param {String} address the given HEX address\n * @return {Boolean}\n */\nvar checkAddressChecksum = function (address) {\n    // Check each case\n    address = address.replace(/^0x/i, '');\n    var addressHash = sha3(address.toLowerCase()).replace(/^0x/i, '');\n    for (var i = 0; i < 40; i++) {\n        // the nth letter should be uppercase if the nth digit of casemap is 1\n        if ((parseInt(addressHash[i], 16) > 7 && address[i].toUpperCase() !== address[i]) || (parseInt(addressHash[i], 16) <= 7 && address[i].toLowerCase() !== address[i])) {\n            return false;\n        }\n    }\n    return true;\n};\n/**\n * Should be called to pad string to expected length\n *\n * @method leftPad\n * @param {String} string to be padded\n * @param {Number} chars that result string should have\n * @param {String} sign, by default 0\n * @returns {String} right aligned string\n */\nvar leftPad = function (string, chars, sign) {\n    var hasPrefix = /^0x/i.test(string) || typeof string === 'number';\n    string = string.toString(16).replace(/^0x/i, '');\n    var padding = (chars - string.length + 1 >= 0) ? chars - string.length + 1 : 0;\n    return (hasPrefix ? '0x' : '') + new Array(padding).join(sign ? sign : \"0\") + string;\n};\n/**\n * Should be called to pad string to expected length\n *\n * @method rightPad\n * @param {String} string to be padded\n * @param {Number} chars that result string should have\n * @param {String} sign, by default 0\n * @returns {String} right aligned string\n */\nvar rightPad = function (string, chars, sign) {\n    var hasPrefix = /^0x/i.test(string) || typeof string === 'number';\n    string = string.toString(16).replace(/^0x/i, '');\n    var padding = (chars - string.length + 1 >= 0) ? chars - string.length + 1 : 0;\n    return (hasPrefix ? '0x' : '') + string + (new Array(padding).join(sign ? sign : \"0\"));\n};\n/**\n * Should be called to get hex representation (prefixed by 0x) of utf8 string\n *\n * @method utf8ToHex\n * @param {String} str\n * @returns {String} hex representation of input string\n */\nvar utf8ToHex = function (str) {\n    str = utf8.encode(str);\n    var hex = \"\";\n    // remove \\u0000 padding from either side\n    str = str.replace(/^(?:\\u0000)*/, '');\n    str = str.split(\"\").reverse().join(\"\");\n    str = str.replace(/^(?:\\u0000)*/, '');\n    str = str.split(\"\").reverse().join(\"\");\n    for (var i = 0; i < str.length; i++) {\n        var code = str.charCodeAt(i);\n        // if (code !== 0) {\n        var n = code.toString(16);\n        hex += n.length < 2 ? '0' + n : n;\n        // }\n    }\n    return \"0x\" + hex;\n};\n/**\n * Should be called to get utf8 from it's hex representation\n *\n * @method hexToUtf8\n * @param {String} hex\n * @returns {String} ascii string representation of hex value\n */\nvar hexToUtf8 = function (hex) {\n    if (!isHexStrict(hex))\n        throw new Error('The parameter \"' + hex + '\" must be a valid HEX string.');\n    var str = \"\";\n    var code = 0;\n    hex = hex.replace(/^0x/i, '');\n    // remove 00 padding from either side\n    hex = hex.replace(/^(?:00)*/, '');\n    hex = hex.split(\"\").reverse().join(\"\");\n    hex = hex.replace(/^(?:00)*/, '');\n    hex = hex.split(\"\").reverse().join(\"\");\n    var l = hex.length;\n    for (var i = 0; i < l; i += 2) {\n        code = parseInt(hex.slice(i, i + 2), 16);\n        // if (code !== 0) {\n        str += String.fromCharCode(code);\n        // }\n    }\n    return utf8.decode(str);\n};\n/**\n * Converts value to it's number representation\n *\n * @method hexToNumber\n * @param {String|Number|BN} value\n * @return {String}\n */\nvar hexToNumber = function (value) {\n    if (!value) {\n        return value;\n    }\n    if (typeof value === 'string' && !isHexStrict(value)) {\n        throw new Error('Given value \"' + value + '\" is not a valid hex string.');\n    }\n    return toBN(value).toNumber();\n};\n/**\n * Converts value to it's decimal representation in string\n *\n * @method hexToNumberString\n * @param {String|Number|BN} value\n * @return {String}\n */\nvar hexToNumberString = function (value) {\n    if (!value)\n        return value;\n    if (typeof value === 'string' && !isHexStrict(value)) {\n        throw new Error('Given value \"' + value + '\" is not a valid hex string.');\n    }\n    return toBN(value).toString(10);\n};\n/**\n * Converts value to it's hex representation\n *\n * @method numberToHex\n * @param {String|Number|BN} value\n * @return {String}\n */\nvar numberToHex = function (value) {\n    if ((value === null || value === undefined)) {\n        return value;\n    }\n    if (!isFinite(value) && !isHexStrict(value)) {\n        throw new Error('Given input \"' + value + '\" is not a number.');\n    }\n    var number = toBN(value);\n    var result = number.toString(16);\n    return number.lt(new BN(0)) ? '-0x' + result.slice(1) : '0x' + result;\n};\n/**\n * Convert a byte array to a hex string\n *\n * Note: Implementation from crypto-js\n *\n * @method bytesToHex\n * @param {Array} bytes\n * @return {String} the hex string\n */\nvar bytesToHex = function (bytes) {\n    for (var hex = [], i = 0; i < bytes.length; i++) {\n        /* jshint ignore:start */\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n        /* jshint ignore:end */\n    }\n    return '0x' + hex.join(\"\");\n};\n/**\n * Convert a hex string to a byte array\n *\n * Note: Implementation from crypto-js\n *\n * @method hexToBytes\n * @param {string} hex\n * @return {Array} the byte array\n */\nvar hexToBytes = function (hex) {\n    hex = hex.toString(16);\n    if (!isHexStrict(hex)) {\n        throw new Error('Given value \"' + hex + '\" is not a valid hex string.');\n    }\n    hex = hex.replace(/^0x/i, '');\n    for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.slice(c, c + 2), 16));\n    return bytes;\n};\n/**\n * Auto converts any given value into it's hex representation.\n *\n * And even stringifys objects before.\n *\n * @method toHex\n * @param {String|Number|BN|Object|Buffer} value\n * @param {Boolean} returnType\n * @return {String}\n */\nvar toHex = function (value, returnType) {\n    /*jshint maxcomplexity: false */\n    if (isAddress(value)) {\n        return returnType ? 'address' : '0x' + value.toLowerCase().replace(/^0x/i, '');\n    }\n    if (typeof value === 'boolean') {\n        return returnType ? 'bool' : value ? '0x01' : '0x00';\n    }\n    if (Buffer.isBuffer(value)) {\n        return '0x' + value.toString('hex');\n    }\n    if (typeof value === 'object' && !!value && !isBigNumber(value) && !isBN(value)) {\n        return returnType ? 'string' : utf8ToHex(JSON.stringify(value));\n    }\n    // if its a negative number, pass it through numberToHex\n    if (typeof value === 'string') {\n        if (value.indexOf('-0x') === 0 || value.indexOf('-0X') === 0) {\n            return returnType ? 'int256' : numberToHex(value);\n        }\n        else if (value.indexOf('0x') === 0 || value.indexOf('0X') === 0) {\n            return returnType ? 'bytes' : value;\n        }\n        else if (!isFinite(value)) {\n            return returnType ? 'string' : utf8ToHex(value);\n        }\n    }\n    return returnType ? (value < 0 ? 'int256' : 'uint256') : numberToHex(value);\n};\n/**\n * Check if string is HEX, requires a 0x in front\n *\n * @method isHexStrict\n * @param {String} hex to be checked\n * @returns {Boolean}\n */\nvar isHexStrict = function (hex) {\n    return ((typeof hex === 'string' || typeof hex === 'number') && /^(-)?0x[0-9a-f]*$/i.test(hex));\n};\n/**\n * Check if string is HEX\n *\n * @method isHex\n * @param {String} hex to be checked\n * @returns {Boolean}\n */\nvar isHex = function (hex) {\n    return ((typeof hex === 'string' || typeof hex === 'number') && /^(-0x|0x)?[0-9a-f]*$/i.test(hex));\n};\n/**\n * Remove 0x prefix from string\n *\n * @method stripHexPrefix\n * @param {String} str to be checked\n * @returns {String}\n */\nvar stripHexPrefix = function (str) {\n    if (str !== 0 && isHex(str))\n        return str.replace(/^(-)?0x/i, '$1');\n    return str;\n};\n/**\n * Returns true if given string is a valid Ethereum block header bloom.\n *\n * @method isBloom\n * @param {String} bloom encoded bloom filter\n * @return {Boolean}\n */\nvar isBloom = function (bloom) {\n    return ethereumBloomFilters.isBloom(bloom);\n};\n/**\n * Returns true if the ethereum users address is part of the given bloom\n * note: false positives are possible.\n *\n * @method isUserEthereumAddressInBloom\n * @param {String} ethereumAddress encoded bloom filter\n * @param {String} bloom ethereum addresss\n * @return {Boolean}\n */\nvar isUserEthereumAddressInBloom = function (bloom, ethereumAddress) {\n    return ethereumBloomFilters.isUserEthereumAddressInBloom(bloom, ethereumAddress);\n};\n/**\n * Returns true if the contract address is part of the given bloom\n * note: false positives are possible.\n *\n * @method isUserEthereumAddressInBloom\n * @param {String} bloom encoded bloom filter\n * @param {String} contractAddress contract addresss\n * @return {Boolean}\n */\nvar isContractAddressInBloom = function (bloom, contractAddress) {\n    return ethereumBloomFilters.isContractAddressInBloom(bloom, contractAddress);\n};\n/**\n * Returns true if given string is a valid log topic.\n *\n * @method isTopic\n * @param {String} topic encoded topic\n * @return {Boolean}\n */\nvar isTopic = function (topic) {\n    return ethereumBloomFilters.isTopic(topic);\n};\n/**\n * Returns true if the topic is part of the given bloom\n * note: false positives are possible.\n *\n * @method isTopicInBloom\n * @param {String} bloom encoded bloom filter\n * @param {String} topic encoded topic\n * @return {Boolean}\n */\nvar isTopicInBloom = function (bloom, topic) {\n    return ethereumBloomFilters.isTopicInBloom(bloom, topic);\n};\n/**\n * Returns true if the value is part of the given bloom\n * note: false positives are possible.\n *\n * @method isInBloom\n * @param {String} bloom encoded bloom filter\n * @param {String | Uint8Array} topic encoded value\n * @return {Boolean}\n */\nvar isInBloom = function (bloom, topic) {\n    return ethereumBloomFilters.isInBloom(bloom, topic);\n};\n/**\n * Hashes values to a sha3 hash using keccak 256\n *\n * To hash a HEX string the hex must have 0x in front.\n *\n * @method sha3\n * @return {String} the sha3 string\n */\nvar SHA3_NULL_S = '0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\nvar sha3 = function (value) {\n    if (isBN(value)) {\n        value = value.toString();\n    }\n    if (isHexStrict(value) && /^0x/i.test((value).toString())) {\n        value = ethereumjsUtil.toBuffer(value);\n    }\n    else if (typeof value === 'string') {\n        // Assume value is an arbitrary string\n        value = Buffer.from(value, 'utf-8');\n    }\n    var returnValue = ethereumjsUtil.bufferToHex(ethereumjsUtil.keccak256(value));\n    if (returnValue === SHA3_NULL_S) {\n        return null;\n    }\n    else {\n        return returnValue;\n    }\n};\n// expose the under the hood keccak256\nsha3._Hash = ethereumjsUtil.keccak256;\n/**\n * @method sha3Raw\n *\n * @param value\n *\n * @returns {string}\n */\nvar sha3Raw = function (value) {\n    value = sha3(value);\n    if (value === null) {\n        return SHA3_NULL_S;\n    }\n    return value;\n};\n/**\n * Auto converts any given value into it's hex representation,\n * then converts hex to number.\n *\n * @method toNumber\n * @param {String|Number|BN} value\n * @return {Number}\n */\nvar toNumber = function (value) {\n    return typeof value === 'number' ? value : hexToNumber(toHex(value));\n};\n// 1.x currently accepts 0x... strings, bn.js after update doesn't. it would be a breaking change\nvar BNwrapped = function (value) {\n    // check negative\n    if (typeof value == \"string\" && value.includes(\"0x\")) {\n        const [negative, hexValue] = value.toLocaleLowerCase().startsWith('-') ? [\"-\", value.slice(3)] : [\"\", value.slice(2)];\n        return new BN(negative + hexValue, 16);\n    }\n    else {\n        return new BN(value);\n    }\n};\nObject.setPrototypeOf(BNwrapped, BN);\nObject.setPrototypeOf(BNwrapped.prototype, BN.prototype);\nmodule.exports = {\n    BN: BNwrapped,\n    isBN: isBN,\n    isBigNumber: isBigNumber,\n    toBN: toBN,\n    isAddress: isAddress,\n    isBloom: isBloom,\n    isUserEthereumAddressInBloom: isUserEthereumAddressInBloom,\n    isContractAddressInBloom: isContractAddressInBloom,\n    isTopic: isTopic,\n    isTopicInBloom: isTopicInBloom,\n    isInBloom: isInBloom,\n    checkAddressChecksum: checkAddressChecksum,\n    utf8ToHex: utf8ToHex,\n    hexToUtf8: hexToUtf8,\n    hexToNumber: hexToNumber,\n    hexToNumberString: hexToNumberString,\n    numberToHex: numberToHex,\n    toHex: toHex,\n    hexToBytes: hexToBytes,\n    bytesToHex: bytesToHex,\n    isHex: isHex,\n    isHexStrict: isHexStrict,\n    stripHexPrefix: stripHexPrefix,\n    leftPad: leftPad,\n    rightPad: rightPad,\n    toTwosComplement: toTwosComplement,\n    sha3: sha3,\n    sha3Raw: sha3Raw,\n    toNumber: toNumber\n};\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file jsonrpc.js\n * @authors:\n *   Fabian Vogelsteller <fabian@ethereum.org>\n *   Marek Kotewicz <marek@ethdev.com>\n *   Aaron Kumavis <aaron@kumavis.me>\n * @date 2015\n */\n\"use strict\";\n// Initialize Jsonrpc as a simple object with utility functions.\nvar Jsonrpc = {\n    messageId: 0\n};\n/**\n * Should be called to valid json create payload object\n *\n * @method toPayload\n * @param {Function} method of jsonrpc call, required\n * @param {Array} params, an array of method params, optional\n * @returns {Object} valid jsonrpc payload object\n */\nJsonrpc.toPayload = function (method, params) {\n    if (!method) {\n        throw new Error('JSONRPC method should be specified for params: \"' + JSON.stringify(params) + '\"!');\n    }\n    // advance message ID\n    Jsonrpc.messageId++;\n    return {\n        jsonrpc: '2.0',\n        id: Jsonrpc.messageId,\n        method: method,\n        params: params || []\n    };\n};\n/**\n * Should be called to check if jsonrpc response is valid\n *\n * @method isValidResponse\n * @param {Object}\n * @returns {Boolean} true if response is valid, otherwise false\n */\nJsonrpc.isValidResponse = function (response) {\n    return Array.isArray(response) ? response.every(validateSingleMessage) : validateSingleMessage(response);\n    function validateSingleMessage(message) {\n        return !!message &&\n            !message.error &&\n            message.jsonrpc === '2.0' &&\n            (typeof message.id === 'number' || typeof message.id === 'string') &&\n            message.result !== undefined; // only undefined is not valid json object\n    }\n};\n/**\n * Should be called to create batch payload object\n *\n * @method toBatchPayload\n * @param {Array} messages, an array of objects with method (required) and params (optional) fields\n * @returns {Array} batch payload\n */\nJsonrpc.toBatchPayload = function (messages) {\n    return messages.map(function (message) {\n        return Jsonrpc.toPayload(message.method, message.params);\n    });\n};\nmodule.exports = Jsonrpc;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @author Marek Kotewicz <marek@parity.io>\n * @date 2017\n */\n'use strict';\nvar errors = require('web3-core-helpers').errors;\nvar formatters = require('web3-core-helpers').formatters;\nvar utils = require('web3-utils');\nvar promiEvent = require('web3-core-promievent');\nvar Subscriptions = require('web3-core-subscriptions').subscriptions;\nvar EthersTransactionUtils = require('@ethersproject/transactions');\nvar Method = function Method(options) {\n    if (!options.call || !options.name) {\n        throw new Error('When creating a method you need to provide at least the \"name\" and \"call\" property.');\n    }\n    this.name = options.name;\n    this.call = options.call;\n    this.params = options.params || 0;\n    this.inputFormatter = options.inputFormatter;\n    this.outputFormatter = options.outputFormatter;\n    this.transformPayload = options.transformPayload;\n    this.extraFormatters = options.extraFormatters;\n    this.abiCoder = options.abiCoder; // Will be used to encode the revert reason string\n    this.requestManager = options.requestManager;\n    // reference to eth.accounts\n    this.accounts = options.accounts;\n    this.defaultBlock = options.defaultBlock || 'latest';\n    this.defaultAccount = options.defaultAccount || null;\n    this.transactionBlockTimeout = options.transactionBlockTimeout || 50;\n    this.transactionConfirmationBlocks = options.transactionConfirmationBlocks || 24;\n    this.transactionPollingTimeout = options.transactionPollingTimeout || 750;\n    this.transactionPollingInterval = options.transactionPollingInterval || 1000;\n    this.blockHeaderTimeout = options.blockHeaderTimeout || 10; // 10 seconds\n    this.defaultCommon = options.defaultCommon;\n    this.defaultChain = options.defaultChain;\n    this.defaultHardfork = options.defaultHardfork;\n    this.handleRevert = options.handleRevert;\n};\nMethod.prototype.setRequestManager = function (requestManager, accounts) {\n    this.requestManager = requestManager;\n    // reference to eth.accounts\n    if (accounts) {\n        this.accounts = accounts;\n    }\n};\nMethod.prototype.createFunction = function (requestManager, accounts) {\n    var func = this.buildCall();\n    Object.defineProperty(func, 'call', { configurable: true, writable: true, value: this.call });\n    this.setRequestManager(requestManager || this.requestManager, accounts || this.accounts);\n    return func;\n};\nMethod.prototype.attachToObject = function (obj) {\n    var func = this.buildCall();\n    Object.defineProperty(func, 'call', { configurable: true, writable: true, value: this.call });\n    var name = this.name.split('.');\n    if (name.length > 1) {\n        obj[name[0]] = obj[name[0]] || {};\n        obj[name[0]][name[1]] = func;\n    }\n    else {\n        obj[name[0]] = func;\n    }\n};\n/**\n * Should be used to determine name of the jsonrpc method based on arguments\n *\n * @method getCall\n * @param {Array} arguments\n * @return {String} name of jsonrpc method\n */\nMethod.prototype.getCall = function (args) {\n    return typeof this.call === 'function' ? this.call(args) : this.call;\n};\n/**\n * Should be used to extract callback from array of arguments. Modifies input param\n *\n * @method extractCallback\n * @param {Array} arguments\n * @return {Function|Null} callback, if exists\n */\nMethod.prototype.extractCallback = function (args) {\n    if (typeof (args[args.length - 1]) === 'function') {\n        return args.pop(); // modify the args array!\n    }\n};\n/**\n * Should be called to check if the number of arguments is correct\n *\n * @method validateArgs\n * @param {Array} arguments\n * @throws {Error} if it is not\n */\nMethod.prototype.validateArgs = function (args) {\n    if (args.length !== this.params) {\n        throw errors.InvalidNumberOfParams(args.length, this.params, this.name);\n    }\n};\n/**\n * Should be called to format input args of method\n *\n * @method formatInput\n * @param {Array}\n * @return {Array}\n */\nMethod.prototype.formatInput = function (args) {\n    var _this = this;\n    if (!this.inputFormatter) {\n        return args;\n    }\n    return this.inputFormatter.map(function (formatter, index) {\n        // bind this for defaultBlock, and defaultAccount\n        return formatter ? formatter.call(_this, args[index]) : args[index];\n    });\n};\n/**\n * Should be called to format output(result) of method\n *\n * @method formatOutput\n * @param {Object}\n * @return {Object}\n */\nMethod.prototype.formatOutput = function (result) {\n    var _this = this;\n    if (Array.isArray(result)) {\n        return result.map(function (res) {\n            return _this.outputFormatter && res ? _this.outputFormatter(res) : res;\n        });\n    }\n    else {\n        return this.outputFormatter && result ? this.outputFormatter(result) : result;\n    }\n};\n/**\n * Should create payload from given input args\n *\n * @method toPayload\n * @param {Array} args\n * @return {Object}\n */\nMethod.prototype.toPayload = function (args) {\n    var call = this.getCall(args);\n    var callback = this.extractCallback(args);\n    var params = this.formatInput(args);\n    this.validateArgs(params);\n    var payload = {\n        method: call,\n        params: params,\n        callback: callback\n    };\n    if (this.transformPayload) {\n        payload = this.transformPayload(payload);\n    }\n    return payload;\n};\nMethod.prototype._confirmTransaction = function (defer, result, payload) {\n    var method = this, promiseResolved = false, canUnsubscribe = true, timeoutCount = 0, confirmationCount = 0, intervalId = null, blockHeaderTimeoutId = null, lastBlock = null, receiptJSON = '', gasProvided = ((!!payload.params[0] && typeof payload.params[0] === 'object') && payload.params[0].gas) ? payload.params[0].gas : null, isContractDeployment = (!!payload.params[0] && typeof payload.params[0] === 'object') &&\n        payload.params[0].data &&\n        payload.params[0].from &&\n        !payload.params[0].to, hasBytecode = isContractDeployment && payload.params[0].data.length > 2;\n    // add custom send Methods\n    var _ethereumCalls = [\n        new Method({\n            name: 'getBlockByNumber',\n            call: 'eth_getBlockByNumber',\n            params: 2,\n            inputFormatter: [formatters.inputBlockNumberFormatter, function (val) {\n                    return !!val;\n                }],\n            outputFormatter: formatters.outputBlockFormatter\n        }),\n        new Method({\n            name: 'getTransactionReceipt',\n            call: 'eth_getTransactionReceipt',\n            params: 1,\n            inputFormatter: [null],\n            outputFormatter: formatters.outputTransactionReceiptFormatter\n        }),\n        new Method({\n            name: 'getCode',\n            call: 'eth_getCode',\n            params: 2,\n            inputFormatter: [formatters.inputAddressFormatter, formatters.inputDefaultBlockNumberFormatter]\n        }),\n        new Method({\n            name: 'getTransactionByHash',\n            call: 'eth_getTransactionByHash',\n            params: 1,\n            inputFormatter: [null],\n            outputFormatter: formatters.outputTransactionFormatter\n        }),\n        new Subscriptions({\n            name: 'subscribe',\n            type: 'eth',\n            subscriptions: {\n                'newBlockHeaders': {\n                    subscriptionName: 'newHeads',\n                    params: 0,\n                    outputFormatter: formatters.outputBlockFormatter\n                }\n            }\n        })\n    ];\n    // attach methods to this._ethereumCall\n    var _ethereumCall = {};\n    _ethereumCalls.forEach(mthd => {\n        mthd.attachToObject(_ethereumCall);\n        mthd.requestManager = method.requestManager; // assign rather than call setRequestManager()\n    });\n    // fire \"receipt\" and confirmation events and resolve after\n    var checkConfirmation = function (existingReceipt, isPolling, err, blockHeader, sub) {\n        if (!err) {\n            // create fake unsubscribe\n            if (!sub) {\n                sub = {\n                    unsubscribe: function () {\n                        clearInterval(intervalId);\n                        clearTimeout(blockHeaderTimeoutId);\n                    }\n                };\n            }\n            // if we have a valid receipt we don't need to send a request\n            return (existingReceipt ? promiEvent.resolve(existingReceipt) : _ethereumCall.getTransactionReceipt(result))\n                // catch error from requesting receipt\n                .catch(function (err) {\n                sub.unsubscribe();\n                promiseResolved = true;\n                utils._fireError({\n                    message: 'Failed to check for transaction receipt:',\n                    data: err\n                }, defer.eventEmitter, defer.reject);\n            })\n                // if CONFIRMATION listener exists check for confirmations, by setting canUnsubscribe = false\n                .then(async function (receipt) {\n                if (!receipt || !receipt.blockHash) {\n                    throw new Error('Receipt missing or blockHash null');\n                }\n                // apply extra formatters\n                if (method.extraFormatters && method.extraFormatters.receiptFormatter) {\n                    receipt = method.extraFormatters.receiptFormatter(receipt);\n                }\n                // check if confirmation listener exists\n                if (defer.eventEmitter.listeners('confirmation').length > 0) {\n                    var block;\n                    // If there was an immediately retrieved receipt, it's already\n                    // been confirmed by the direct call to checkConfirmation needed\n                    // for parity instant-seal\n                    if (existingReceipt === undefined || confirmationCount !== 0) {\n                        // Get latest block to emit with confirmation\n                        var latestBlock = await _ethereumCall.getBlockByNumber('latest');\n                        var latestBlockHash = latestBlock ? latestBlock.hash : null;\n                        if (isPolling) { // Check if actually a new block is existing on polling\n                            if (lastBlock) {\n                                block = await _ethereumCall.getBlockByNumber(lastBlock.number + 1);\n                                if (block) {\n                                    lastBlock = block;\n                                    defer.eventEmitter.emit('confirmation', confirmationCount, receipt, latestBlockHash);\n                                }\n                            }\n                            else {\n                                block = await _ethereumCall.getBlockByNumber(receipt.blockNumber);\n                                lastBlock = block;\n                                defer.eventEmitter.emit('confirmation', confirmationCount, receipt, latestBlockHash);\n                            }\n                        }\n                        else {\n                            defer.eventEmitter.emit('confirmation', confirmationCount, receipt, latestBlockHash);\n                        }\n                    }\n                    if ((isPolling && block) || !isPolling) {\n                        confirmationCount++;\n                    }\n                    canUnsubscribe = false;\n                    if (confirmationCount === method.transactionConfirmationBlocks + 1) { // add 1 so we account for conf 0\n                        sub.unsubscribe();\n                        defer.eventEmitter.removeAllListeners();\n                    }\n                }\n                return receipt;\n            })\n                // CHECK for CONTRACT DEPLOYMENT\n                .then(async function (receipt) {\n                if (isContractDeployment && !promiseResolved) {\n                    if (!receipt.contractAddress) {\n                        if (canUnsubscribe) {\n                            sub.unsubscribe();\n                            promiseResolved = true;\n                        }\n                        utils._fireError(errors.NoContractAddressFoundError(receipt), defer.eventEmitter, defer.reject, null, receipt);\n                        return;\n                    }\n                    var code;\n                    try {\n                        code = await _ethereumCall.getCode(receipt.contractAddress);\n                    }\n                    catch (err) {\n                        // ignore;\n                    }\n                    if (!code) {\n                        return;\n                    }\n                    // If deployment is status.true and there was a real\n                    // bytecode string, assume it was successful.\n                    var deploymentSuccess = receipt.status === true && hasBytecode;\n                    if (deploymentSuccess || code.length > 2) {\n                        defer.eventEmitter.emit('receipt', receipt);\n                        // if contract, return instance instead of receipt\n                        if (method.extraFormatters && method.extraFormatters.contractDeployFormatter) {\n                            defer.resolve(method.extraFormatters.contractDeployFormatter(receipt));\n                        }\n                        else {\n                            defer.resolve(receipt);\n                        }\n                        // need to remove listeners, as they aren't removed automatically when succesfull\n                        if (canUnsubscribe) {\n                            defer.eventEmitter.removeAllListeners();\n                        }\n                    }\n                    else {\n                        utils._fireError(errors.ContractCodeNotStoredError(receipt), defer.eventEmitter, defer.reject, null, receipt);\n                    }\n                    if (canUnsubscribe) {\n                        sub.unsubscribe();\n                    }\n                    promiseResolved = true;\n                }\n                return receipt;\n            })\n                // CHECK for normal tx check for receipt only\n                .then(async function (receipt) {\n                if (!isContractDeployment && !promiseResolved) {\n                    if (!receipt.outOfGas &&\n                        (!gasProvided || gasProvided !== receipt.gasUsed) &&\n                        (receipt.status === true || receipt.status === '0x1' || typeof receipt.status === 'undefined')) {\n                        defer.eventEmitter.emit('receipt', receipt);\n                        defer.resolve(receipt);\n                        // need to remove listeners, as they aren't removed automatically when succesfull\n                        if (canUnsubscribe) {\n                            defer.eventEmitter.removeAllListeners();\n                        }\n                    }\n                    else {\n                        receiptJSON = JSON.stringify(receipt, null, 2);\n                        if (receipt.status === false || receipt.status === '0x0') {\n                            try {\n                                var revertMessage = null;\n                                if (method.handleRevert &&\n                                    (method.call === 'eth_sendTransaction' || method.call === 'eth_sendRawTransaction')) {\n                                    var txReplayOptions = payload.params[0];\n                                    // If send was raw, fetch the transaction and reconstitute the\n                                    // original params so they can be replayed with `eth_call`\n                                    if (method.call === 'eth_sendRawTransaction') {\n                                        var rawTransactionHex = payload.params[0];\n                                        var parsedTx = EthersTransactionUtils.parse(rawTransactionHex);\n                                        txReplayOptions = formatters.inputTransactionFormatter({\n                                            data: parsedTx.data,\n                                            to: parsedTx.to,\n                                            from: parsedTx.from,\n                                            gas: parsedTx.gasLimit.toHexString(),\n                                            gasPrice: parsedTx.gasPrice ? parsedTx.gasPrice.toHexString() : undefined,\n                                            value: parsedTx.value.toHexString()\n                                        });\n                                    }\n                                    // Get revert reason string with eth_call\n                                    revertMessage = await method.getRevertReason(txReplayOptions, receipt.blockNumber);\n                                    if (revertMessage) { // Only throw a revert error if a revert reason is existing\n                                        utils._fireError(errors.TransactionRevertInstructionError(revertMessage.reason, revertMessage.signature, receipt), defer.eventEmitter, defer.reject, null, receipt);\n                                    }\n                                    else {\n                                        throw false; // Throw false and let the try/catch statement handle the error correctly after\n                                    }\n                                }\n                                else {\n                                    throw false; // Throw false and let the try/catch statement handle the error correctly after\n                                }\n                            }\n                            catch (error) {\n                                // Throw an normal revert error if no revert reason is given or the detection of it is disabled\n                                utils._fireError(errors.TransactionRevertedWithoutReasonError(receipt), defer.eventEmitter, defer.reject, null, receipt);\n                            }\n                        }\n                        else {\n                            // Throw OOG if status is not existing and provided gas and used gas are equal\n                            utils._fireError(errors.TransactionOutOfGasError(receipt), defer.eventEmitter, defer.reject, null, receipt);\n                        }\n                    }\n                    if (canUnsubscribe) {\n                        sub.unsubscribe();\n                    }\n                    promiseResolved = true;\n                }\n            })\n                // time out the transaction if not mined after 50 blocks\n                .catch(function () {\n                timeoutCount++;\n                // check to see if we are http polling\n                if (!!isPolling) {\n                    // polling timeout is different than transactionBlockTimeout blocks since we are triggering every second\n                    if (timeoutCount - 1 >= method.transactionPollingTimeout) {\n                        sub.unsubscribe();\n                        promiseResolved = true;\n                        utils._fireError(errors.TransactionError('Transaction was not mined within ' + method.transactionPollingTimeout + ' seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!'), defer.eventEmitter, defer.reject);\n                    }\n                }\n                else {\n                    if (timeoutCount - 1 >= method.transactionBlockTimeout) {\n                        sub.unsubscribe();\n                        promiseResolved = true;\n                        utils._fireError(errors.TransactionError('Transaction was not mined within ' + method.transactionBlockTimeout + ' blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!'), defer.eventEmitter, defer.reject);\n                    }\n                }\n            });\n        }\n        else {\n            sub.unsubscribe();\n            promiseResolved = true;\n            utils._fireError({\n                message: 'Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.',\n                data: err\n            }, defer.eventEmitter, defer.reject);\n        }\n    };\n    // start watching for confirmation depending on the support features of the provider\n    var startWatching = function (existingReceipt) {\n        let blockHeaderArrived = false;\n        const startInterval = () => {\n            intervalId = setInterval(checkConfirmation.bind(null, existingReceipt, true), method.transactionPollingInterval);\n        };\n        // If provider do not support event subscription use polling\n        if (!this.requestManager.provider.on) {\n            return startInterval();\n        }\n        // Subscribe to new block headers to look for tx receipt\n        _ethereumCall.subscribe('newBlockHeaders', function (err, blockHeader, sub) {\n            blockHeaderArrived = true;\n            if (err || !blockHeader) {\n                // fall back to polling\n                return startInterval();\n            }\n            checkConfirmation(existingReceipt, false, err, blockHeader, sub);\n        });\n        // Fallback to polling if tx receipt didn't arrived in \"blockHeaderTimeout\" [10 seconds]\n        blockHeaderTimeoutId = setTimeout(() => {\n            if (!blockHeaderArrived) {\n                startInterval();\n            }\n        }, this.blockHeaderTimeout * 1000);\n    }.bind(this);\n    // first check if we already have a confirmed transaction\n    _ethereumCall.getTransactionReceipt(result)\n        .then(function (receipt) {\n        if (receipt && receipt.blockHash) {\n            if (defer.eventEmitter.listeners('confirmation').length > 0) {\n                // We must keep on watching for new Blocks, if a confirmation listener is present\n                startWatching(receipt);\n            }\n            checkConfirmation(receipt, false);\n        }\n        else if (!promiseResolved) {\n            startWatching();\n        }\n    })\n        .catch(function () {\n        if (!promiseResolved)\n            startWatching();\n    });\n};\nvar getWallet = function (from, accounts) {\n    var wallet = null;\n    // is index given\n    if (typeof from === 'number') {\n        wallet = accounts.wallet[from];\n        // is account given\n    }\n    else if (!!from && typeof from === 'object' && from.address && from.privateKey) {\n        wallet = from;\n        // search in wallet for address\n    }\n    else {\n        wallet = accounts.wallet[from.toLowerCase()];\n    }\n    return wallet;\n};\nMethod.prototype.buildCall = function () {\n    var method = this, isSendTx = (method.call === 'eth_sendTransaction' || method.call === 'eth_sendRawTransaction'), // || method.call === 'personal_sendTransaction'\n    isCall = (method.call === 'eth_call');\n    // actual send function\n    var send = function () {\n        var defer = promiEvent(!isSendTx), payload = method.toPayload(Array.prototype.slice.call(arguments));\n        // CALLBACK function\n        var sendTxCallback = function (err, result) {\n            if (method.handleRevert && isCall && method.abiCoder) {\n                var reasonData;\n                // Ganache / Geth <= 1.9.13 return the reason data as a successful eth_call response\n                // Geth >= 1.9.15 attaches the reason data to an error object.\n                // Geth 1.9.14 is missing revert reason (https://github.com/ethereum/web3.js/issues/3520)\n                if (!err && method.isRevertReasonString(result)) {\n                    reasonData = result.substring(10);\n                }\n                else if (err && err.data) {\n                    reasonData = err.data.substring(10);\n                }\n                if (reasonData) {\n                    var reason = method.abiCoder.decodeParameter('string', '0x' + reasonData);\n                    var signature = 'Error(String)';\n                    utils._fireError(errors.RevertInstructionError(reason, signature), defer.eventEmitter, defer.reject, payload.callback, {\n                        reason: reason,\n                        signature: signature\n                    });\n                    return;\n                }\n            }\n            try {\n                result = method.formatOutput(result);\n            }\n            catch (e) {\n                err = e;\n            }\n            if (result instanceof Error) {\n                err = result;\n            }\n            if (!err) {\n                if (payload.callback) {\n                    payload.callback(null, result);\n                }\n            }\n            else {\n                if (err.error) {\n                    err = err.error;\n                }\n                return utils._fireError(err, defer.eventEmitter, defer.reject, payload.callback);\n            }\n            // return PROMISE\n            if (!isSendTx) {\n                if (!err) {\n                    defer.resolve(result);\n                }\n                // return PROMIEVENT\n            }\n            else {\n                defer.eventEmitter.emit('transactionHash', result);\n                method._confirmTransaction(defer, result, payload);\n            }\n        };\n        // SENDS the SIGNED SIGNATURE\n        var sendSignedTx = function (sign) {\n            var signedPayload = { ...payload,\n                method: 'eth_sendRawTransaction',\n                params: [sign.rawTransaction]\n            };\n            method.requestManager.send(signedPayload, sendTxCallback);\n        };\n        var sendRequest = function (payload, method) {\n            if (method && method.accounts && method.accounts.wallet && method.accounts.wallet.length) {\n                var wallet;\n                // ETH_SENDTRANSACTION\n                if (payload.method === 'eth_sendTransaction') {\n                    var tx = payload.params[0];\n                    wallet = getWallet((!!tx && typeof tx === 'object') ? tx.from : null, method.accounts);\n                    // If wallet was found, sign tx, and send using sendRawTransaction\n                    if (wallet && wallet.privateKey) {\n                        var tx = JSON.parse(JSON.stringify(tx));\n                        delete tx.from;\n                        if (method.defaultChain && !tx.chain) {\n                            tx.chain = method.defaultChain;\n                        }\n                        if (method.defaultHardfork && !tx.hardfork) {\n                            tx.hardfork = method.defaultHardfork;\n                        }\n                        if (method.defaultCommon && !tx.common) {\n                            tx.common = method.defaultCommon;\n                        }\n                        method.accounts.signTransaction(tx, wallet.privateKey)\n                            .then(sendSignedTx)\n                            .catch(function (err) {\n                            if (typeof defer.eventEmitter.listeners === 'function' && defer.eventEmitter.listeners('error').length) {\n                                try {\n                                    defer.eventEmitter.emit('error', err);\n                                }\n                                catch (err) {\n                                    // Ignore userland error prevent it to bubble up within web3.\n                                }\n                                defer.eventEmitter.removeAllListeners();\n                                defer.eventEmitter.catch(function () {\n                                });\n                            }\n                            defer.reject(err);\n                        });\n                        return;\n                    }\n                    // ETH_SIGN\n                }\n                else if (payload.method === 'eth_sign') {\n                    var data = payload.params[1];\n                    wallet = getWallet(payload.params[0], method.accounts);\n                    // If wallet was found, sign tx, and send using sendRawTransaction\n                    if (wallet && wallet.privateKey) {\n                        var sign = method.accounts.sign(data, wallet.privateKey);\n                        if (payload.callback) {\n                            payload.callback(null, sign.signature);\n                        }\n                        defer.resolve(sign.signature);\n                        return;\n                    }\n                }\n            }\n            return method.requestManager.send(payload, sendTxCallback);\n        };\n        // Send the actual transaction\n        if (isSendTx\n            && !!payload.params[0]\n            && typeof payload.params[0] === 'object'\n            && (typeof payload.params[0].gasPrice === 'undefined'\n                && (typeof payload.params[0].maxPriorityFeePerGas === 'undefined'\n                    || typeof payload.params[0].maxFeePerGas === 'undefined'))) {\n            _handleTxPricing(method, payload.params[0]).then(txPricing => {\n                if (txPricing.gasPrice !== undefined) {\n                    payload.params[0].gasPrice = txPricing.gasPrice;\n                }\n                else if (txPricing.maxPriorityFeePerGas !== undefined\n                    && txPricing.maxFeePerGas !== undefined) {\n                    payload.params[0].maxPriorityFeePerGas = txPricing.maxPriorityFeePerGas;\n                    payload.params[0].maxFeePerGas = txPricing.maxFeePerGas;\n                }\n                if (isSendTx) {\n                    setTimeout(() => {\n                        defer.eventEmitter.emit('sending', payload);\n                    }, 0);\n                }\n                sendRequest(payload, method);\n            });\n        }\n        else {\n            if (isSendTx) {\n                setTimeout(() => {\n                    defer.eventEmitter.emit('sending', payload);\n                }, 0);\n            }\n            sendRequest(payload, method);\n        }\n        if (isSendTx) {\n            setTimeout(() => {\n                defer.eventEmitter.emit('sent', payload);\n            }, 0);\n        }\n        return defer.eventEmitter;\n    };\n    // necessary to attach things to the method\n    send.method = method;\n    // necessary for batch requests\n    send.request = this.request.bind(this);\n    return send;\n};\nfunction _handleTxPricing(method, tx) {\n    return new Promise((resolve, reject) => {\n        try {\n            var getBlockByNumber = (new Method({\n                name: 'getBlockByNumber',\n                call: 'eth_getBlockByNumber',\n                params: 2,\n                inputFormatter: [function (blockNumber) {\n                        return blockNumber ? utils.toHex(blockNumber) : 'latest';\n                    }, function () {\n                        return false;\n                    }]\n            })).createFunction(method.requestManager);\n            var getGasPrice = (new Method({\n                name: 'getGasPrice',\n                call: 'eth_gasPrice',\n                params: 0\n            })).createFunction(method.requestManager);\n            Promise.all([\n                getBlockByNumber(),\n                getGasPrice()\n            ]).then(responses => {\n                const [block, gasPrice] = responses;\n                if ((tx.type === '0x2' || tx.type === undefined) &&\n                    (block && block.baseFeePerGas)) {\n                    // The network supports EIP-1559\n                    // Taken from https://github.com/ethers-io/ethers.js/blob/ba6854bdd5a912fe873d5da494cb5c62c190adde/packages/abstract-provider/src.ts/index.ts#L230\n                    let maxPriorityFeePerGas, maxFeePerGas;\n                    if (tx.gasPrice) {\n                        // Using legacy gasPrice property on an eip-1559 network,\n                        // so use gasPrice as both fee properties\n                        maxPriorityFeePerGas = tx.gasPrice;\n                        maxFeePerGas = tx.gasPrice;\n                        delete tx.gasPrice;\n                    }\n                    else {\n                        maxPriorityFeePerGas = tx.maxPriorityFeePerGas || '0x9502F900'; // 2.5 Gwei\n                        maxFeePerGas = tx.maxFeePerGas ||\n                            utils.toHex(utils.toBN(block.baseFeePerGas)\n                                .mul(utils.toBN(2))\n                                .add(utils.toBN(maxPriorityFeePerGas)));\n                    }\n                    resolve({ maxFeePerGas, maxPriorityFeePerGas });\n                }\n                else {\n                    if (tx.maxPriorityFeePerGas || tx.maxFeePerGas)\n                        throw Error(\"Network doesn't support eip-1559\");\n                    resolve({ gasPrice });\n                }\n            });\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\n/**\n * Returns the revert reason string if existing or otherwise false.\n *\n * @method getRevertReason\n *\n * @param {Object} txOptions\n * @param {Number} blockNumber\n *\n * @returns {Promise<Boolean|String>}\n */\nMethod.prototype.getRevertReason = function (txOptions, blockNumber) {\n    var self = this;\n    return new Promise(function (resolve, reject) {\n        (new Method({\n            name: 'call',\n            call: 'eth_call',\n            params: 2,\n            abiCoder: self.abiCoder,\n            handleRevert: true\n        }))\n            .createFunction(self.requestManager)(txOptions, utils.numberToHex(blockNumber))\n            .then(function () {\n            resolve(false);\n        })\n            .catch(function (error) {\n            if (error.reason) {\n                resolve({\n                    reason: error.reason,\n                    signature: error.signature\n                });\n            }\n            else {\n                reject(error);\n            }\n        });\n    });\n};\n/**\n * Checks if the given hex string is a revert message from the EVM\n *\n * @method isRevertReasonString\n *\n * @param {String} data - Hex string prefixed with 0x\n *\n * @returns {Boolean}\n */\nMethod.prototype.isRevertReasonString = function (data) {\n    return typeof data === 'string' && ((data.length - 2) / 2) % 32 === 4 && data.substring(0, 10) === '0x08c379a0';\n};\n/**\n * Should be called to create the pure JSONRPC request which can be used in a batch request\n *\n * @method request\n * @return {Object} jsonrpc request\n */\nMethod.prototype.request = function () {\n    var payload = this.toPayload(Array.prototype.slice.call(arguments));\n    payload.format = this.formatOutput.bind(this);\n    return payload;\n};\nmodule.exports = Method;\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2016\n */\n\"use strict\";\nvar EventEmitter = require('eventemitter3');\n/**\n * This function generates a defer promise and adds eventEmitter functionality to it\n *\n * @method eventifiedPromise\n */\nvar PromiEvent = function PromiEvent(justPromise) {\n    var resolve, reject, eventEmitter = new Promise(function () {\n        resolve = arguments[0];\n        reject = arguments[1];\n    });\n    if (justPromise) {\n        return {\n            resolve: resolve,\n            reject: reject,\n            eventEmitter: eventEmitter\n        };\n    }\n    // get eventEmitter\n    var emitter = new EventEmitter();\n    // add eventEmitter to the promise\n    eventEmitter._events = emitter._events;\n    eventEmitter.emit = emitter.emit;\n    eventEmitter.on = emitter.on;\n    eventEmitter.once = emitter.once;\n    eventEmitter.off = emitter.off;\n    eventEmitter.listeners = emitter.listeners;\n    eventEmitter.addListener = emitter.addListener;\n    eventEmitter.removeListener = emitter.removeListener;\n    eventEmitter.removeAllListeners = emitter.removeAllListeners;\n    return {\n        resolve: resolve,\n        reject: reject,\n        eventEmitter: eventEmitter\n    };\n};\nPromiEvent.resolve = function (value) {\n    var promise = PromiEvent(true);\n    promise.resolve(value);\n    return promise.eventEmitter;\n};\nmodule.exports = PromiEvent;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar Subscription = require('./subscription.js');\nvar Subscriptions = function Subscriptions(options) {\n    this.name = options.name;\n    this.type = options.type;\n    this.subscriptions = options.subscriptions || {};\n    this.requestManager = null;\n};\nSubscriptions.prototype.setRequestManager = function (rm) {\n    this.requestManager = rm;\n};\nSubscriptions.prototype.attachToObject = function (obj) {\n    var func = this.buildCall();\n    var name = this.name.split('.');\n    if (name.length > 1) {\n        obj[name[0]] = obj[name[0]] || {};\n        obj[name[0]][name[1]] = func;\n    }\n    else {\n        obj[name[0]] = func;\n    }\n};\nSubscriptions.prototype.buildCall = function () {\n    var _this = this;\n    return function () {\n        if (!_this.subscriptions[arguments[0]]) {\n            console.warn('Subscription ' + JSON.stringify(arguments[0]) + ' doesn\\'t exist. Subscribing anyway.');\n        }\n        var subscription = new Subscription({\n            subscription: _this.subscriptions[arguments[0]] || {},\n            requestManager: _this.requestManager,\n            type: _this.type\n        });\n        return subscription.subscribe.apply(subscription, arguments);\n    };\n};\nmodule.exports = {\n    subscriptions: Subscriptions,\n    subscription: Subscription\n};\n","export const version = \"abi/5.6.4\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\n;\nconst _constructorGuard = {};\nlet ModifiersBytes = { calldata: true, memory: true, storage: true };\nlet ModifiersNest = { calldata: true, memory: true };\nfunction checkModifier(type, name) {\n    if (type === \"bytes\" || type === \"string\") {\n        if (ModifiersBytes[name]) {\n            return true;\n        }\n    }\n    else if (type === \"address\") {\n        if (name === \"payable\") {\n            return true;\n        }\n    }\n    else if (type.indexOf(\"[\") >= 0 || type === \"tuple\") {\n        if (ModifiersNest[name]) {\n            return true;\n        }\n    }\n    if (ModifiersBytes[name] || name === \"payable\") {\n        logger.throwArgumentError(\"invalid modifier\", \"name\", name);\n    }\n    return false;\n}\n// @TODO: Make sure that children of an indexed tuple are marked with a null indexed\nfunction parseParamType(param, allowIndexed) {\n    let originalParam = param;\n    function throwError(i) {\n        logger.throwArgumentError(`unexpected character at position ${i}`, \"param\", param);\n    }\n    param = param.replace(/\\s/g, \" \");\n    function newNode(parent) {\n        let node = { type: \"\", name: \"\", parent: parent, state: { allowType: true } };\n        if (allowIndexed) {\n            node.indexed = false;\n        }\n        return node;\n    }\n    let parent = { type: \"\", name: \"\", state: { allowType: true } };\n    let node = parent;\n    for (let i = 0; i < param.length; i++) {\n        let c = param[i];\n        switch (c) {\n            case \"(\":\n                if (node.state.allowType && node.type === \"\") {\n                    node.type = \"tuple\";\n                }\n                else if (!node.state.allowParams) {\n                    throwError(i);\n                }\n                node.state.allowType = false;\n                node.type = verifyType(node.type);\n                node.components = [newNode(node)];\n                node = node.components[0];\n                break;\n            case \")\":\n                delete node.state;\n                if (node.name === \"indexed\") {\n                    if (!allowIndexed) {\n                        throwError(i);\n                    }\n                    node.indexed = true;\n                    node.name = \"\";\n                }\n                if (checkModifier(node.type, node.name)) {\n                    node.name = \"\";\n                }\n                node.type = verifyType(node.type);\n                let child = node;\n                node = node.parent;\n                if (!node) {\n                    throwError(i);\n                }\n                delete child.parent;\n                node.state.allowParams = false;\n                node.state.allowName = true;\n                node.state.allowArray = true;\n                break;\n            case \",\":\n                delete node.state;\n                if (node.name === \"indexed\") {\n                    if (!allowIndexed) {\n                        throwError(i);\n                    }\n                    node.indexed = true;\n                    node.name = \"\";\n                }\n                if (checkModifier(node.type, node.name)) {\n                    node.name = \"\";\n                }\n                node.type = verifyType(node.type);\n                let sibling = newNode(node.parent);\n                //{ type: \"\", name: \"\", parent: node.parent, state: { allowType: true } };\n                node.parent.components.push(sibling);\n                delete node.parent;\n                node = sibling;\n                break;\n            // Hit a space...\n            case \" \":\n                // If reading type, the type is done and may read a param or name\n                if (node.state.allowType) {\n                    if (node.type !== \"\") {\n                        node.type = verifyType(node.type);\n                        delete node.state.allowType;\n                        node.state.allowName = true;\n                        node.state.allowParams = true;\n                    }\n                }\n                // If reading name, the name is done\n                if (node.state.allowName) {\n                    if (node.name !== \"\") {\n                        if (node.name === \"indexed\") {\n                            if (!allowIndexed) {\n                                throwError(i);\n                            }\n                            if (node.indexed) {\n                                throwError(i);\n                            }\n                            node.indexed = true;\n                            node.name = \"\";\n                        }\n                        else if (checkModifier(node.type, node.name)) {\n                            node.name = \"\";\n                        }\n                        else {\n                            node.state.allowName = false;\n                        }\n                    }\n                }\n                break;\n            case \"[\":\n                if (!node.state.allowArray) {\n                    throwError(i);\n                }\n                node.type += c;\n                node.state.allowArray = false;\n                node.state.allowName = false;\n                node.state.readArray = true;\n                break;\n            case \"]\":\n                if (!node.state.readArray) {\n                    throwError(i);\n                }\n                node.type += c;\n                node.state.readArray = false;\n                node.state.allowArray = true;\n                node.state.allowName = true;\n                break;\n            default:\n                if (node.state.allowType) {\n                    node.type += c;\n                    node.state.allowParams = true;\n                    node.state.allowArray = true;\n                }\n                else if (node.state.allowName) {\n                    node.name += c;\n                    delete node.state.allowArray;\n                }\n                else if (node.state.readArray) {\n                    node.type += c;\n                }\n                else {\n                    throwError(i);\n                }\n        }\n    }\n    if (node.parent) {\n        logger.throwArgumentError(\"unexpected eof\", \"param\", param);\n    }\n    delete parent.state;\n    if (node.name === \"indexed\") {\n        if (!allowIndexed) {\n            throwError(originalParam.length - 7);\n        }\n        if (node.indexed) {\n            throwError(originalParam.length - 7);\n        }\n        node.indexed = true;\n        node.name = \"\";\n    }\n    else if (checkModifier(node.type, node.name)) {\n        node.name = \"\";\n    }\n    parent.type = verifyType(parent.type);\n    return parent;\n}\nfunction populate(object, params) {\n    for (let key in params) {\n        defineReadOnly(object, key, params[key]);\n    }\n}\nexport const FormatTypes = Object.freeze({\n    // Bare formatting, as is needed for computing a sighash of an event or function\n    sighash: \"sighash\",\n    // Human-Readable with Minimal spacing and without names (compact human-readable)\n    minimal: \"minimal\",\n    // Human-Readable with nice spacing, including all names\n    full: \"full\",\n    // JSON-format a la Solidity\n    json: \"json\"\n});\nconst paramTypeArray = new RegExp(/^(.*)\\[([0-9]*)\\]$/);\nexport class ParamType {\n    constructor(constructorGuard, params) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"use fromString\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new ParamType()\"\n            });\n        }\n        populate(this, params);\n        let match = this.type.match(paramTypeArray);\n        if (match) {\n            populate(this, {\n                arrayLength: parseInt(match[2] || \"-1\"),\n                arrayChildren: ParamType.fromObject({\n                    type: match[1],\n                    components: this.components\n                }),\n                baseType: \"array\"\n            });\n        }\n        else {\n            populate(this, {\n                arrayLength: null,\n                arrayChildren: null,\n                baseType: ((this.components != null) ? \"tuple\" : this.type)\n            });\n        }\n        this._isParamType = true;\n        Object.freeze(this);\n    }\n    // Format the parameter fragment\n    //   - sighash: \"(uint256,address)\"\n    //   - minimal: \"tuple(uint256,address) indexed\"\n    //   - full:    \"tuple(uint256 foo, address bar) indexed baz\"\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            let result = {\n                type: ((this.baseType === \"tuple\") ? \"tuple\" : this.type),\n                name: (this.name || undefined)\n            };\n            if (typeof (this.indexed) === \"boolean\") {\n                result.indexed = this.indexed;\n            }\n            if (this.components) {\n                result.components = this.components.map((comp) => JSON.parse(comp.format(format)));\n            }\n            return JSON.stringify(result);\n        }\n        let result = \"\";\n        // Array\n        if (this.baseType === \"array\") {\n            result += this.arrayChildren.format(format);\n            result += \"[\" + (this.arrayLength < 0 ? \"\" : String(this.arrayLength)) + \"]\";\n        }\n        else {\n            if (this.baseType === \"tuple\") {\n                if (format !== FormatTypes.sighash) {\n                    result += this.type;\n                }\n                result += \"(\" + this.components.map((comp) => comp.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \")\";\n            }\n            else {\n                result += this.type;\n            }\n        }\n        if (format !== FormatTypes.sighash) {\n            if (this.indexed === true) {\n                result += \" indexed\";\n            }\n            if (format === FormatTypes.full && this.name) {\n                result += \" \" + this.name;\n            }\n        }\n        return result;\n    }\n    static from(value, allowIndexed) {\n        if (typeof (value) === \"string\") {\n            return ParamType.fromString(value, allowIndexed);\n        }\n        return ParamType.fromObject(value);\n    }\n    static fromObject(value) {\n        if (ParamType.isParamType(value)) {\n            return value;\n        }\n        return new ParamType(_constructorGuard, {\n            name: (value.name || null),\n            type: verifyType(value.type),\n            indexed: ((value.indexed == null) ? null : !!value.indexed),\n            components: (value.components ? value.components.map(ParamType.fromObject) : null)\n        });\n    }\n    static fromString(value, allowIndexed) {\n        function ParamTypify(node) {\n            return ParamType.fromObject({\n                name: node.name,\n                type: node.type,\n                indexed: node.indexed,\n                components: node.components\n            });\n        }\n        return ParamTypify(parseParamType(value, !!allowIndexed));\n    }\n    static isParamType(value) {\n        return !!(value != null && value._isParamType);\n    }\n}\n;\nfunction parseParams(value, allowIndex) {\n    return splitNesting(value).map((param) => ParamType.fromString(param, allowIndex));\n}\nexport class Fragment {\n    constructor(constructorGuard, params) {\n        if (constructorGuard !== _constructorGuard) {\n            logger.throwError(\"use a static from method\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"new Fragment()\"\n            });\n        }\n        populate(this, params);\n        this._isFragment = true;\n        Object.freeze(this);\n    }\n    static from(value) {\n        if (Fragment.isFragment(value)) {\n            return value;\n        }\n        if (typeof (value) === \"string\") {\n            return Fragment.fromString(value);\n        }\n        return Fragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (Fragment.isFragment(value)) {\n            return value;\n        }\n        switch (value.type) {\n            case \"function\":\n                return FunctionFragment.fromObject(value);\n            case \"event\":\n                return EventFragment.fromObject(value);\n            case \"constructor\":\n                return ConstructorFragment.fromObject(value);\n            case \"error\":\n                return ErrorFragment.fromObject(value);\n            case \"fallback\":\n            case \"receive\":\n                // @TODO: Something? Maybe return a FunctionFragment? A custom DefaultFunctionFragment?\n                return null;\n        }\n        return logger.throwArgumentError(\"invalid fragment object\", \"value\", value);\n    }\n    static fromString(value) {\n        // Make sure the \"returns\" is surrounded by a space and all whitespace is exactly one space\n        value = value.replace(/\\s/g, \" \");\n        value = value.replace(/\\(/g, \" (\").replace(/\\)/g, \") \").replace(/\\s+/g, \" \");\n        value = value.trim();\n        if (value.split(\" \")[0] === \"event\") {\n            return EventFragment.fromString(value.substring(5).trim());\n        }\n        else if (value.split(\" \")[0] === \"function\") {\n            return FunctionFragment.fromString(value.substring(8).trim());\n        }\n        else if (value.split(\"(\")[0].trim() === \"constructor\") {\n            return ConstructorFragment.fromString(value.trim());\n        }\n        else if (value.split(\" \")[0] === \"error\") {\n            return ErrorFragment.fromString(value.substring(5).trim());\n        }\n        return logger.throwArgumentError(\"unsupported fragment\", \"value\", value);\n    }\n    static isFragment(value) {\n        return !!(value && value._isFragment);\n    }\n}\nexport class EventFragment extends Fragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"event\",\n                anonymous: this.anonymous,\n                name: this.name,\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format)))\n            });\n        }\n        let result = \"\";\n        if (format !== FormatTypes.sighash) {\n            result += \"event \";\n        }\n        result += this.name + \"(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        if (format !== FormatTypes.sighash) {\n            if (this.anonymous) {\n                result += \"anonymous \";\n            }\n        }\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return EventFragment.fromString(value);\n        }\n        return EventFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (EventFragment.isEventFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"event\") {\n            logger.throwArgumentError(\"invalid event object\", \"value\", value);\n        }\n        const params = {\n            name: verifyIdentifier(value.name),\n            anonymous: value.anonymous,\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : []),\n            type: \"event\"\n        };\n        return new EventFragment(_constructorGuard, params);\n    }\n    static fromString(value) {\n        let match = value.match(regexParen);\n        if (!match) {\n            logger.throwArgumentError(\"invalid event string\", \"value\", value);\n        }\n        let anonymous = false;\n        match[3].split(\" \").forEach((modifier) => {\n            switch (modifier.trim()) {\n                case \"anonymous\":\n                    anonymous = true;\n                    break;\n                case \"\":\n                    break;\n                default:\n                    logger.warn(\"unknown modifier: \" + modifier);\n            }\n        });\n        return EventFragment.fromObject({\n            name: match[1].trim(),\n            anonymous: anonymous,\n            inputs: parseParams(match[2], true),\n            type: \"event\"\n        });\n    }\n    static isEventFragment(value) {\n        return (value && value._isFragment && value.type === \"event\");\n    }\n}\nfunction parseGas(value, params) {\n    params.gas = null;\n    let comps = value.split(\"@\");\n    if (comps.length !== 1) {\n        if (comps.length > 2) {\n            logger.throwArgumentError(\"invalid human-readable ABI signature\", \"value\", value);\n        }\n        if (!comps[1].match(/^[0-9]+$/)) {\n            logger.throwArgumentError(\"invalid human-readable ABI signature gas\", \"value\", value);\n        }\n        params.gas = BigNumber.from(comps[1]);\n        return comps[0];\n    }\n    return value;\n}\nfunction parseModifiers(value, params) {\n    params.constant = false;\n    params.payable = false;\n    params.stateMutability = \"nonpayable\";\n    value.split(\" \").forEach((modifier) => {\n        switch (modifier.trim()) {\n            case \"constant\":\n                params.constant = true;\n                break;\n            case \"payable\":\n                params.payable = true;\n                params.stateMutability = \"payable\";\n                break;\n            case \"nonpayable\":\n                params.payable = false;\n                params.stateMutability = \"nonpayable\";\n                break;\n            case \"pure\":\n                params.constant = true;\n                params.stateMutability = \"pure\";\n                break;\n            case \"view\":\n                params.constant = true;\n                params.stateMutability = \"view\";\n                break;\n            case \"external\":\n            case \"public\":\n            case \"\":\n                break;\n            default:\n                console.log(\"unknown modifier: \" + modifier);\n        }\n    });\n}\nfunction verifyState(value) {\n    let result = {\n        constant: false,\n        payable: true,\n        stateMutability: \"payable\"\n    };\n    if (value.stateMutability != null) {\n        result.stateMutability = value.stateMutability;\n        // Set (and check things are consistent) the constant property\n        result.constant = (result.stateMutability === \"view\" || result.stateMutability === \"pure\");\n        if (value.constant != null) {\n            if ((!!value.constant) !== result.constant) {\n                logger.throwArgumentError(\"cannot have constant function with mutability \" + result.stateMutability, \"value\", value);\n            }\n        }\n        // Set (and check things are consistent) the payable property\n        result.payable = (result.stateMutability === \"payable\");\n        if (value.payable != null) {\n            if ((!!value.payable) !== result.payable) {\n                logger.throwArgumentError(\"cannot have payable function with mutability \" + result.stateMutability, \"value\", value);\n            }\n        }\n    }\n    else if (value.payable != null) {\n        result.payable = !!value.payable;\n        // If payable we can assume non-constant; otherwise we can't assume\n        if (value.constant == null && !result.payable && value.type !== \"constructor\") {\n            logger.throwArgumentError(\"unable to determine stateMutability\", \"value\", value);\n        }\n        result.constant = !!value.constant;\n        if (result.constant) {\n            result.stateMutability = \"view\";\n        }\n        else {\n            result.stateMutability = (result.payable ? \"payable\" : \"nonpayable\");\n        }\n        if (result.payable && result.constant) {\n            logger.throwArgumentError(\"cannot have constant payable function\", \"value\", value);\n        }\n    }\n    else if (value.constant != null) {\n        result.constant = !!value.constant;\n        result.payable = !result.constant;\n        result.stateMutability = (result.constant ? \"view\" : \"payable\");\n    }\n    else if (value.type !== \"constructor\") {\n        logger.throwArgumentError(\"unable to determine stateMutability\", \"value\", value);\n    }\n    return result;\n}\nexport class ConstructorFragment extends Fragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"constructor\",\n                stateMutability: ((this.stateMutability !== \"nonpayable\") ? this.stateMutability : undefined),\n                payable: this.payable,\n                gas: (this.gas ? this.gas.toNumber() : undefined),\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format)))\n            });\n        }\n        if (format === FormatTypes.sighash) {\n            logger.throwError(\"cannot format a constructor for sighash\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"format(sighash)\"\n            });\n        }\n        let result = \"constructor(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        if (this.stateMutability && this.stateMutability !== \"nonpayable\") {\n            result += this.stateMutability + \" \";\n        }\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return ConstructorFragment.fromString(value);\n        }\n        return ConstructorFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (ConstructorFragment.isConstructorFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"constructor\") {\n            logger.throwArgumentError(\"invalid constructor object\", \"value\", value);\n        }\n        let state = verifyState(value);\n        if (state.constant) {\n            logger.throwArgumentError(\"constructor cannot be constant\", \"value\", value);\n        }\n        const params = {\n            name: null,\n            type: value.type,\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : []),\n            payable: state.payable,\n            stateMutability: state.stateMutability,\n            gas: (value.gas ? BigNumber.from(value.gas) : null)\n        };\n        return new ConstructorFragment(_constructorGuard, params);\n    }\n    static fromString(value) {\n        let params = { type: \"constructor\" };\n        value = parseGas(value, params);\n        let parens = value.match(regexParen);\n        if (!parens || parens[1].trim() !== \"constructor\") {\n            logger.throwArgumentError(\"invalid constructor string\", \"value\", value);\n        }\n        params.inputs = parseParams(parens[2].trim(), false);\n        parseModifiers(parens[3].trim(), params);\n        return ConstructorFragment.fromObject(params);\n    }\n    static isConstructorFragment(value) {\n        return (value && value._isFragment && value.type === \"constructor\");\n    }\n}\nexport class FunctionFragment extends ConstructorFragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"function\",\n                name: this.name,\n                constant: this.constant,\n                stateMutability: ((this.stateMutability !== \"nonpayable\") ? this.stateMutability : undefined),\n                payable: this.payable,\n                gas: (this.gas ? this.gas.toNumber() : undefined),\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format))),\n                outputs: this.outputs.map((output) => JSON.parse(output.format(format))),\n            });\n        }\n        let result = \"\";\n        if (format !== FormatTypes.sighash) {\n            result += \"function \";\n        }\n        result += this.name + \"(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        if (format !== FormatTypes.sighash) {\n            if (this.stateMutability) {\n                if (this.stateMutability !== \"nonpayable\") {\n                    result += (this.stateMutability + \" \");\n                }\n            }\n            else if (this.constant) {\n                result += \"view \";\n            }\n            if (this.outputs && this.outputs.length) {\n                result += \"returns (\" + this.outputs.map((output) => output.format(format)).join(\", \") + \") \";\n            }\n            if (this.gas != null) {\n                result += \"@\" + this.gas.toString() + \" \";\n            }\n        }\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return FunctionFragment.fromString(value);\n        }\n        return FunctionFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (FunctionFragment.isFunctionFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"function\") {\n            logger.throwArgumentError(\"invalid function object\", \"value\", value);\n        }\n        let state = verifyState(value);\n        const params = {\n            type: value.type,\n            name: verifyIdentifier(value.name),\n            constant: state.constant,\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : []),\n            outputs: (value.outputs ? value.outputs.map(ParamType.fromObject) : []),\n            payable: state.payable,\n            stateMutability: state.stateMutability,\n            gas: (value.gas ? BigNumber.from(value.gas) : null)\n        };\n        return new FunctionFragment(_constructorGuard, params);\n    }\n    static fromString(value) {\n        let params = { type: \"function\" };\n        value = parseGas(value, params);\n        let comps = value.split(\" returns \");\n        if (comps.length > 2) {\n            logger.throwArgumentError(\"invalid function string\", \"value\", value);\n        }\n        let parens = comps[0].match(regexParen);\n        if (!parens) {\n            logger.throwArgumentError(\"invalid function signature\", \"value\", value);\n        }\n        params.name = parens[1].trim();\n        if (params.name) {\n            verifyIdentifier(params.name);\n        }\n        params.inputs = parseParams(parens[2], false);\n        parseModifiers(parens[3].trim(), params);\n        // We have outputs\n        if (comps.length > 1) {\n            let returns = comps[1].match(regexParen);\n            if (returns[1].trim() != \"\" || returns[3].trim() != \"\") {\n                logger.throwArgumentError(\"unexpected tokens\", \"value\", value);\n            }\n            params.outputs = parseParams(returns[2], false);\n        }\n        else {\n            params.outputs = [];\n        }\n        return FunctionFragment.fromObject(params);\n    }\n    static isFunctionFragment(value) {\n        return (value && value._isFragment && value.type === \"function\");\n    }\n}\n//export class StructFragment extends Fragment {\n//}\nfunction checkForbidden(fragment) {\n    const sig = fragment.format();\n    if (sig === \"Error(string)\" || sig === \"Panic(uint256)\") {\n        logger.throwArgumentError(`cannot specify user defined ${sig} error`, \"fragment\", fragment);\n    }\n    return fragment;\n}\nexport class ErrorFragment extends Fragment {\n    format(format) {\n        if (!format) {\n            format = FormatTypes.sighash;\n        }\n        if (!FormatTypes[format]) {\n            logger.throwArgumentError(\"invalid format type\", \"format\", format);\n        }\n        if (format === FormatTypes.json) {\n            return JSON.stringify({\n                type: \"error\",\n                name: this.name,\n                inputs: this.inputs.map((input) => JSON.parse(input.format(format))),\n            });\n        }\n        let result = \"\";\n        if (format !== FormatTypes.sighash) {\n            result += \"error \";\n        }\n        result += this.name + \"(\" + this.inputs.map((input) => input.format(format)).join((format === FormatTypes.full) ? \", \" : \",\") + \") \";\n        return result.trim();\n    }\n    static from(value) {\n        if (typeof (value) === \"string\") {\n            return ErrorFragment.fromString(value);\n        }\n        return ErrorFragment.fromObject(value);\n    }\n    static fromObject(value) {\n        if (ErrorFragment.isErrorFragment(value)) {\n            return value;\n        }\n        if (value.type !== \"error\") {\n            logger.throwArgumentError(\"invalid error object\", \"value\", value);\n        }\n        const params = {\n            type: value.type,\n            name: verifyIdentifier(value.name),\n            inputs: (value.inputs ? value.inputs.map(ParamType.fromObject) : [])\n        };\n        return checkForbidden(new ErrorFragment(_constructorGuard, params));\n    }\n    static fromString(value) {\n        let params = { type: \"error\" };\n        let parens = value.match(regexParen);\n        if (!parens) {\n            logger.throwArgumentError(\"invalid error signature\", \"value\", value);\n        }\n        params.name = parens[1].trim();\n        if (params.name) {\n            verifyIdentifier(params.name);\n        }\n        params.inputs = parseParams(parens[2], false);\n        return checkForbidden(ErrorFragment.fromObject(params));\n    }\n    static isErrorFragment(value) {\n        return (value && value._isFragment && value.type === \"error\");\n    }\n}\nfunction verifyType(type) {\n    // These need to be transformed to their full description\n    if (type.match(/^uint($|[^1-9])/)) {\n        type = \"uint256\" + type.substring(4);\n    }\n    else if (type.match(/^int($|[^1-9])/)) {\n        type = \"int256\" + type.substring(3);\n    }\n    // @TODO: more verification\n    return type;\n}\n// See: https://github.com/ethereum/solidity/blob/1f8f1a3db93a548d0555e3e14cfc55a10e25b60e/docs/grammar/SolidityLexer.g4#L234\nconst regexIdentifier = new RegExp(\"^[a-zA-Z$_][a-zA-Z0-9$_]*$\");\nfunction verifyIdentifier(value) {\n    if (!value || !value.match(regexIdentifier)) {\n        logger.throwArgumentError(`invalid identifier \"${value}\"`, \"value\", value);\n    }\n    return value;\n}\nconst regexParen = new RegExp(\"^([^)(]*)\\\\((.*)\\\\)([^)(]*)$\");\nfunction splitNesting(value) {\n    value = value.trim();\n    let result = [];\n    let accum = \"\";\n    let depth = 0;\n    for (let offset = 0; offset < value.length; offset++) {\n        let c = value[offset];\n        if (c === \",\" && depth === 0) {\n            result.push(accum);\n            accum = \"\";\n        }\n        else {\n            accum += c;\n            if (c === \"(\") {\n                depth++;\n            }\n            else if (c === \")\") {\n                depth--;\n                if (depth === -1) {\n                    logger.throwArgumentError(\"unbalanced parenthesis\", \"value\", value);\n                }\n            }\n        }\n    }\n    if (accum) {\n        result.push(accum);\n    }\n    return result;\n}\n//# sourceMappingURL=fragments.js.map","\"use strict\";\nimport { arrayify, concat, hexConcat, hexlify } from \"@ethersproject/bytes\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"../_version\";\nconst logger = new Logger(version);\nexport function checkResultErrors(result) {\n    // Find the first error (if any)\n    const errors = [];\n    const checkErrors = function (path, object) {\n        if (!Array.isArray(object)) {\n            return;\n        }\n        for (let key in object) {\n            const childPath = path.slice();\n            childPath.push(key);\n            try {\n                checkErrors(childPath, object[key]);\n            }\n            catch (error) {\n                errors.push({ path: childPath, error: error });\n            }\n        }\n    };\n    checkErrors([], result);\n    return errors;\n}\nexport class Coder {\n    constructor(name, type, localName, dynamic) {\n        // @TODO: defineReadOnly these\n        this.name = name;\n        this.type = type;\n        this.localName = localName;\n        this.dynamic = dynamic;\n    }\n    _throwError(message, value) {\n        logger.throwArgumentError(message, this.localName, value);\n    }\n}\nexport class Writer {\n    constructor(wordSize) {\n        defineReadOnly(this, \"wordSize\", wordSize || 32);\n        this._data = [];\n        this._dataLength = 0;\n        this._padding = new Uint8Array(wordSize);\n    }\n    get data() {\n        return hexConcat(this._data);\n    }\n    get length() { return this._dataLength; }\n    _writeData(data) {\n        this._data.push(data);\n        this._dataLength += data.length;\n        return data.length;\n    }\n    appendWriter(writer) {\n        return this._writeData(concat(writer._data));\n    }\n    // Arrayish items; padded on the right to wordSize\n    writeBytes(value) {\n        let bytes = arrayify(value);\n        const paddingOffset = bytes.length % this.wordSize;\n        if (paddingOffset) {\n            bytes = concat([bytes, this._padding.slice(paddingOffset)]);\n        }\n        return this._writeData(bytes);\n    }\n    _getValue(value) {\n        let bytes = arrayify(BigNumber.from(value));\n        if (bytes.length > this.wordSize) {\n            logger.throwError(\"value out-of-bounds\", Logger.errors.BUFFER_OVERRUN, {\n                length: this.wordSize,\n                offset: bytes.length\n            });\n        }\n        if (bytes.length % this.wordSize) {\n            bytes = concat([this._padding.slice(bytes.length % this.wordSize), bytes]);\n        }\n        return bytes;\n    }\n    // BigNumberish items; padded on the left to wordSize\n    writeValue(value) {\n        return this._writeData(this._getValue(value));\n    }\n    writeUpdatableValue() {\n        const offset = this._data.length;\n        this._data.push(this._padding);\n        this._dataLength += this.wordSize;\n        return (value) => {\n            this._data[offset] = this._getValue(value);\n        };\n    }\n}\nexport class Reader {\n    constructor(data, wordSize, coerceFunc, allowLoose) {\n        defineReadOnly(this, \"_data\", arrayify(data));\n        defineReadOnly(this, \"wordSize\", wordSize || 32);\n        defineReadOnly(this, \"_coerceFunc\", coerceFunc);\n        defineReadOnly(this, \"allowLoose\", allowLoose);\n        this._offset = 0;\n    }\n    get data() { return hexlify(this._data); }\n    get consumed() { return this._offset; }\n    // The default Coerce function\n    static coerce(name, value) {\n        let match = name.match(\"^u?int([0-9]+)$\");\n        if (match && parseInt(match[1]) <= 48) {\n            value = value.toNumber();\n        }\n        return value;\n    }\n    coerce(name, value) {\n        if (this._coerceFunc) {\n            return this._coerceFunc(name, value);\n        }\n        return Reader.coerce(name, value);\n    }\n    _peekBytes(offset, length, loose) {\n        let alignedLength = Math.ceil(length / this.wordSize) * this.wordSize;\n        if (this._offset + alignedLength > this._data.length) {\n            if (this.allowLoose && loose && this._offset + length <= this._data.length) {\n                alignedLength = length;\n            }\n            else {\n                logger.throwError(\"data out-of-bounds\", Logger.errors.BUFFER_OVERRUN, {\n                    length: this._data.length,\n                    offset: this._offset + alignedLength\n                });\n            }\n        }\n        return this._data.slice(this._offset, this._offset + alignedLength);\n    }\n    subReader(offset) {\n        return new Reader(this._data.slice(this._offset + offset), this.wordSize, this._coerceFunc, this.allowLoose);\n    }\n    readBytes(length, loose) {\n        let bytes = this._peekBytes(0, length, !!loose);\n        this._offset += bytes.length;\n        // @TODO: Make sure the length..end bytes are all 0?\n        return bytes.slice(0, length);\n    }\n    readValue() {\n        return BigNumber.from(this.readBytes(this.wordSize));\n    }\n}\n//# sourceMappingURL=abstract-coder.js.map","\"use strict\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { hexZeroPad } from \"@ethersproject/bytes\";\nimport { Coder } from \"./abstract-coder\";\nexport class AddressCoder extends Coder {\n    constructor(localName) {\n        super(\"address\", \"address\", localName, false);\n    }\n    defaultValue() {\n        return \"0x0000000000000000000000000000000000000000\";\n    }\n    encode(writer, value) {\n        try {\n            value = getAddress(value);\n        }\n        catch (error) {\n            this._throwError(error.message, value);\n        }\n        return writer.writeValue(value);\n    }\n    decode(reader) {\n        return getAddress(hexZeroPad(reader.readValue().toHexString(), 20));\n    }\n}\n//# sourceMappingURL=address.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\n// Clones the functionality of an existing Coder, but without a localName\nexport class AnonymousCoder extends Coder {\n    constructor(coder) {\n        super(coder.name, coder.type, undefined, coder.dynamic);\n        this.coder = coder;\n    }\n    defaultValue() {\n        return this.coder.defaultValue();\n    }\n    encode(writer, value) {\n        return this.coder.encode(writer, value);\n    }\n    decode(reader) {\n        return this.coder.decode(reader);\n    }\n}\n//# sourceMappingURL=anonymous.js.map","\"use strict\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"../_version\";\nconst logger = new Logger(version);\nimport { Coder, Writer } from \"./abstract-coder\";\nimport { AnonymousCoder } from \"./anonymous\";\nexport function pack(writer, coders, values) {\n    let arrayValues = null;\n    if (Array.isArray(values)) {\n        arrayValues = values;\n    }\n    else if (values && typeof (values) === \"object\") {\n        let unique = {};\n        arrayValues = coders.map((coder) => {\n            const name = coder.localName;\n            if (!name) {\n                logger.throwError(\"cannot encode object for signature with missing names\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"values\",\n                    coder: coder,\n                    value: values\n                });\n            }\n            if (unique[name]) {\n                logger.throwError(\"cannot encode object for signature with duplicate names\", Logger.errors.INVALID_ARGUMENT, {\n                    argument: \"values\",\n                    coder: coder,\n                    value: values\n                });\n            }\n            unique[name] = true;\n            return values[name];\n        });\n    }\n    else {\n        logger.throwArgumentError(\"invalid tuple value\", \"tuple\", values);\n    }\n    if (coders.length !== arrayValues.length) {\n        logger.throwArgumentError(\"types/value length mismatch\", \"tuple\", values);\n    }\n    let staticWriter = new Writer(writer.wordSize);\n    let dynamicWriter = new Writer(writer.wordSize);\n    let updateFuncs = [];\n    coders.forEach((coder, index) => {\n        let value = arrayValues[index];\n        if (coder.dynamic) {\n            // Get current dynamic offset (for the future pointer)\n            let dynamicOffset = dynamicWriter.length;\n            // Encode the dynamic value into the dynamicWriter\n            coder.encode(dynamicWriter, value);\n            // Prepare to populate the correct offset once we are done\n            let updateFunc = staticWriter.writeUpdatableValue();\n            updateFuncs.push((baseOffset) => {\n                updateFunc(baseOffset + dynamicOffset);\n            });\n        }\n        else {\n            coder.encode(staticWriter, value);\n        }\n    });\n    // Backfill all the dynamic offsets, now that we know the static length\n    updateFuncs.forEach((func) => { func(staticWriter.length); });\n    let length = writer.appendWriter(staticWriter);\n    length += writer.appendWriter(dynamicWriter);\n    return length;\n}\nexport function unpack(reader, coders) {\n    let values = [];\n    // A reader anchored to this base\n    let baseReader = reader.subReader(0);\n    coders.forEach((coder) => {\n        let value = null;\n        if (coder.dynamic) {\n            let offset = reader.readValue();\n            let offsetReader = baseReader.subReader(offset.toNumber());\n            try {\n                value = coder.decode(offsetReader);\n            }\n            catch (error) {\n                // Cannot recover from this\n                if (error.code === Logger.errors.BUFFER_OVERRUN) {\n                    throw error;\n                }\n                value = error;\n                value.baseType = coder.name;\n                value.name = coder.localName;\n                value.type = coder.type;\n            }\n        }\n        else {\n            try {\n                value = coder.decode(reader);\n            }\n            catch (error) {\n                // Cannot recover from this\n                if (error.code === Logger.errors.BUFFER_OVERRUN) {\n                    throw error;\n                }\n                value = error;\n                value.baseType = coder.name;\n                value.name = coder.localName;\n                value.type = coder.type;\n            }\n        }\n        if (value != undefined) {\n            values.push(value);\n        }\n    });\n    // We only output named properties for uniquely named coders\n    const uniqueNames = coders.reduce((accum, coder) => {\n        const name = coder.localName;\n        if (name) {\n            if (!accum[name]) {\n                accum[name] = 0;\n            }\n            accum[name]++;\n        }\n        return accum;\n    }, {});\n    // Add any named parameters (i.e. tuples)\n    coders.forEach((coder, index) => {\n        let name = coder.localName;\n        if (!name || uniqueNames[name] !== 1) {\n            return;\n        }\n        if (name === \"length\") {\n            name = \"_length\";\n        }\n        if (values[name] != null) {\n            return;\n        }\n        const value = values[index];\n        if (value instanceof Error) {\n            Object.defineProperty(values, name, {\n                enumerable: true,\n                get: () => { throw value; }\n            });\n        }\n        else {\n            values[name] = value;\n        }\n    });\n    for (let i = 0; i < values.length; i++) {\n        const value = values[i];\n        if (value instanceof Error) {\n            Object.defineProperty(values, i, {\n                enumerable: true,\n                get: () => { throw value; }\n            });\n        }\n    }\n    return Object.freeze(values);\n}\nexport class ArrayCoder extends Coder {\n    constructor(coder, length, localName) {\n        const type = (coder.type + \"[\" + (length >= 0 ? length : \"\") + \"]\");\n        const dynamic = (length === -1 || coder.dynamic);\n        super(\"array\", type, localName, dynamic);\n        this.coder = coder;\n        this.length = length;\n    }\n    defaultValue() {\n        // Verifies the child coder is valid (even if the array is dynamic or 0-length)\n        const defaultChild = this.coder.defaultValue();\n        const result = [];\n        for (let i = 0; i < this.length; i++) {\n            result.push(defaultChild);\n        }\n        return result;\n    }\n    encode(writer, value) {\n        if (!Array.isArray(value)) {\n            this._throwError(\"expected array value\", value);\n        }\n        let count = this.length;\n        if (count === -1) {\n            count = value.length;\n            writer.writeValue(value.length);\n        }\n        logger.checkArgumentCount(value.length, count, \"coder array\" + (this.localName ? (\" \" + this.localName) : \"\"));\n        let coders = [];\n        for (let i = 0; i < value.length; i++) {\n            coders.push(this.coder);\n        }\n        return pack(writer, coders, value);\n    }\n    decode(reader) {\n        let count = this.length;\n        if (count === -1) {\n            count = reader.readValue().toNumber();\n            // Check that there is *roughly* enough data to ensure\n            // stray random data is not being read as a length. Each\n            // slot requires at least 32 bytes for their value (or 32\n            // bytes as a link to the data). This could use a much\n            // tighter bound, but we are erroring on the side of safety.\n            if (count * 32 > reader._data.length) {\n                logger.throwError(\"insufficient data length\", Logger.errors.BUFFER_OVERRUN, {\n                    length: reader._data.length,\n                    count: count\n                });\n            }\n        }\n        let coders = [];\n        for (let i = 0; i < count; i++) {\n            coders.push(new AnonymousCoder(this.coder));\n        }\n        return reader.coerce(this.name, unpack(reader, coders));\n    }\n}\n//# sourceMappingURL=array.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\nexport class BooleanCoder extends Coder {\n    constructor(localName) {\n        super(\"bool\", \"bool\", localName, false);\n    }\n    defaultValue() {\n        return false;\n    }\n    encode(writer, value) {\n        return writer.writeValue(value ? 1 : 0);\n    }\n    decode(reader) {\n        return reader.coerce(this.type, !reader.readValue().isZero());\n    }\n}\n//# sourceMappingURL=boolean.js.map","\"use strict\";\nimport { arrayify, hexlify } from \"@ethersproject/bytes\";\nimport { Coder } from \"./abstract-coder\";\nexport class DynamicBytesCoder extends Coder {\n    constructor(type, localName) {\n        super(type, type, localName, true);\n    }\n    defaultValue() {\n        return \"0x\";\n    }\n    encode(writer, value) {\n        value = arrayify(value);\n        let length = writer.writeValue(value.length);\n        length += writer.writeBytes(value);\n        return length;\n    }\n    decode(reader) {\n        return reader.readBytes(reader.readValue().toNumber(), true);\n    }\n}\nexport class BytesCoder extends DynamicBytesCoder {\n    constructor(localName) {\n        super(\"bytes\", localName);\n    }\n    decode(reader) {\n        return reader.coerce(this.name, hexlify(super.decode(reader)));\n    }\n}\n//# sourceMappingURL=bytes.js.map","\"use strict\";\nimport { arrayify, hexlify } from \"@ethersproject/bytes\";\nimport { Coder } from \"./abstract-coder\";\n// @TODO: Merge this with bytes\nexport class FixedBytesCoder extends Coder {\n    constructor(size, localName) {\n        let name = \"bytes\" + String(size);\n        super(name, name, localName, false);\n        this.size = size;\n    }\n    defaultValue() {\n        return (\"0x0000000000000000000000000000000000000000000000000000000000000000\").substring(0, 2 + this.size * 2);\n    }\n    encode(writer, value) {\n        let data = arrayify(value);\n        if (data.length !== this.size) {\n            this._throwError(\"incorrect data length\", value);\n        }\n        return writer.writeBytes(data);\n    }\n    decode(reader) {\n        return reader.coerce(this.name, hexlify(reader.readBytes(this.size)));\n    }\n}\n//# sourceMappingURL=fixed-bytes.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\nexport class NullCoder extends Coder {\n    constructor(localName) {\n        super(\"null\", \"\", localName, false);\n    }\n    defaultValue() {\n        return null;\n    }\n    encode(writer, value) {\n        if (value != null) {\n            this._throwError(\"not null\", value);\n        }\n        return writer.writeBytes([]);\n    }\n    decode(reader) {\n        reader.readBytes(0);\n        return reader.coerce(this.name, null);\n    }\n}\n//# sourceMappingURL=null.js.map","\"use strict\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { MaxUint256, NegativeOne, One, Zero } from \"@ethersproject/constants\";\nimport { Coder } from \"./abstract-coder\";\nexport class NumberCoder extends Coder {\n    constructor(size, signed, localName) {\n        const name = ((signed ? \"int\" : \"uint\") + (size * 8));\n        super(name, name, localName, false);\n        this.size = size;\n        this.signed = signed;\n    }\n    defaultValue() {\n        return 0;\n    }\n    encode(writer, value) {\n        let v = BigNumber.from(value);\n        // Check bounds are safe for encoding\n        let maxUintValue = MaxUint256.mask(writer.wordSize * 8);\n        if (this.signed) {\n            let bounds = maxUintValue.mask(this.size * 8 - 1);\n            if (v.gt(bounds) || v.lt(bounds.add(One).mul(NegativeOne))) {\n                this._throwError(\"value out-of-bounds\", value);\n            }\n        }\n        else if (v.lt(Zero) || v.gt(maxUintValue.mask(this.size * 8))) {\n            this._throwError(\"value out-of-bounds\", value);\n        }\n        v = v.toTwos(this.size * 8).mask(this.size * 8);\n        if (this.signed) {\n            v = v.fromTwos(this.size * 8).toTwos(8 * writer.wordSize);\n        }\n        return writer.writeValue(v);\n    }\n    decode(reader) {\n        let value = reader.readValue().mask(this.size * 8);\n        if (this.signed) {\n            value = value.fromTwos(this.size * 8);\n        }\n        return reader.coerce(this.name, value);\n    }\n}\n//# sourceMappingURL=number.js.map","\"use strict\";\nimport { toUtf8Bytes, toUtf8String } from \"@ethersproject/strings\";\nimport { DynamicBytesCoder } from \"./bytes\";\nexport class StringCoder extends DynamicBytesCoder {\n    constructor(localName) {\n        super(\"string\", localName);\n    }\n    defaultValue() {\n        return \"\";\n    }\n    encode(writer, value) {\n        return super.encode(writer, toUtf8Bytes(value));\n    }\n    decode(reader) {\n        return toUtf8String(super.decode(reader));\n    }\n}\n//# sourceMappingURL=string.js.map","\"use strict\";\nimport { Coder } from \"./abstract-coder\";\nimport { pack, unpack } from \"./array\";\nexport class TupleCoder extends Coder {\n    constructor(coders, localName) {\n        let dynamic = false;\n        const types = [];\n        coders.forEach((coder) => {\n            if (coder.dynamic) {\n                dynamic = true;\n            }\n            types.push(coder.type);\n        });\n        const type = (\"tuple(\" + types.join(\",\") + \")\");\n        super(\"tuple\", type, localName, dynamic);\n        this.coders = coders;\n    }\n    defaultValue() {\n        const values = [];\n        this.coders.forEach((coder) => {\n            values.push(coder.defaultValue());\n        });\n        // We only output named properties for uniquely named coders\n        const uniqueNames = this.coders.reduce((accum, coder) => {\n            const name = coder.localName;\n            if (name) {\n                if (!accum[name]) {\n                    accum[name] = 0;\n                }\n                accum[name]++;\n            }\n            return accum;\n        }, {});\n        // Add named values\n        this.coders.forEach((coder, index) => {\n            let name = coder.localName;\n            if (!name || uniqueNames[name] !== 1) {\n                return;\n            }\n            if (name === \"length\") {\n                name = \"_length\";\n            }\n            if (values[name] != null) {\n                return;\n            }\n            values[name] = values[index];\n        });\n        return Object.freeze(values);\n    }\n    encode(writer, value) {\n        return pack(writer, this.coders, value);\n    }\n    decode(reader) {\n        return reader.coerce(this.name, unpack(reader, this.coders));\n    }\n}\n//# sourceMappingURL=tuple.js.map","\"use strict\";\n// See: https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI\nimport { arrayify } from \"@ethersproject/bytes\";\nimport { defineReadOnly } from \"@ethersproject/properties\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nimport { Reader, Writer } from \"./coders/abstract-coder\";\nimport { AddressCoder } from \"./coders/address\";\nimport { ArrayCoder } from \"./coders/array\";\nimport { BooleanCoder } from \"./coders/boolean\";\nimport { BytesCoder } from \"./coders/bytes\";\nimport { FixedBytesCoder } from \"./coders/fixed-bytes\";\nimport { NullCoder } from \"./coders/null\";\nimport { NumberCoder } from \"./coders/number\";\nimport { StringCoder } from \"./coders/string\";\nimport { TupleCoder } from \"./coders/tuple\";\nimport { ParamType } from \"./fragments\";\nconst paramTypeBytes = new RegExp(/^bytes([0-9]*)$/);\nconst paramTypeNumber = new RegExp(/^(u?int)([0-9]*)$/);\nexport class AbiCoder {\n    constructor(coerceFunc) {\n        defineReadOnly(this, \"coerceFunc\", coerceFunc || null);\n    }\n    _getCoder(param) {\n        switch (param.baseType) {\n            case \"address\":\n                return new AddressCoder(param.name);\n            case \"bool\":\n                return new BooleanCoder(param.name);\n            case \"string\":\n                return new StringCoder(param.name);\n            case \"bytes\":\n                return new BytesCoder(param.name);\n            case \"array\":\n                return new ArrayCoder(this._getCoder(param.arrayChildren), param.arrayLength, param.name);\n            case \"tuple\":\n                return new TupleCoder((param.components || []).map((component) => {\n                    return this._getCoder(component);\n                }), param.name);\n            case \"\":\n                return new NullCoder(param.name);\n        }\n        // u?int[0-9]*\n        let match = param.type.match(paramTypeNumber);\n        if (match) {\n            let size = parseInt(match[2] || \"256\");\n            if (size === 0 || size > 256 || (size % 8) !== 0) {\n                logger.throwArgumentError(\"invalid \" + match[1] + \" bit length\", \"param\", param);\n            }\n            return new NumberCoder(size / 8, (match[1] === \"int\"), param.name);\n        }\n        // bytes[0-9]+\n        match = param.type.match(paramTypeBytes);\n        if (match) {\n            let size = parseInt(match[1]);\n            if (size === 0 || size > 32) {\n                logger.throwArgumentError(\"invalid bytes length\", \"param\", param);\n            }\n            return new FixedBytesCoder(size, param.name);\n        }\n        return logger.throwArgumentError(\"invalid type\", \"type\", param.type);\n    }\n    _getWordSize() { return 32; }\n    _getReader(data, allowLoose) {\n        return new Reader(data, this._getWordSize(), this.coerceFunc, allowLoose);\n    }\n    _getWriter() {\n        return new Writer(this._getWordSize());\n    }\n    getDefaultValue(types) {\n        const coders = types.map((type) => this._getCoder(ParamType.from(type)));\n        const coder = new TupleCoder(coders, \"_\");\n        return coder.defaultValue();\n    }\n    encode(types, values) {\n        if (types.length !== values.length) {\n            logger.throwError(\"types/values length mismatch\", Logger.errors.INVALID_ARGUMENT, {\n                count: { types: types.length, values: values.length },\n                value: { types: types, values: values }\n            });\n        }\n        const coders = types.map((type) => this._getCoder(ParamType.from(type)));\n        const coder = (new TupleCoder(coders, \"_\"));\n        const writer = this._getWriter();\n        coder.encode(writer, values);\n        return writer.data;\n    }\n    decode(types, data, loose) {\n        const coders = types.map((type) => this._getCoder(ParamType.from(type)));\n        const coder = new TupleCoder(coders, \"_\");\n        return coder.decode(this._getReader(arrayify(data), loose));\n    }\n}\nexport const defaultAbiCoder = new AbiCoder();\n//# sourceMappingURL=abi-coder.js.map","\"use strict\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { arrayify, concat, hexDataSlice, hexlify, hexZeroPad, isHexString } from \"@ethersproject/bytes\";\nimport { id } from \"@ethersproject/hash\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { defineReadOnly, Description, getStatic } from \"@ethersproject/properties\";\nimport { defaultAbiCoder } from \"./abi-coder\";\nimport { checkResultErrors } from \"./coders/abstract-coder\";\nimport { ConstructorFragment, EventFragment, FormatTypes, Fragment, FunctionFragment, ParamType } from \"./fragments\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nexport { checkResultErrors };\nexport class LogDescription extends Description {\n}\nexport class TransactionDescription extends Description {\n}\nexport class ErrorDescription extends Description {\n}\nexport class Indexed extends Description {\n    static isIndexed(value) {\n        return !!(value && value._isIndexed);\n    }\n}\nconst BuiltinErrors = {\n    \"0x08c379a0\": { signature: \"Error(string)\", name: \"Error\", inputs: [\"string\"], reason: true },\n    \"0x4e487b71\": { signature: \"Panic(uint256)\", name: \"Panic\", inputs: [\"uint256\"] }\n};\nfunction wrapAccessError(property, error) {\n    const wrap = new Error(`deferred error during ABI decoding triggered accessing ${property}`);\n    wrap.error = error;\n    return wrap;\n}\n/*\nfunction checkNames(fragment: Fragment, type: \"input\" | \"output\", params: Array<ParamType>): void {\n    params.reduce((accum, param) => {\n        if (param.name) {\n            if (accum[param.name]) {\n                logger.throwArgumentError(`duplicate ${ type } parameter ${ JSON.stringify(param.name) } in ${ fragment.format(\"full\") }`, \"fragment\", fragment);\n            }\n            accum[param.name] = true;\n        }\n        return accum;\n    }, <{ [ name: string ]: boolean }>{ });\n}\n*/\nexport class Interface {\n    constructor(fragments) {\n        let abi = [];\n        if (typeof (fragments) === \"string\") {\n            abi = JSON.parse(fragments);\n        }\n        else {\n            abi = fragments;\n        }\n        defineReadOnly(this, \"fragments\", abi.map((fragment) => {\n            return Fragment.from(fragment);\n        }).filter((fragment) => (fragment != null)));\n        defineReadOnly(this, \"_abiCoder\", getStatic(new.target, \"getAbiCoder\")());\n        defineReadOnly(this, \"functions\", {});\n        defineReadOnly(this, \"errors\", {});\n        defineReadOnly(this, \"events\", {});\n        defineReadOnly(this, \"structs\", {});\n        // Add all fragments by their signature\n        this.fragments.forEach((fragment) => {\n            let bucket = null;\n            switch (fragment.type) {\n                case \"constructor\":\n                    if (this.deploy) {\n                        logger.warn(\"duplicate definition - constructor\");\n                        return;\n                    }\n                    //checkNames(fragment, \"input\", fragment.inputs);\n                    defineReadOnly(this, \"deploy\", fragment);\n                    return;\n                case \"function\":\n                    //checkNames(fragment, \"input\", fragment.inputs);\n                    //checkNames(fragment, \"output\", (<FunctionFragment>fragment).outputs);\n                    bucket = this.functions;\n                    break;\n                case \"event\":\n                    //checkNames(fragment, \"input\", fragment.inputs);\n                    bucket = this.events;\n                    break;\n                case \"error\":\n                    bucket = this.errors;\n                    break;\n                default:\n                    return;\n            }\n            let signature = fragment.format();\n            if (bucket[signature]) {\n                logger.warn(\"duplicate definition - \" + signature);\n                return;\n            }\n            bucket[signature] = fragment;\n        });\n        // If we do not have a constructor add a default\n        if (!this.deploy) {\n            defineReadOnly(this, \"deploy\", ConstructorFragment.from({\n                payable: false,\n                type: \"constructor\"\n            }));\n        }\n        defineReadOnly(this, \"_isInterface\", true);\n    }\n    format(format) {\n        if (!format) {\n            format = FormatTypes.full;\n        }\n        if (format === FormatTypes.sighash) {\n            logger.throwArgumentError(\"interface does not support formatting sighash\", \"format\", format);\n        }\n        const abi = this.fragments.map((fragment) => fragment.format(format));\n        // We need to re-bundle the JSON fragments a bit\n        if (format === FormatTypes.json) {\n            return JSON.stringify(abi.map((j) => JSON.parse(j)));\n        }\n        return abi;\n    }\n    // Sub-classes can override these to handle other blockchains\n    static getAbiCoder() {\n        return defaultAbiCoder;\n    }\n    static getAddress(address) {\n        return getAddress(address);\n    }\n    static getSighash(fragment) {\n        return hexDataSlice(id(fragment.format()), 0, 4);\n    }\n    static getEventTopic(eventFragment) {\n        return id(eventFragment.format());\n    }\n    // Find a function definition by any means necessary (unless it is ambiguous)\n    getFunction(nameOrSignatureOrSighash) {\n        if (isHexString(nameOrSignatureOrSighash)) {\n            for (const name in this.functions) {\n                if (nameOrSignatureOrSighash === this.getSighash(name)) {\n                    return this.functions[name];\n                }\n            }\n            logger.throwArgumentError(\"no matching function\", \"sighash\", nameOrSignatureOrSighash);\n        }\n        // It is a bare name, look up the function (will return null if ambiguous)\n        if (nameOrSignatureOrSighash.indexOf(\"(\") === -1) {\n            const name = nameOrSignatureOrSighash.trim();\n            const matching = Object.keys(this.functions).filter((f) => (f.split(\"(\" /* fix:) */)[0] === name));\n            if (matching.length === 0) {\n                logger.throwArgumentError(\"no matching function\", \"name\", name);\n            }\n            else if (matching.length > 1) {\n                logger.throwArgumentError(\"multiple matching functions\", \"name\", name);\n            }\n            return this.functions[matching[0]];\n        }\n        // Normalize the signature and lookup the function\n        const result = this.functions[FunctionFragment.fromString(nameOrSignatureOrSighash).format()];\n        if (!result) {\n            logger.throwArgumentError(\"no matching function\", \"signature\", nameOrSignatureOrSighash);\n        }\n        return result;\n    }\n    // Find an event definition by any means necessary (unless it is ambiguous)\n    getEvent(nameOrSignatureOrTopic) {\n        if (isHexString(nameOrSignatureOrTopic)) {\n            const topichash = nameOrSignatureOrTopic.toLowerCase();\n            for (const name in this.events) {\n                if (topichash === this.getEventTopic(name)) {\n                    return this.events[name];\n                }\n            }\n            logger.throwArgumentError(\"no matching event\", \"topichash\", topichash);\n        }\n        // It is a bare name, look up the function (will return null if ambiguous)\n        if (nameOrSignatureOrTopic.indexOf(\"(\") === -1) {\n            const name = nameOrSignatureOrTopic.trim();\n            const matching = Object.keys(this.events).filter((f) => (f.split(\"(\" /* fix:) */)[0] === name));\n            if (matching.length === 0) {\n                logger.throwArgumentError(\"no matching event\", \"name\", name);\n            }\n            else if (matching.length > 1) {\n                logger.throwArgumentError(\"multiple matching events\", \"name\", name);\n            }\n            return this.events[matching[0]];\n        }\n        // Normalize the signature and lookup the function\n        const result = this.events[EventFragment.fromString(nameOrSignatureOrTopic).format()];\n        if (!result) {\n            logger.throwArgumentError(\"no matching event\", \"signature\", nameOrSignatureOrTopic);\n        }\n        return result;\n    }\n    // Find a function definition by any means necessary (unless it is ambiguous)\n    getError(nameOrSignatureOrSighash) {\n        if (isHexString(nameOrSignatureOrSighash)) {\n            const getSighash = getStatic(this.constructor, \"getSighash\");\n            for (const name in this.errors) {\n                const error = this.errors[name];\n                if (nameOrSignatureOrSighash === getSighash(error)) {\n                    return this.errors[name];\n                }\n            }\n            logger.throwArgumentError(\"no matching error\", \"sighash\", nameOrSignatureOrSighash);\n        }\n        // It is a bare name, look up the function (will return null if ambiguous)\n        if (nameOrSignatureOrSighash.indexOf(\"(\") === -1) {\n            const name = nameOrSignatureOrSighash.trim();\n            const matching = Object.keys(this.errors).filter((f) => (f.split(\"(\" /* fix:) */)[0] === name));\n            if (matching.length === 0) {\n                logger.throwArgumentError(\"no matching error\", \"name\", name);\n            }\n            else if (matching.length > 1) {\n                logger.throwArgumentError(\"multiple matching errors\", \"name\", name);\n            }\n            return this.errors[matching[0]];\n        }\n        // Normalize the signature and lookup the function\n        const result = this.errors[FunctionFragment.fromString(nameOrSignatureOrSighash).format()];\n        if (!result) {\n            logger.throwArgumentError(\"no matching error\", \"signature\", nameOrSignatureOrSighash);\n        }\n        return result;\n    }\n    // Get the sighash (the bytes4 selector) used by Solidity to identify a function\n    getSighash(fragment) {\n        if (typeof (fragment) === \"string\") {\n            try {\n                fragment = this.getFunction(fragment);\n            }\n            catch (error) {\n                try {\n                    fragment = this.getError(fragment);\n                }\n                catch (_) {\n                    throw error;\n                }\n            }\n        }\n        return getStatic(this.constructor, \"getSighash\")(fragment);\n    }\n    // Get the topic (the bytes32 hash) used by Solidity to identify an event\n    getEventTopic(eventFragment) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        return getStatic(this.constructor, \"getEventTopic\")(eventFragment);\n    }\n    _decodeParams(params, data) {\n        return this._abiCoder.decode(params, data);\n    }\n    _encodeParams(params, values) {\n        return this._abiCoder.encode(params, values);\n    }\n    encodeDeploy(values) {\n        return this._encodeParams(this.deploy.inputs, values || []);\n    }\n    decodeErrorResult(fragment, data) {\n        if (typeof (fragment) === \"string\") {\n            fragment = this.getError(fragment);\n        }\n        const bytes = arrayify(data);\n        if (hexlify(bytes.slice(0, 4)) !== this.getSighash(fragment)) {\n            logger.throwArgumentError(`data signature does not match error ${fragment.name}.`, \"data\", hexlify(bytes));\n        }\n        return this._decodeParams(fragment.inputs, bytes.slice(4));\n    }\n    encodeErrorResult(fragment, values) {\n        if (typeof (fragment) === \"string\") {\n            fragment = this.getError(fragment);\n        }\n        return hexlify(concat([\n            this.getSighash(fragment),\n            this._encodeParams(fragment.inputs, values || [])\n        ]));\n    }\n    // Decode the data for a function call (e.g. tx.data)\n    decodeFunctionData(functionFragment, data) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        const bytes = arrayify(data);\n        if (hexlify(bytes.slice(0, 4)) !== this.getSighash(functionFragment)) {\n            logger.throwArgumentError(`data signature does not match function ${functionFragment.name}.`, \"data\", hexlify(bytes));\n        }\n        return this._decodeParams(functionFragment.inputs, bytes.slice(4));\n    }\n    // Encode the data for a function call (e.g. tx.data)\n    encodeFunctionData(functionFragment, values) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        return hexlify(concat([\n            this.getSighash(functionFragment),\n            this._encodeParams(functionFragment.inputs, values || [])\n        ]));\n    }\n    // Decode the result from a function call (e.g. from eth_call)\n    decodeFunctionResult(functionFragment, data) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        let bytes = arrayify(data);\n        let reason = null;\n        let message = \"\";\n        let errorArgs = null;\n        let errorName = null;\n        let errorSignature = null;\n        switch (bytes.length % this._abiCoder._getWordSize()) {\n            case 0:\n                try {\n                    return this._abiCoder.decode(functionFragment.outputs, bytes);\n                }\n                catch (error) { }\n                break;\n            case 4: {\n                const selector = hexlify(bytes.slice(0, 4));\n                const builtin = BuiltinErrors[selector];\n                if (builtin) {\n                    errorArgs = this._abiCoder.decode(builtin.inputs, bytes.slice(4));\n                    errorName = builtin.name;\n                    errorSignature = builtin.signature;\n                    if (builtin.reason) {\n                        reason = errorArgs[0];\n                    }\n                    if (errorName === \"Error\") {\n                        message = `; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(errorArgs[0])}`;\n                    }\n                    else if (errorName === \"Panic\") {\n                        message = `; VM Exception while processing transaction: reverted with panic code ${errorArgs[0]}`;\n                    }\n                }\n                else {\n                    try {\n                        const error = this.getError(selector);\n                        errorArgs = this._abiCoder.decode(error.inputs, bytes.slice(4));\n                        errorName = error.name;\n                        errorSignature = error.format();\n                    }\n                    catch (error) { }\n                }\n                break;\n            }\n        }\n        return logger.throwError(\"call revert exception\" + message, Logger.errors.CALL_EXCEPTION, {\n            method: functionFragment.format(),\n            data: hexlify(data), errorArgs, errorName, errorSignature, reason\n        });\n    }\n    // Encode the result for a function call (e.g. for eth_call)\n    encodeFunctionResult(functionFragment, values) {\n        if (typeof (functionFragment) === \"string\") {\n            functionFragment = this.getFunction(functionFragment);\n        }\n        return hexlify(this._abiCoder.encode(functionFragment.outputs, values || []));\n    }\n    // Create the filter for the event with search criteria (e.g. for eth_filterLog)\n    encodeFilterTopics(eventFragment, values) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        if (values.length > eventFragment.inputs.length) {\n            logger.throwError(\"too many arguments for \" + eventFragment.format(), Logger.errors.UNEXPECTED_ARGUMENT, {\n                argument: \"values\",\n                value: values\n            });\n        }\n        let topics = [];\n        if (!eventFragment.anonymous) {\n            topics.push(this.getEventTopic(eventFragment));\n        }\n        const encodeTopic = (param, value) => {\n            if (param.type === \"string\") {\n                return id(value);\n            }\n            else if (param.type === \"bytes\") {\n                return keccak256(hexlify(value));\n            }\n            if (param.type === \"bool\" && typeof (value) === \"boolean\") {\n                value = (value ? \"0x01\" : \"0x00\");\n            }\n            if (param.type.match(/^u?int/)) {\n                value = BigNumber.from(value).toHexString();\n            }\n            // Check addresses are valid\n            if (param.type === \"address\") {\n                this._abiCoder.encode([\"address\"], [value]);\n            }\n            return hexZeroPad(hexlify(value), 32);\n        };\n        values.forEach((value, index) => {\n            let param = eventFragment.inputs[index];\n            if (!param.indexed) {\n                if (value != null) {\n                    logger.throwArgumentError(\"cannot filter non-indexed parameters; must be null\", (\"contract.\" + param.name), value);\n                }\n                return;\n            }\n            if (value == null) {\n                topics.push(null);\n            }\n            else if (param.baseType === \"array\" || param.baseType === \"tuple\") {\n                logger.throwArgumentError(\"filtering with tuples or arrays not supported\", (\"contract.\" + param.name), value);\n            }\n            else if (Array.isArray(value)) {\n                topics.push(value.map((value) => encodeTopic(param, value)));\n            }\n            else {\n                topics.push(encodeTopic(param, value));\n            }\n        });\n        // Trim off trailing nulls\n        while (topics.length && topics[topics.length - 1] === null) {\n            topics.pop();\n        }\n        return topics;\n    }\n    encodeEventLog(eventFragment, values) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        const topics = [];\n        const dataTypes = [];\n        const dataValues = [];\n        if (!eventFragment.anonymous) {\n            topics.push(this.getEventTopic(eventFragment));\n        }\n        if (values.length !== eventFragment.inputs.length) {\n            logger.throwArgumentError(\"event arguments/values mismatch\", \"values\", values);\n        }\n        eventFragment.inputs.forEach((param, index) => {\n            const value = values[index];\n            if (param.indexed) {\n                if (param.type === \"string\") {\n                    topics.push(id(value));\n                }\n                else if (param.type === \"bytes\") {\n                    topics.push(keccak256(value));\n                }\n                else if (param.baseType === \"tuple\" || param.baseType === \"array\") {\n                    // @TODO\n                    throw new Error(\"not implemented\");\n                }\n                else {\n                    topics.push(this._abiCoder.encode([param.type], [value]));\n                }\n            }\n            else {\n                dataTypes.push(param);\n                dataValues.push(value);\n            }\n        });\n        return {\n            data: this._abiCoder.encode(dataTypes, dataValues),\n            topics: topics\n        };\n    }\n    // Decode a filter for the event and the search criteria\n    decodeEventLog(eventFragment, data, topics) {\n        if (typeof (eventFragment) === \"string\") {\n            eventFragment = this.getEvent(eventFragment);\n        }\n        if (topics != null && !eventFragment.anonymous) {\n            let topicHash = this.getEventTopic(eventFragment);\n            if (!isHexString(topics[0], 32) || topics[0].toLowerCase() !== topicHash) {\n                logger.throwError(\"fragment/topic mismatch\", Logger.errors.INVALID_ARGUMENT, { argument: \"topics[0]\", expected: topicHash, value: topics[0] });\n            }\n            topics = topics.slice(1);\n        }\n        let indexed = [];\n        let nonIndexed = [];\n        let dynamic = [];\n        eventFragment.inputs.forEach((param, index) => {\n            if (param.indexed) {\n                if (param.type === \"string\" || param.type === \"bytes\" || param.baseType === \"tuple\" || param.baseType === \"array\") {\n                    indexed.push(ParamType.fromObject({ type: \"bytes32\", name: param.name }));\n                    dynamic.push(true);\n                }\n                else {\n                    indexed.push(param);\n                    dynamic.push(false);\n                }\n            }\n            else {\n                nonIndexed.push(param);\n                dynamic.push(false);\n            }\n        });\n        let resultIndexed = (topics != null) ? this._abiCoder.decode(indexed, concat(topics)) : null;\n        let resultNonIndexed = this._abiCoder.decode(nonIndexed, data, true);\n        let result = [];\n        let nonIndexedIndex = 0, indexedIndex = 0;\n        eventFragment.inputs.forEach((param, index) => {\n            if (param.indexed) {\n                if (resultIndexed == null) {\n                    result[index] = new Indexed({ _isIndexed: true, hash: null });\n                }\n                else if (dynamic[index]) {\n                    result[index] = new Indexed({ _isIndexed: true, hash: resultIndexed[indexedIndex++] });\n                }\n                else {\n                    try {\n                        result[index] = resultIndexed[indexedIndex++];\n                    }\n                    catch (error) {\n                        result[index] = error;\n                    }\n                }\n            }\n            else {\n                try {\n                    result[index] = resultNonIndexed[nonIndexedIndex++];\n                }\n                catch (error) {\n                    result[index] = error;\n                }\n            }\n            // Add the keyword argument if named and safe\n            if (param.name && result[param.name] == null) {\n                const value = result[index];\n                // Make error named values throw on access\n                if (value instanceof Error) {\n                    Object.defineProperty(result, param.name, {\n                        enumerable: true,\n                        get: () => { throw wrapAccessError(`property ${JSON.stringify(param.name)}`, value); }\n                    });\n                }\n                else {\n                    result[param.name] = value;\n                }\n            }\n        });\n        // Make all error indexed values throw on access\n        for (let i = 0; i < result.length; i++) {\n            const value = result[i];\n            if (value instanceof Error) {\n                Object.defineProperty(result, i, {\n                    enumerable: true,\n                    get: () => { throw wrapAccessError(`index ${i}`, value); }\n                });\n            }\n        }\n        return Object.freeze(result);\n    }\n    // Given a transaction, find the matching function fragment (if any) and\n    // determine all its properties and call parameters\n    parseTransaction(tx) {\n        let fragment = this.getFunction(tx.data.substring(0, 10).toLowerCase());\n        if (!fragment) {\n            return null;\n        }\n        return new TransactionDescription({\n            args: this._abiCoder.decode(fragment.inputs, \"0x\" + tx.data.substring(10)),\n            functionFragment: fragment,\n            name: fragment.name,\n            signature: fragment.format(),\n            sighash: this.getSighash(fragment),\n            value: BigNumber.from(tx.value || \"0\"),\n        });\n    }\n    // @TODO\n    //parseCallResult(data: BytesLike): ??\n    // Given an event log, find the matching event fragment (if any) and\n    // determine all its properties and values\n    parseLog(log) {\n        let fragment = this.getEvent(log.topics[0]);\n        if (!fragment || fragment.anonymous) {\n            return null;\n        }\n        // @TODO: If anonymous, and the only method, and the input count matches, should we parse?\n        //        Probably not, because just because it is the only event in the ABI does\n        //        not mean we have the full ABI; maybe just a fragment?\n        return new LogDescription({\n            eventFragment: fragment,\n            name: fragment.name,\n            signature: fragment.format(),\n            topic: this.getEventTopic(fragment),\n            args: this.decodeEventLog(fragment, log.data, log.topics)\n        });\n    }\n    parseError(data) {\n        const hexData = hexlify(data);\n        let fragment = this.getError(hexData.substring(0, 10).toLowerCase());\n        if (!fragment) {\n            return null;\n        }\n        return new ErrorDescription({\n            args: this._abiCoder.decode(fragment.inputs, \"0x\" + hexData.substring(10)),\n            errorFragment: fragment,\n            name: fragment.name,\n            signature: fragment.format(),\n            sighash: this.getSighash(fragment),\n        });\n    }\n    /*\n    static from(value: Array<Fragment | string | JsonAbi> | string | Interface) {\n        if (Interface.isInterface(value)) {\n            return value;\n        }\n        if (typeof(value) === \"string\") {\n            return new Interface(JSON.parse(value));\n        }\n        return new Interface(value);\n    }\n    */\n    static isInterface(value) {\n        return !!(value && value._isInterface);\n    }\n}\n//# sourceMappingURL=interface.js.map","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport Web3EthContract from 'web3-eth-contract';\nimport { keccak256, toHex } from 'web3-utils';\n\nconst ETHEREUM_NETWORK = {\n  ROPSTEN: \"ropsten\",\n  MAINNET: \"mainnet\",\n  POLYGON: \"polygon-mainnet\"\n};\nconst abi = [{\n  inputs: [{\n    internalType: \"string\",\n    name: \"_verifier\",\n    type: \"string\"\n  }, {\n    internalType: \"bytes32\",\n    name: \"hashedVerifierId\",\n    type: \"bytes32\"\n  }],\n  name: \"getNodeSet\",\n  outputs: [{\n    internalType: \"uint256\",\n    name: \"currentEpoch\",\n    type: \"uint256\"\n  }, {\n    internalType: \"string[]\",\n    name: \"torusNodeEndpoints\",\n    type: \"string[]\"\n  }, {\n    internalType: \"uint256[]\",\n    name: \"torusNodePubX\",\n    type: \"uint256[]\"\n  }, {\n    internalType: \"uint256[]\",\n    name: \"torusNodePubY\",\n    type: \"uint256[]\"\n  }, {\n    internalType: \"uint256[]\",\n    name: \"torusIndexes\",\n    type: \"uint256[]\"\n  }],\n  stateMutability: \"view\",\n  type: \"function\"\n}];\n\nclass NodeDetailManager {\n  constructor() {\n    let {\n      network = ETHEREUM_NETWORK.MAINNET,\n      proxyAddress = NodeDetailManager.PROXY_ADDRESS_MAINNET\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _defineProperty(this, \"_currentEpoch\", \"\");\n\n    _defineProperty(this, \"_torusNodeEndpoints\", []);\n\n    _defineProperty(this, \"_torusNodePub\", []);\n\n    _defineProperty(this, \"_torusIndexes\", []);\n\n    _defineProperty(this, \"nodeListAddress\", void 0);\n\n    _defineProperty(this, \"updated\", void 0);\n\n    _defineProperty(this, \"nodeListContract\", void 0);\n\n    let url;\n\n    try {\n      const localUrl = new URL(network);\n      url = localUrl.href;\n    } catch (_) {\n      const projectId = \"b8cdb0e4cff24599a286bf8e87ff1c96\";\n      url = \"https://\".concat(network, \".infura.io/v3/\").concat(projectId);\n    }\n\n    Web3EthContract.setProvider(url);\n    this.nodeListContract = new Web3EthContract(abi, proxyAddress);\n    this.nodeListAddress = proxyAddress;\n    this.updated = false;\n  }\n\n  get _nodeDetails() {\n    return {\n      currentEpoch: this._currentEpoch,\n      nodeListAddress: this.nodeListAddress,\n      torusNodeEndpoints: this._torusNodeEndpoints,\n      torusNodePub: this._torusNodePub,\n      torusIndexes: this._torusIndexes,\n      updated: this.updated\n    };\n  }\n\n  async getNodeDetails(_ref) {\n    let {\n      verifier,\n      verifierId\n    } = _ref;\n\n    try {\n      // Do this only for mainnet & testnet where the list is static irrespective of verifier, verifierId\n      if (this.updated && (this.nodeListAddress === NodeDetailManager.PROXY_ADDRESS_MAINNET || this.nodeListAddress === NodeDetailManager.PROXY_ADDRESS_ROPSTEN)) return this._nodeDetails;\n      const hashedVerifierId = keccak256(verifierId);\n      const nodeDetails = await this.nodeListContract.methods.getNodeSet(verifier, hashedVerifierId).call();\n      const {\n        currentEpoch,\n        torusNodeEndpoints,\n        torusNodePubX,\n        torusNodePubY,\n        torusIndexes\n      } = nodeDetails;\n      this._currentEpoch = currentEpoch;\n      this._torusIndexes = torusIndexes.map(x => Number(x));\n      const updatedEndpoints = [];\n      const updatedNodePub = [];\n\n      for (let index = 0; index < torusNodeEndpoints.length; index += 1) {\n        const endPointElement = torusNodeEndpoints[index];\n        const pubKx = torusNodePubX[index];\n        const pubKy = torusNodePubY[index];\n        const endpoint = \"https://\".concat(endPointElement.split(\":\")[0], \"/jrpc\");\n        updatedEndpoints.push(endpoint);\n        updatedNodePub.push({\n          X: toHex(pubKx).replace(\"0x\", \"\"),\n          Y: toHex(pubKy).replace(\"0x\", \"\")\n        });\n      }\n\n      this._torusNodeEndpoints = updatedEndpoints;\n      this._torusNodePub = updatedNodePub;\n      this.updated = true;\n      return this._nodeDetails;\n    } catch (error) {\n      if (this.nodeListAddress === NodeDetailManager.PROXY_ADDRESS_MAINNET) {\n        return NodeDetailManager.NODE_DETAILS_MAINNET;\n      }\n\n      throw error;\n    }\n  }\n\n}\n\n_defineProperty(NodeDetailManager, \"PROXY_ADDRESS_MAINNET\", \"0xf20336e16B5182637f09821c27BDe29b0AFcfe80\");\n\n_defineProperty(NodeDetailManager, \"PROXY_ADDRESS_ROPSTEN\", \"0x6258c9d6c12ed3edda59a1a6527e469517744aa7\");\n\n_defineProperty(NodeDetailManager, \"PROXY_ADDRESS_POLYGON\", \"0x9f072ba19b3370e512aa1b4bfcdaf97283168005\");\n\n_defineProperty(NodeDetailManager, \"NODE_DETAILS_MAINNET\", {\n  currentEpoch: \"19\",\n  nodeListAddress: NodeDetailManager.PROXY_ADDRESS_MAINNET,\n  torusNodeEndpoints: [\"https://torus-19.torusnode.com/jrpc\", \"https://torus-node.ens.domains/jrpc\", \"https://torus-node.matic.network/jrpc\", \"https://torus.zilliqa.network/jrpc\", \"https://torus-mainnet.cosmos.network/jrpc\", \"https://torus2.etherscan.com/jrpc\", \"https://torus-node-v2.skalelabs.com/jrpc\", \"https://torus-node.binancex.dev/jrpc\", \"https://torusnode.ont.io/jrpc\"],\n  torusIndexes: [1, 2, 3, 4, 5, 6, 7, 8, 9],\n  torusNodePub: [{\n    X: \"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b\",\n    Y: \"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5\"\n  }, {\n    X: \"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d\",\n    Y: \"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873\"\n  }, {\n    X: \"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe\",\n    Y: \"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152\"\n  }, {\n    X: \"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768\",\n    Y: \"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef\"\n  }, {\n    X: \"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064\",\n    Y: \"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1\"\n  }, {\n    X: \"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139\",\n    Y: \"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122\"\n  }, {\n    X: \"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6\",\n    Y: \"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9\"\n  }, {\n    X: \"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043\",\n    Y: \"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46\"\n  }, {\n    X: \"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5\",\n    Y: \"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790\"\n  }],\n  updated: false\n});\n\nexport { ETHEREUM_NETWORK, abi, NodeDetailManager as default };\n//# sourceMappingURL=fetchNodeDetails.esm.js.map\n",null,null,null,"import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { generatePrivate, getPublic, decrypt } from '@toruslabs/eccrypto';\nimport { post, generateJsonRPCObject, setAPIKey, setEmbedHost, get } from '@toruslabs/http-helpers';\nimport BN from 'bn.js';\nimport { ec } from 'elliptic';\nimport JsonStringify from 'json-stable-stringify';\nimport { toChecksumAddress } from 'web3-utils';\nimport loglevel from 'loglevel';\nimport createKeccakHash from 'keccak';\n\nconst log = loglevel.getLogger(\"torus.js\");\nlog.disableAll();\n\nfunction capitalizeFirstLetter(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nclass SomeError extends Error {\n  constructor(_ref) {\n    let {\n      errors,\n      responses,\n      predicate\n    } = _ref;\n    super(\"Unable to resolve enough promises.\");\n\n    _defineProperty(this, \"errors\", void 0);\n\n    _defineProperty(this, \"responses\", void 0);\n\n    _defineProperty(this, \"predicate\", void 0);\n\n    this.errors = errors;\n    this.responses = responses;\n    this.predicate = predicate;\n  }\n\n}\nconst Some = (promises, predicate) => new Promise((resolve, reject) => {\n  let finishedCount = 0;\n  const sharedState = {\n    resolved: false\n  };\n  const errorArr = new Array(promises.length).fill(undefined);\n  const resultArr = new Array(promises.length).fill(undefined);\n  let predicateError;\n  return promises.forEach((x, index) => {\n    return x.then(resp => {\n      resultArr[index] = resp;\n      return undefined;\n    }).catch(error => {\n      errorArr[index] = error;\n    }) // eslint-disable-next-line promise/no-return-in-finally\n    .finally(() => {\n      if (sharedState.resolved) return;\n      return predicate(resultArr.slice(0), sharedState).then(data => {\n        sharedState.resolved = true;\n        resolve(data);\n        return undefined;\n      }).catch(error => {\n        // log only the last predicate error\n        predicateError = error;\n      }).finally(() => {\n        finishedCount += 1;\n\n        if (finishedCount === promises.length) {\n          const errors = Object.values(resultArr.reduce((acc, z) => {\n            if (z) {\n              var _error$data;\n\n              const {\n                id,\n                error\n              } = z;\n\n              if ((error === null || error === void 0 ? void 0 : (_error$data = error.data) === null || _error$data === void 0 ? void 0 : _error$data.length) > 0) {\n                if (error.data.startsWith(\"Error occurred while verifying params\")) acc[id] = capitalizeFirstLetter(error.data);else acc[id] = error.data;\n              }\n            }\n\n            return acc;\n          }, {}));\n\n          if (errors.length > 0) {\n            // Format-able errors\n            const msg = errors.length > 1 ? `\\n${errors.map(it => `• ${it}`).join(\"\\n\")}` : errors[0];\n            reject(new Error(msg));\n          } else {\n            var _predicateError;\n\n            reject(new SomeError({\n              errors: errorArr,\n              responses: resultArr,\n              predicate: ((_predicateError = predicateError) === null || _predicateError === void 0 ? void 0 : _predicateError.message) || predicateError\n            }));\n          }\n        }\n      });\n    });\n  });\n});\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nclass GetOrSetNonceError extends Error {}\nconst kCombinations = (s, k) => {\n  let set = s;\n\n  if (typeof set === \"number\") {\n    set = Array.from({\n      length: set\n    }, (_, i) => i);\n  }\n\n  if (k > set.length || k <= 0) {\n    return [];\n  }\n\n  if (k === set.length) {\n    return [set];\n  }\n\n  if (k === 1) {\n    return set.reduce((acc, cur) => [...acc, [cur]], []);\n  }\n\n  const combs = [];\n  let tailCombs = [];\n\n  for (let i = 0; i <= set.length - k + 1; i += 1) {\n    tailCombs = kCombinations(set.slice(i + 1), k - 1);\n\n    for (let j = 0; j < tailCombs.length; j += 1) {\n      combs.push([set[i], ...tailCombs[j]]);\n    }\n  }\n\n  return combs;\n};\nconst thresholdSame = (arr, t) => {\n  const hashMap = {};\n\n  for (let i = 0; i < arr.length; i += 1) {\n    const str = JsonStringify(arr[i]);\n    hashMap[str] = hashMap[str] ? hashMap[str] + 1 : 1;\n\n    if (hashMap[str] === t) {\n      return arr[i];\n    }\n  }\n\n  return undefined;\n};\nconst keyLookup = async (endpoints, verifier, verifierId) => {\n  const lookupPromises = endpoints.map(x => post(x, generateJsonRPCObject(\"VerifierLookupRequest\", {\n    verifier,\n    verifier_id: verifierId.toString()\n  })).catch(err => log.error(\"lookup request failed\", err)));\n  return Some(lookupPromises, lookupResults => {\n    const lookupShares = lookupResults.filter(x1 => x1);\n    const errorResult = thresholdSame(lookupShares.map(x2 => x2 && x2.error), ~~(endpoints.length / 2) + 1);\n    const keyResult = thresholdSame(lookupShares.map(x3 => x3 && x3.result), ~~(endpoints.length / 2) + 1);\n\n    if (keyResult || errorResult) {\n      return Promise.resolve({\n        keyResult,\n        errorResult\n      });\n    }\n\n    return Promise.reject(new Error(`invalid results ${JSON.stringify(lookupResults)}`));\n  });\n};\nconst waitKeyLookup = (endpoints, verifier, verifierId, timeout) => new Promise((resolve, reject) => {\n  setTimeout(() => {\n    keyLookup(endpoints, verifier, verifierId).then(resolve).catch(reject);\n  }, timeout);\n});\nconst keyAssign = async _ref => {\n  let {\n    endpoints,\n    torusNodePubs,\n    lastPoint,\n    firstPoint,\n    verifier,\n    verifierId,\n    signerHost,\n    network\n  } = _ref;\n  let nodeNum;\n  let initialPoint;\n\n  if (lastPoint === undefined) {\n    nodeNum = Math.floor(Math.random() * endpoints.length);\n    initialPoint = nodeNum;\n  } else {\n    nodeNum = lastPoint % endpoints.length;\n  }\n\n  if (nodeNum === firstPoint) throw new Error(\"Looped through all\");\n  if (firstPoint !== undefined) initialPoint = firstPoint;\n  const data = generateJsonRPCObject(\"KeyAssign\", {\n    verifier,\n    verifier_id: verifierId.toString()\n  });\n\n  try {\n    const signedData = await post(signerHost, data, {\n      headers: {\n        pubKeyX: torusNodePubs[nodeNum].X,\n        pubKeyY: torusNodePubs[nodeNum].Y,\n        network\n      }\n    }, {\n      useAPIKey: true\n    });\n    return await post(endpoints[nodeNum], _objectSpread$1(_objectSpread$1({}, data), signedData), {\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      }\n    });\n  } catch (error) {\n    log.error(error);\n    const acceptedErrorMsgs = [// Slow node\n    \"Timed out\", // Happens when the node is not reachable (dns issue etc)\n    \"TypeError: Failed to fetch\", \"TypeError: cancelled\", \"TypeError: NetworkError when attempting to fetch resource.\" // Firefox\n    ];\n    if (acceptedErrorMsgs.includes(error.message)) return keyAssign({\n      endpoints,\n      torusNodePubs,\n      lastPoint: nodeNum + 1,\n      firstPoint: initialPoint,\n      verifier,\n      verifierId,\n      signerHost,\n      network\n    });\n    throw new Error(`Sorry, the Torus Network that powers Web3Auth is currently very busy.\n    We will generate your key in time. Pls try again later. \\n\n    ${error.message || \"\"}`);\n  }\n};\nfunction keccak256(a) {\n  const hash = createKeccakHash(\"keccak256\").update(a).digest().toString(\"hex\");\n  return `0x${hash}`;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n// of Torus nodes to handle malicious node responses\n\nclass Torus {\n  constructor() {\n    let {\n      enableOneKey = false,\n      metadataHost = \"https://metadata.tor.us\",\n      allowHost = \"https://signer.tor.us/api/allow\",\n      signerHost = \"https://signer.tor.us/api/sign\",\n      serverTimeOffset = 0,\n      network = \"mainnet\"\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _defineProperty(this, \"metadataHost\", void 0);\n\n    _defineProperty(this, \"allowHost\", void 0);\n\n    _defineProperty(this, \"serverTimeOffset\", void 0);\n\n    _defineProperty(this, \"enableOneKey\", void 0);\n\n    _defineProperty(this, \"signerHost\", void 0);\n\n    _defineProperty(this, \"network\", void 0);\n\n    _defineProperty(this, \"ec\", void 0);\n\n    this.ec = new ec(\"secp256k1\");\n    this.metadataHost = metadataHost;\n    this.allowHost = allowHost;\n    this.enableOneKey = enableOneKey;\n    this.serverTimeOffset = serverTimeOffset || 0; // ms\n\n    this.signerHost = signerHost;\n    this.network = network;\n  }\n\n  static enableLogging() {\n    let v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    if (v) log.enableAll();else log.disableAll();\n  }\n\n  static setAPIKey(apiKey) {\n    setAPIKey(apiKey);\n  }\n\n  static setEmbedHost(embedHost) {\n    setEmbedHost(embedHost);\n  }\n\n  static isGetOrSetNonceError(err) {\n    return err instanceof GetOrSetNonceError;\n  }\n  /**\n   * Note: use this function only for openlogin tkey account lookups.\n   */\n\n\n  async getUserTypeAndAddress(endpoints, torusNodePubs, _ref) {\n    let {\n      verifier,\n      verifierId\n    } = _ref;\n    let doesKeyAssign = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    const {\n      keyResult,\n      errorResult\n    } = (await keyLookup(endpoints, verifier, verifierId)) || {};\n    let isNewKey = false;\n    let finalKeyResult;\n\n    if (errorResult && JSON.stringify(errorResult).includes(\"Verifier + VerifierID has not yet been assigned\")) {\n      if (!doesKeyAssign) {\n        throw new Error(\"Verifier + VerifierID has not yet been assigned\");\n      }\n\n      await keyAssign({\n        endpoints,\n        torusNodePubs,\n        lastPoint: undefined,\n        firstPoint: undefined,\n        verifier,\n        verifierId,\n        signerHost: this.signerHost,\n        network: this.network\n      });\n      const assignResult = await waitKeyLookup(endpoints, verifier, verifierId, 1000);\n      finalKeyResult = assignResult === null || assignResult === void 0 ? void 0 : assignResult.keyResult;\n      isNewKey = true;\n    } else if (keyResult) {\n      finalKeyResult = keyResult;\n    } else {\n      throw new Error(`node results do not match at first lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n    }\n\n    if (finalKeyResult) {\n      const {\n        pub_key_X: X,\n        pub_key_Y: Y\n      } = finalKeyResult.keys[0];\n      let nonceResult;\n      let nonce;\n      let modifiedPubKey;\n\n      try {\n        nonceResult = await this.getOrSetNonce(X, Y, undefined, !isNewKey);\n        nonce = new BN(nonceResult.nonce || \"0\", 16);\n      } catch {\n        throw new GetOrSetNonceError();\n      }\n\n      if (nonceResult.typeOfUser === \"v1\") {\n        modifiedPubKey = this.ec.keyFromPublic({\n          x: X,\n          y: Y\n        }).getPublic().add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n      } else if (nonceResult.typeOfUser === \"v2\") {\n        modifiedPubKey = this.ec.keyFromPublic({\n          x: X,\n          y: Y\n        }).getPublic().add(this.ec.keyFromPublic({\n          x: nonceResult.pubNonce.x,\n          y: nonceResult.pubNonce.y\n        }).getPublic());\n      } else {\n        throw new Error(\"getOrSetNonce should always return typeOfUser.\");\n      }\n\n      const finalX = modifiedPubKey.getX().toString(16);\n      const finalY = modifiedPubKey.getY().toString(16);\n      const address = this.generateAddressFromPubKey(modifiedPubKey.getX(), modifiedPubKey.getY());\n      if (nonceResult.typeOfUser === \"v1\") return {\n        typeOfUser: nonceResult.typeOfUser,\n        nonce,\n        X: finalX,\n        Y: finalY,\n        address\n      };else if (nonceResult.typeOfUser === \"v2\") {\n        return {\n          typeOfUser: nonceResult.typeOfUser,\n          nonce,\n          pubNonce: nonceResult.pubNonce,\n          upgraded: nonceResult.upgraded,\n          X: finalX,\n          Y: finalY,\n          address\n        };\n      }\n    }\n\n    throw new Error(`node results do not match at final lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n  }\n\n  async setCustomKey(_ref2) {\n    let {\n      privKeyHex,\n      metadataNonce,\n      torusKeyHex,\n      customKeyHex\n    } = _ref2;\n    let torusKey;\n\n    if (torusKeyHex) {\n      torusKey = new BN(torusKeyHex, 16);\n    } else {\n      const privKey = new BN(privKeyHex, 16);\n      torusKey = privKey.sub(metadataNonce).umod(this.ec.curve.n);\n    }\n\n    const customKey = new BN(customKeyHex, 16);\n    const newMetadataNonce = customKey.sub(torusKey).umod(this.ec.curve.n);\n    const data = this.generateMetadataParams(newMetadataNonce.toString(16), torusKey);\n    await this.setMetadata(data);\n  }\n\n  async retrieveShares(endpoints, indexes, verifier, verifierParams, idToken) {\n    let extraParams = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    const promiseArr = [];\n    await get(this.allowHost, {\n      headers: {\n        verifier,\n        verifier_id: verifierParams.verifier_id,\n        network: this.network\n      }\n    }, {\n      useAPIKey: true\n    });\n    /*\n      CommitmentRequestParams struct {\n        MessagePrefix      string `json:\"messageprefix\"`\n        TokenCommitment    string `json:\"tokencommitment\"`\n        TempPubX           string `json:\"temppubx\"`\n        TempPubY           string `json:\"temppuby\"`\n        VerifierIdentifier string `json:\"verifieridentifier\"`\n      }\n      */\n    // generate temporary private and public key that is used to secure receive shares\n\n    const tmpKey = generatePrivate();\n    const pubKey = getPublic(tmpKey).toString(\"hex\");\n    const pubKeyX = pubKey.slice(2, 66);\n    const pubKeyY = pubKey.slice(66);\n    const tokenCommitment = keccak256(idToken); // make commitment requests to endpoints\n\n    for (let i = 0; i < endpoints.length; i += 1) {\n      const p = post(endpoints[i], generateJsonRPCObject(\"CommitmentRequest\", {\n        messageprefix: \"mug00\",\n        tokencommitment: tokenCommitment.slice(2),\n        temppubx: pubKeyX,\n        temppuby: pubKeyY,\n        verifieridentifier: verifier\n      })).catch(err => {\n        log.error(\"commitment\", err);\n      });\n      promiseArr.push(p);\n    }\n    /*\n      ShareRequestParams struct {\n        Item []bijson.RawMessage `json:\"item\"`\n      }\n      ShareRequestItem struct {\n        IDToken            string          `json:\"idtoken\"`\n        NodeSignatures     []NodeSignature `json:\"nodesignatures\"`\n        VerifierIdentifier string          `json:\"verifieridentifier\"`\n      }\n      NodeSignature struct {\n        Signature   string\n        Data        string\n        NodePubKeyX string\n        NodePubKeyY string\n      }\n      CommitmentRequestResult struct {\n        Signature string `json:\"signature\"`\n        Data      string `json:\"data\"`\n        NodePubX  string `json:\"nodepubx\"`\n        NodePubY  string `json:\"nodepuby\"`\n      }\n      */\n    // send share request once k + t number of commitment requests have completed\n\n\n    return Some(promiseArr, resultArr => {\n      const completedRequests = resultArr.filter(x => {\n        if (!x || typeof x !== \"object\") {\n          return false;\n        }\n\n        if (x.error) {\n          return false;\n        }\n\n        return true;\n      });\n\n      if (completedRequests.length >= ~~(endpoints.length / 4) * 3 + 1) {\n        return Promise.resolve(resultArr);\n      }\n\n      return Promise.reject(new Error(`invalid ${JSON.stringify(resultArr)}`));\n    }).then(responses => {\n      const promiseArrRequest = [];\n      const nodeSigs = [];\n\n      for (let i = 0; i < responses.length; i += 1) {\n        if (responses[i]) nodeSigs.push(responses[i].result);\n      }\n\n      for (let i = 0; i < endpoints.length; i += 1) {\n        // eslint-disable-next-line promise/no-nesting\n        const p = post(endpoints[i], generateJsonRPCObject(\"ShareRequest\", {\n          encrypted: \"yes\",\n          item: [_objectSpread(_objectSpread({}, verifierParams), {}, {\n            idtoken: idToken,\n            nodesignatures: nodeSigs,\n            verifieridentifier: verifier\n          }, extraParams)]\n        })).catch(err => log.error(\"share req\", err));\n        promiseArrRequest.push(p);\n      }\n\n      return Some(promiseArrRequest, async (shareResponses, sharedState) => {\n        /*\n            ShareRequestResult struct {\n              Keys []KeyAssignment\n            }\n                    / KeyAssignmentPublic -\n            type KeyAssignmentPublic struct {\n              Index     big.Int\n              PublicKey common.Point\n              Threshold int\n              Verifiers map[string][]string // Verifier => VerifierID\n            }\n                   // KeyAssignment -\n            type KeyAssignment struct {\n              KeyAssignmentPublic\n              Share big.Int // Or Si\n            }\n          */\n        // check if threshold number of nodes have returned the same user public key\n        const completedRequests = shareResponses.filter(x => x);\n        const thresholdPublicKey = thresholdSame(shareResponses.map(x => x && x.result && x.result.keys[0].PublicKey), ~~(endpoints.length / 2) + 1); // optimistically run lagrange interpolation once threshold number of shares have been received\n        // this is matched against the user public key to ensure that shares are consistent\n\n        if (completedRequests.length >= ~~(endpoints.length / 2) + 1 && thresholdPublicKey) {\n          const sharePromises = [];\n          const nodeIndexes = [];\n\n          for (let i = 0; i < shareResponses.length; i += 1) {\n            var _currentShareResponse, _currentShareResponse2;\n\n            const currentShareResponse = shareResponses[i];\n\n            if ((currentShareResponse === null || currentShareResponse === void 0 ? void 0 : (_currentShareResponse = currentShareResponse.result) === null || _currentShareResponse === void 0 ? void 0 : (_currentShareResponse2 = _currentShareResponse.keys) === null || _currentShareResponse2 === void 0 ? void 0 : _currentShareResponse2.length) > 0) {\n              currentShareResponse.result.keys.sort((a, b) => new BN(a.Index, 16).cmp(new BN(b.Index, 16)));\n              const firstKey = currentShareResponse.result.keys[0];\n\n              if (firstKey.Metadata) {\n                const metadata = {\n                  ephemPublicKey: Buffer.from(firstKey.Metadata.ephemPublicKey, \"hex\"),\n                  iv: Buffer.from(firstKey.Metadata.iv, \"hex\"),\n                  mac: Buffer.from(firstKey.Metadata.mac, \"hex\") // mode: Buffer.from(firstKey.Metadata.mode, \"hex\"),\n\n                };\n                sharePromises.push( // eslint-disable-next-line promise/no-nesting\n                decrypt(tmpKey, _objectSpread(_objectSpread({}, metadata), {}, {\n                  ciphertext: Buffer.from(Buffer.from(firstKey.Share, \"base64\").toString(\"binary\").padStart(64, \"0\"), \"hex\")\n                })).catch(err => log.debug(\"share decryption\", err)));\n              } else {\n                sharePromises.push(Promise.resolve(Buffer.from(firstKey.Share.padStart(64, \"0\"), \"hex\")));\n              }\n            } else {\n              sharePromises.push(Promise.resolve(undefined));\n            }\n\n            nodeIndexes.push(new BN(indexes[i], 16));\n          }\n\n          const sharesResolved = await Promise.all(sharePromises);\n          if (sharedState.resolved) return undefined;\n          const decryptedShares = sharesResolved.reduce((acc, curr, index) => {\n            if (curr) acc.push({\n              index: nodeIndexes[index],\n              value: new BN(curr)\n            });\n            return acc;\n          }, []); // run lagrange interpolation on all subsets, faster in the optimistic scenario than berlekamp-welch due to early exit\n\n          const allCombis = kCombinations(decryptedShares.length, ~~(endpoints.length / 2) + 1);\n          let privateKey = null;\n\n          for (let j = 0; j < allCombis.length; j += 1) {\n            const currentCombi = allCombis[j];\n            const currentCombiShares = decryptedShares.filter((v, index) => currentCombi.includes(index));\n            const shares = currentCombiShares.map(x => x.value);\n            const indices = currentCombiShares.map(x => x.index);\n            const derivedPrivateKey = this.lagrangeInterpolation(shares, indices);\n            if (!derivedPrivateKey) continue;\n            const decryptedPubKey = getPublic(Buffer.from(derivedPrivateKey.toString(16, 64), \"hex\")).toString(\"hex\");\n            const decryptedPubKeyX = decryptedPubKey.slice(2, 66);\n            const decryptedPubKeyY = decryptedPubKey.slice(66);\n\n            if (new BN(decryptedPubKeyX, 16).cmp(new BN(thresholdPublicKey.X, 16)) === 0 && new BN(decryptedPubKeyY, 16).cmp(new BN(thresholdPublicKey.Y, 16)) === 0) {\n              privateKey = derivedPrivateKey;\n              break;\n            }\n          }\n\n          if (privateKey === undefined || privateKey === null) {\n            throw new Error(\"could not derive private key\");\n          }\n\n          return privateKey;\n        }\n\n        throw new Error(\"invalid\");\n      });\n    }).then(async returnedKey => {\n      let privateKey = returnedKey;\n      if (!privateKey) throw new Error(\"Invalid private key returned\");\n      const decryptedPubKey = getPublic(Buffer.from(privateKey.toString(16, 64), \"hex\")).toString(\"hex\");\n      const decryptedPubKeyX = decryptedPubKey.slice(2, 66);\n      const decryptedPubKeyY = decryptedPubKey.slice(66);\n      let metadataNonce;\n\n      if (this.enableOneKey) {\n        const {\n          nonce\n        } = await this.getNonce(decryptedPubKeyX, decryptedPubKeyY, privateKey);\n        metadataNonce = new BN(nonce || \"0\", 16);\n      } else {\n        metadataNonce = await this.getMetadata({\n          pub_key_X: decryptedPubKeyX,\n          pub_key_Y: decryptedPubKeyY\n        });\n      }\n\n      log.debug(\"> torus.js/retrieveShares\", {\n        privKey: privateKey.toString(16),\n        metadataNonce: metadataNonce.toString(16)\n      });\n      privateKey = privateKey.add(metadataNonce).umod(this.ec.curve.n);\n      const ethAddress = this.generateAddressFromPrivKey(privateKey);\n      log.debug(\"> torus.js/retrieveShares\", {\n        ethAddress,\n        privKey: privateKey.toString(16)\n      }); // return reconstructed private key and ethereum address\n\n      return {\n        ethAddress,\n        privKey: privateKey.toString(\"hex\", 64),\n        metadataNonce\n      };\n    });\n  }\n\n  async getMetadata(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    try {\n      const metadataResponse = await post(`${this.metadataHost}/get`, data, options, {\n        useAPIKey: true\n      });\n\n      if (!metadataResponse || !metadataResponse.message) {\n        return new BN(0);\n      }\n\n      return new BN(metadataResponse.message, 16); // nonce\n    } catch (error) {\n      log.error(\"get metadata error\", error);\n      return new BN(0);\n    }\n  }\n\n  generateMetadataParams(message, privateKey) {\n    const key = this.ec.keyFromPrivate(privateKey.toString(\"hex\", 64));\n    const setData = {\n      data: message,\n      timestamp: new BN(~~(this.serverTimeOffset + Date.now() / 1000)).toString(16)\n    };\n    const sig = key.sign(keccak256(JsonStringify(setData)).slice(2));\n    return {\n      pub_key_X: key.getPublic().getX().toString(\"hex\"),\n      pub_key_Y: key.getPublic().getY().toString(\"hex\"),\n      set_data: setData,\n      signature: Buffer.from(sig.r.toString(16, 64) + sig.s.toString(16, 64) + new BN(\"\").toString(16, 2), \"hex\").toString(\"base64\")\n    };\n  }\n\n  async setMetadata(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    try {\n      const metadataResponse = await post(`${this.metadataHost}/set`, data, options, {\n        useAPIKey: true\n      });\n      return metadataResponse.message; // IPFS hash\n    } catch (error) {\n      log.error(\"set metadata error\", error);\n      return \"\";\n    }\n  }\n\n  lagrangeInterpolation(shares, nodeIndex) {\n    if (shares.length !== nodeIndex.length) {\n      return null;\n    }\n\n    let secret = new BN(0);\n\n    for (let i = 0; i < shares.length; i += 1) {\n      let upper = new BN(1);\n      let lower = new BN(1);\n\n      for (let j = 0; j < shares.length; j += 1) {\n        if (i !== j) {\n          upper = upper.mul(nodeIndex[j].neg());\n          upper = upper.umod(this.ec.curve.n);\n          let temp = nodeIndex[i].sub(nodeIndex[j]);\n          temp = temp.umod(this.ec.curve.n);\n          lower = lower.mul(temp).umod(this.ec.curve.n);\n        }\n      }\n\n      let delta = upper.mul(lower.invm(this.ec.curve.n)).umod(this.ec.curve.n);\n      delta = delta.mul(shares[i]).umod(this.ec.curve.n);\n      secret = secret.add(delta);\n    }\n\n    return secret.umod(this.ec.curve.n);\n  }\n\n  generateAddressFromPrivKey(privateKey) {\n    const key = this.ec.keyFromPrivate(privateKey.toString(\"hex\", 64), \"hex\");\n    const publicKey = key.getPublic().encode(\"hex\", false).slice(2);\n    log.info(publicKey, \"public key\");\n    const ethAddressLower = `0x${keccak256(Buffer.from(publicKey, \"hex\")).slice(64 - 38)}`;\n    return toChecksumAddress(ethAddressLower);\n  }\n\n  generateAddressFromPubKey(publicKeyX, publicKeyY) {\n    const key = this.ec.keyFromPublic({\n      x: publicKeyX.toString(\"hex\", 64),\n      y: publicKeyY.toString(\"hex\", 64)\n    });\n    const publicKey = key.getPublic().encode(\"hex\", false).slice(2);\n    log.info(key.getPublic().encode(\"hex\", false), \"public key\");\n    const ethAddressLower = `0x${keccak256(Buffer.from(publicKey, \"hex\")).slice(64 - 38)}`;\n    return toChecksumAddress(ethAddressLower);\n  }\n  /**\n   * Note: use this function only with custom auth, don't use to lookup openlogin accounts.\n   */\n\n\n  async getPublicAddress(endpoints, torusNodePubs, _ref3) {\n    let {\n      verifier,\n      verifierId\n    } = _ref3;\n    let isExtended = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    log.debug(\"> torus.js/getPublicAddress\", {\n      endpoints,\n      torusNodePubs,\n      verifier,\n      verifierId,\n      isExtended\n    });\n    let finalKeyResult;\n    let isNewKey = false;\n    const {\n      keyResult,\n      errorResult\n    } = (await keyLookup(endpoints, verifier, verifierId)) || {};\n\n    if (errorResult && JSON.stringify(errorResult).includes(\"Verifier not supported\")) {\n      // change error msg\n      throw new Error(`Verifier not supported. Check if you: \\n\n      1. Are on the right network (Torus testnet/mainnet) \\n\n      2. Have setup a verifier on dashboard.web3auth.io?`);\n    } else if (errorResult && JSON.stringify(errorResult).includes(\"Verifier + VerifierID has not yet been assigned\")) {\n      await keyAssign({\n        endpoints,\n        torusNodePubs,\n        lastPoint: undefined,\n        firstPoint: undefined,\n        verifier,\n        verifierId,\n        signerHost: this.signerHost,\n        network: this.network\n      });\n      const assignResult = await waitKeyLookup(endpoints, verifier, verifierId, 1000);\n      finalKeyResult = assignResult === null || assignResult === void 0 ? void 0 : assignResult.keyResult;\n      isNewKey = true;\n    } else if (keyResult) {\n      finalKeyResult = keyResult;\n    } else {\n      throw new Error(`node results do not match at first lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n    }\n\n    log.debug(\"> torus.js/getPublicAddress\", {\n      finalKeyResult,\n      isNewKey\n    });\n\n    if (finalKeyResult) {\n      var _nonce;\n\n      let {\n        pub_key_X: X,\n        pub_key_Y: Y\n      } = finalKeyResult.keys[0];\n      let nonceResult;\n      let nonce;\n      let modifiedPubKey;\n      let typeOfUser;\n      let pubNonce;\n\n      if (this.enableOneKey) {\n        try {\n          nonceResult = await this.getOrSetNonce(X, Y, undefined, !isNewKey);\n          nonce = new BN(nonceResult.nonce || \"0\", 16);\n          typeOfUser = nonceResult.typeOfUser;\n        } catch {\n          throw new GetOrSetNonceError();\n        }\n\n        if (nonceResult.typeOfUser === \"v1\") {\n          modifiedPubKey = this.ec.keyFromPublic({\n            x: X,\n            y: Y\n          }).getPublic().add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n        } else if (nonceResult.typeOfUser === \"v2\") {\n          if (nonceResult.upgraded) {\n            // OneKey is upgraded to 2/n, returned address is address of Torus key (postbox key), not tKey\n            modifiedPubKey = this.ec.keyFromPublic({\n              x: X,\n              y: Y\n            }).getPublic();\n          } else {\n            modifiedPubKey = this.ec.keyFromPublic({\n              x: X,\n              y: Y\n            }).getPublic().add(this.ec.keyFromPublic({\n              x: nonceResult.pubNonce.x,\n              y: nonceResult.pubNonce.y\n            }).getPublic());\n            pubNonce = nonceResult.pubNonce;\n          }\n        } else {\n          throw new Error(\"getOrSetNonce should always return typeOfUser.\");\n        }\n      } else {\n        typeOfUser = \"v1\";\n        nonce = await this.getMetadata({\n          pub_key_X: X,\n          pub_key_Y: Y\n        });\n        modifiedPubKey = this.ec.keyFromPublic({\n          x: X,\n          y: Y\n        }).getPublic().add(this.ec.keyFromPrivate(nonce.toString(16)).getPublic());\n      }\n\n      X = modifiedPubKey.getX().toString(16);\n      Y = modifiedPubKey.getY().toString(16);\n      const address = this.generateAddressFromPubKey(modifiedPubKey.getX(), modifiedPubKey.getY());\n      log.debug(\"> torus.js/getPublicAddress\", {\n        X,\n        Y,\n        address,\n        typeOfUser,\n        nonce: (_nonce = nonce) === null || _nonce === void 0 ? void 0 : _nonce.toString(16),\n        pubNonce\n      });\n      if (!isExtended) return address;\n      return {\n        typeOfUser,\n        address,\n        X,\n        Y,\n        metadataNonce: nonce,\n        pubNonce\n      };\n    }\n\n    throw new Error(`node results do not match at final lookup ${JSON.stringify(keyResult || {})}, ${JSON.stringify(errorResult || {})}`);\n  }\n  /**\n   * Internal functions for OneKey (OpenLogin v2), only call these functions if you know what you're doing\n   */\n\n\n  async getOrSetNonce(X, Y, privKey) {\n    let getOnly = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    let data;\n    const msg = getOnly ? \"getNonce\" : \"getOrSetNonce\";\n\n    if (privKey) {\n      data = this.generateMetadataParams(msg, privKey);\n    } else {\n      data = {\n        pub_key_X: X,\n        pub_key_Y: Y,\n        set_data: {\n          data: msg\n        }\n      };\n    }\n\n    return post(`${this.metadataHost}/get_or_set_nonce`, data, undefined, {\n      useAPIKey: true\n    });\n  }\n\n  async getNonce(X, Y, privKey) {\n    return this.getOrSetNonce(X, Y, privKey, true);\n  }\n\n  getPostboxKeyFrom1OutOf1(privKey, nonce) {\n    const privKeyBN = new BN(privKey, 16);\n    const nonceBN = new BN(nonce, 16);\n    return privKeyBN.sub(nonceBN).umod(this.ec.curve.n).toString(\"hex\");\n  }\n\n}\n\nexport { GetOrSetNonceError, Torus as default, kCombinations, keccak256, keyAssign, keyLookup, thresholdSame, waitKeyLookup };\n//# sourceMappingURL=torusUtils.esm.js.map\n",null,null,null,null,null,null,null,null,"/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file contract.js\n *\n * To initialize a contract use:\n *\n *  var Contract = require('web3-eth-contract');\n *  Contract.setProvider('ws://localhost:8546');\n *  var contract = new Contract(abi, address, ...);\n *\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar core = require('web3-core');\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar Subscription = require('web3-core-subscriptions').subscription;\nvar formatters = require('web3-core-helpers').formatters;\nvar errors = require('web3-core-helpers').errors;\nvar promiEvent = require('web3-core-promievent');\nvar abi = require('web3-eth-abi');\n/**\n * Should be called to create new contract instance\n *\n * @method Contract\n * @constructor\n * @param {Array} jsonInterface\n * @param {String} address\n * @param {Object} options\n */\nvar Contract = function Contract(jsonInterface, address, options) {\n    var _this = this, args = Array.prototype.slice.call(arguments);\n    if (!(this instanceof Contract)) {\n        throw new Error('Please use the \"new\" keyword to instantiate a web3.eth.Contract() object!');\n    }\n    this.setProvider = function () {\n        core.packageInit(_this, arguments);\n        _this.clearSubscriptions = _this._requestManager.clearSubscriptions;\n    };\n    // sets _requestmanager\n    core.packageInit(this, [this.constructor]);\n    this.clearSubscriptions = this._requestManager.clearSubscriptions;\n    if (!jsonInterface || !(Array.isArray(jsonInterface))) {\n        throw errors.ContractMissingABIError();\n    }\n    // create the options object\n    this.options = {};\n    var lastArg = args[args.length - 1];\n    if (!!lastArg && typeof lastArg === 'object' && !Array.isArray(lastArg)) {\n        options = lastArg;\n        this.options = { ...this.options, ...this._getOrSetDefaultOptions(options) };\n        if (!!address && typeof address === 'object') {\n            address = null;\n        }\n    }\n    // set address\n    Object.defineProperty(this.options, 'address', {\n        set: function (value) {\n            if (value) {\n                _this._address = utils.toChecksumAddress(formatters.inputAddressFormatter(value));\n            }\n        },\n        get: function () {\n            return _this._address;\n        },\n        enumerable: true\n    });\n    // add method and event signatures, when the jsonInterface gets set\n    Object.defineProperty(this.options, 'jsonInterface', {\n        set: function (value) {\n            _this.methods = {};\n            _this.events = {};\n            _this._jsonInterface = value.map(function (method) {\n                var func, funcName;\n                // make constant and payable backwards compatible\n                method.constant = (method.stateMutability === \"view\" || method.stateMutability === \"pure\" || method.constant);\n                method.payable = (method.stateMutability === \"payable\" || method.payable);\n                if (method.name) {\n                    funcName = utils._jsonInterfaceMethodToString(method);\n                }\n                // function\n                if (method.type === 'function') {\n                    method.signature = abi.encodeFunctionSignature(funcName);\n                    func = _this._createTxObject.bind({\n                        method: method,\n                        parent: _this\n                    });\n                    // add method only if not one already exists\n                    if (!_this.methods[method.name]) {\n                        _this.methods[method.name] = func;\n                    }\n                    else {\n                        var cascadeFunc = _this._createTxObject.bind({\n                            method: method,\n                            parent: _this,\n                            nextMethod: _this.methods[method.name]\n                        });\n                        _this.methods[method.name] = cascadeFunc;\n                    }\n                    // definitely add the method based on its signature\n                    _this.methods[method.signature] = func;\n                    // add method by name\n                    _this.methods[funcName] = func;\n                    // event\n                }\n                else if (method.type === 'event') {\n                    method.signature = abi.encodeEventSignature(funcName);\n                    var event = _this._on.bind(_this, method.signature);\n                    // add method only if not already exists\n                    if (!_this.events[method.name] || _this.events[method.name].name === 'bound ')\n                        _this.events[method.name] = event;\n                    // definitely add the method based on its signature\n                    _this.events[method.signature] = event;\n                    // add event by name\n                    _this.events[funcName] = event;\n                }\n                return method;\n            });\n            // add allEvents\n            _this.events.allEvents = _this._on.bind(_this, 'allevents');\n            return _this._jsonInterface;\n        },\n        get: function () {\n            return _this._jsonInterface;\n        },\n        enumerable: true\n    });\n    // get default account from the Class\n    var defaultAccount = this.constructor.defaultAccount;\n    var defaultBlock = this.constructor.defaultBlock || 'latest';\n    Object.defineProperty(this, 'handleRevert', {\n        get: function () {\n            if (_this.options.handleRevert === false || _this.options.handleRevert === true) {\n                return _this.options.handleRevert;\n            }\n            return this.constructor.handleRevert;\n        },\n        set: function (val) {\n            _this.options.handleRevert = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultCommon', {\n        get: function () {\n            return _this.options.common || this.constructor.defaultCommon;\n        },\n        set: function (val) {\n            _this.options.common = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultHardfork', {\n        get: function () {\n            return _this.options.hardfork || this.constructor.defaultHardfork;\n        },\n        set: function (val) {\n            _this.options.hardfork = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultChain', {\n        get: function () {\n            return _this.options.chain || this.constructor.defaultChain;\n        },\n        set: function (val) {\n            _this.options.chain = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionPollingTimeout', {\n        get: function () {\n            if (_this.options.transactionPollingTimeout === 0) {\n                return _this.options.transactionPollingTimeout;\n            }\n            return _this.options.transactionPollingTimeout || this.constructor.transactionPollingTimeout;\n        },\n        set: function (val) {\n            _this.options.transactionPollingTimeout = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionPollingInterval', {\n        get: function () {\n            if (_this.options.transactionPollingInterval === 0) {\n                return _this.options.transactionPollingInterval;\n            }\n            return _this.options.transactionPollingInterval || this.constructor.transactionPollingInterval;\n        },\n        set: function (val) {\n            _this.options.transactionPollingInterval = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionConfirmationBlocks', {\n        get: function () {\n            if (_this.options.transactionConfirmationBlocks === 0) {\n                return _this.options.transactionConfirmationBlocks;\n            }\n            return _this.options.transactionConfirmationBlocks || this.constructor.transactionConfirmationBlocks;\n        },\n        set: function (val) {\n            _this.options.transactionConfirmationBlocks = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'transactionBlockTimeout', {\n        get: function () {\n            if (_this.options.transactionBlockTimeout === 0) {\n                return _this.options.transactionBlockTimeout;\n            }\n            return _this.options.transactionBlockTimeout || this.constructor.transactionBlockTimeout;\n        },\n        set: function (val) {\n            _this.options.transactionBlockTimeout = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'blockHeaderTimeout', {\n        get: function () {\n            if (_this.options.blockHeaderTimeout === 0) {\n                return _this.options.blockHeaderTimeout;\n            }\n            return _this.options.blockHeaderTimeout || this.constructor.blockHeaderTimeout;\n        },\n        set: function (val) {\n            _this.options.blockHeaderTimeout = val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultAccount', {\n        get: function () {\n            return defaultAccount;\n        },\n        set: function (val) {\n            if (val) {\n                defaultAccount = utils.toChecksumAddress(formatters.inputAddressFormatter(val));\n            }\n            return val;\n        },\n        enumerable: true\n    });\n    Object.defineProperty(this, 'defaultBlock', {\n        get: function () {\n            return defaultBlock;\n        },\n        set: function (val) {\n            defaultBlock = val;\n            return val;\n        },\n        enumerable: true\n    });\n    // properties\n    this.methods = {};\n    this.events = {};\n    this._address = null;\n    this._jsonInterface = [];\n    // set getter/setter properties\n    this.options.address = address;\n    this.options.jsonInterface = jsonInterface;\n};\n/**\n * Sets the new provider, creates a new requestManager, registers the \"data\" listener on the provider and sets the\n * accounts module for the Contract class.\n *\n * @method setProvider\n *\n * @param {string|provider} provider\n * @param {Accounts} accounts\n *\n * @returns void\n */\nContract.setProvider = function (provider, accounts) {\n    // Contract.currentProvider = provider;\n    core.packageInit(this, [provider]);\n    this._ethAccounts = accounts;\n};\n/**\n * Get the callback and modify the array if necessary\n *\n * @method _getCallback\n * @param {Array} args\n * @return {Function} the callback\n */\nContract.prototype._getCallback = function getCallback(args) {\n    if (args && !!args[args.length - 1] && typeof args[args.length - 1] === 'function') {\n        return args.pop(); // modify the args array!\n    }\n};\n/**\n * Checks that no listener with name \"newListener\" or \"removeListener\" is added.\n *\n * @method _checkListener\n * @param {String} type\n * @param {String} event\n * @return {Object} the contract instance\n */\nContract.prototype._checkListener = function (type, event) {\n    if (event === type) {\n        throw errors.ContractReservedEventError(type);\n    }\n};\n/**\n * Use default values, if options are not available\n *\n * @method _getOrSetDefaultOptions\n * @param {Object} options the options gived by the user\n * @return {Object} the options with gaps filled by defaults\n */\nContract.prototype._getOrSetDefaultOptions = function getOrSetDefaultOptions(options) {\n    var gasPrice = options.gasPrice ? String(options.gasPrice) : null;\n    var from = options.from ? utils.toChecksumAddress(formatters.inputAddressFormatter(options.from)) : null;\n    options.data = options.data || this.options.data;\n    options.from = from || this.options.from;\n    options.gasPrice = gasPrice || this.options.gasPrice;\n    options.gas = options.gas || options.gasLimit || this.options.gas;\n    // TODO replace with only gasLimit?\n    delete options.gasLimit;\n    return options;\n};\n/**\n * Should be used to encode indexed params and options to one final object\n *\n * @method _encodeEventABI\n * @param {Object} event\n * @param {Object} options\n * @return {Object} everything combined together and encoded\n */\nContract.prototype._encodeEventABI = function (event, options) {\n    options = options || {};\n    var filter = options.filter || {}, result = {};\n    ['fromBlock', 'toBlock'].filter(function (f) {\n        return options[f] !== undefined;\n    }).forEach(function (f) {\n        result[f] = formatters.inputBlockNumberFormatter(options[f]);\n    });\n    // use given topics\n    if (Array.isArray(options.topics)) {\n        result.topics = options.topics;\n        // create topics based on filter\n    }\n    else {\n        result.topics = [];\n        // add event signature\n        if (event && !event.anonymous && event.name !== 'ALLEVENTS') {\n            result.topics.push(event.signature);\n        }\n        // add event topics (indexed arguments)\n        if (event.name !== 'ALLEVENTS') {\n            var indexedTopics = event.inputs.filter(function (i) {\n                return i.indexed === true;\n            }).map(function (i) {\n                var value = filter[i.name];\n                if (!value) {\n                    return null;\n                }\n                // TODO: https://github.com/ethereum/web3.js/issues/344\n                // TODO: deal properly with components\n                if (Array.isArray(value)) {\n                    return value.map(function (v) {\n                        return abi.encodeParameter(i.type, v);\n                    });\n                }\n                return abi.encodeParameter(i.type, value);\n            });\n            result.topics = result.topics.concat(indexedTopics);\n        }\n        if (!result.topics.length)\n            delete result.topics;\n    }\n    if (this.options.address) {\n        result.address = this.options.address.toLowerCase();\n    }\n    return result;\n};\n/**\n * Should be used to decode indexed params and options\n *\n * @method _decodeEventABI\n * @param {Object} data\n * @return {Object} result object with decoded indexed && not indexed params\n */\nContract.prototype._decodeEventABI = function (data) {\n    var event = this;\n    data.data = data.data || '';\n    data.topics = data.topics || [];\n    var result = formatters.outputLogFormatter(data);\n    // if allEvents get the right event\n    if (event.name === 'ALLEVENTS') {\n        event = event.jsonInterface.find(function (intf) {\n            return (intf.signature === data.topics[0]);\n        }) || { anonymous: true };\n    }\n    // create empty inputs if none are present (e.g. anonymous events on allEvents)\n    event.inputs = event.inputs || [];\n    // Handle case where an event signature shadows the current ABI with non-identical\n    // arg indexing. If # of topics doesn't match, event is anon.\n    if (!event.anonymous) {\n        let indexedInputs = 0;\n        event.inputs.forEach(input => input.indexed ? indexedInputs++ : null);\n        if (indexedInputs > 0 && (data.topics.length !== indexedInputs + 1)) {\n            event = {\n                anonymous: true,\n                inputs: []\n            };\n        }\n    }\n    var argTopics = event.anonymous ? data.topics : data.topics.slice(1);\n    result.returnValues = abi.decodeLog(event.inputs, data.data, argTopics);\n    delete result.returnValues.__length__;\n    // add name\n    result.event = event.name;\n    // add signature\n    result.signature = (event.anonymous || !data.topics[0]) ? null : data.topics[0];\n    // move the data and topics to \"raw\"\n    result.raw = {\n        data: result.data,\n        topics: result.topics\n    };\n    delete result.data;\n    delete result.topics;\n    return result;\n};\n/**\n * Encodes an ABI for a method, including signature or the method.\n * Or when constructor encodes only the constructor parameters.\n *\n * @method _encodeMethodABI\n * @param {Mixed} args the arguments to encode\n * @param {String} the encoded ABI\n */\nContract.prototype._encodeMethodABI = function _encodeMethodABI() {\n    var methodSignature = this._method.signature, args = this.arguments || [];\n    var signature = false, paramsABI = this._parent.options.jsonInterface.filter(function (json) {\n        return ((methodSignature === 'constructor' && json.type === methodSignature) ||\n            ((json.signature === methodSignature || json.signature === methodSignature.replace('0x', '') || json.name === methodSignature) && json.type === 'function'));\n    }).map(function (json) {\n        var inputLength = (Array.isArray(json.inputs)) ? json.inputs.length : 0;\n        if (inputLength !== args.length) {\n            throw new Error('The number of arguments is not matching the methods required number. You need to pass ' + inputLength + ' arguments.');\n        }\n        if (json.type === 'function') {\n            signature = json.signature;\n        }\n        return Array.isArray(json.inputs) ? json.inputs : [];\n    }).map(function (inputs) {\n        return abi.encodeParameters(inputs, args).replace('0x', '');\n    })[0] || '';\n    // return constructor\n    if (methodSignature === 'constructor') {\n        if (!this._deployData)\n            throw new Error('The contract has no contract data option set. This is necessary to append the constructor parameters.');\n        if (!this._deployData.startsWith('0x')) {\n            this._deployData = '0x' + this._deployData;\n        }\n        return this._deployData + paramsABI;\n    }\n    // return method\n    var returnValue = (signature) ? signature + paramsABI : paramsABI;\n    if (!returnValue) {\n        throw new Error('Couldn\\'t find a matching contract method named \"' + this._method.name + '\".');\n    }\n    return returnValue;\n};\n/**\n * Decode method return values\n *\n * @method _decodeMethodReturn\n * @param {Array} outputs\n * @param {String} returnValues\n * @return {Object} decoded output return values\n */\nContract.prototype._decodeMethodReturn = function (outputs, returnValues) {\n    if (!returnValues) {\n        return null;\n    }\n    returnValues = returnValues.length >= 2 ? returnValues.slice(2) : returnValues;\n    var result = abi.decodeParameters(outputs, returnValues);\n    if (result.__length__ === 1) {\n        return result[0];\n    }\n    delete result.__length__;\n    return result;\n};\n/**\n * Deploys a contract and fire events based on its state: transactionHash, receipt\n *\n * All event listeners will be removed, once the last possible event is fired (\"error\", or \"receipt\")\n *\n * @method deploy\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} EventEmitter possible events are \"error\", \"transactionHash\" and \"receipt\"\n */\nContract.prototype.deploy = function (options, callback) {\n    options = options || {};\n    options.arguments = options.arguments || [];\n    options = this._getOrSetDefaultOptions(options);\n    // throw error, if no \"data\" is specified\n    if (!options.data) {\n        if (typeof callback === 'function') {\n            return callback(errors.ContractMissingDeployDataError());\n        }\n        throw errors.ContractMissingDeployDataError();\n    }\n    var constructor = this.options.jsonInterface.find((method) => {\n        return (method.type === 'constructor');\n    }) || {};\n    constructor.signature = 'constructor';\n    return this._createTxObject.apply({\n        method: constructor,\n        parent: this,\n        deployData: options.data,\n        _ethAccounts: this.constructor._ethAccounts\n    }, options.arguments);\n};\n/**\n * Gets the event signature and outputFormatters\n *\n * @method _generateEventOptions\n * @param {Object} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the event options object\n */\nContract.prototype._generateEventOptions = function () {\n    var args = Array.prototype.slice.call(arguments);\n    // get the callback\n    var callback = this._getCallback(args);\n    // get the options\n    var options = (!!args[args.length - 1] && typeof args[args.length - 1]) === 'object' ? args.pop() : {};\n    var eventName = (typeof args[0] === 'string') ? args[0] : 'allevents';\n    var event = (eventName.toLowerCase() === 'allevents') ? {\n        name: 'ALLEVENTS',\n        jsonInterface: this.options.jsonInterface\n    } : this.options.jsonInterface.find(function (json) {\n        return (json.type === 'event' && (json.name === eventName || json.signature === '0x' + eventName.replace('0x', '')));\n    });\n    if (!event) {\n        throw errors.ContractEventDoesNotExistError(eventName);\n    }\n    if (!utils.isAddress(this.options.address)) {\n        throw errors.ContractNoAddressDefinedError();\n    }\n    return {\n        params: this._encodeEventABI(event, options),\n        event: event,\n        callback: callback\n    };\n};\n/**\n * Adds event listeners and creates a subscription, and remove it once its fired.\n *\n * @method clone\n * @return {Object} the event subscription\n */\nContract.prototype.clone = function () {\n    return new this.constructor(this.options.jsonInterface, this.options.address, this.options);\n};\n/**\n * Adds event listeners and creates a subscription, and remove it once its fired.\n *\n * @method once\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the event subscription\n */\nContract.prototype.once = function (event, options, callback) {\n    var args = Array.prototype.slice.call(arguments);\n    // get the callback\n    callback = this._getCallback(args);\n    if (!callback) {\n        throw errors.ContractOnceRequiresCallbackError();\n    }\n    // don't allow fromBlock\n    if (options)\n        delete options.fromBlock;\n    // don't return as once shouldn't provide \"on\"\n    this._on(event, options, function (err, res, sub) {\n        sub.unsubscribe();\n        if (typeof callback === 'function') {\n            callback(err, res, sub);\n        }\n    });\n    return undefined;\n};\n/**\n * Adds event listeners and creates a subscription.\n *\n * @method _on\n *\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n *\n * @return {Object} the event subscription\n */\nContract.prototype._on = function () {\n    var subOptions = this._generateEventOptions.apply(this, arguments);\n    if (subOptions.params && subOptions.params.toBlock) {\n        delete subOptions.params.toBlock;\n        console.warn('Invalid option: toBlock. Use getPastEvents for specific range.');\n    }\n    // prevent the event \"newListener\" and \"removeListener\" from being overwritten\n    this._checkListener('newListener', subOptions.event.name);\n    this._checkListener('removeListener', subOptions.event.name);\n    // TODO check if listener already exists? and reuse subscription if options are the same.\n    // create new subscription\n    var subscription = new Subscription({\n        subscription: {\n            params: 1,\n            inputFormatter: [formatters.inputLogFormatter],\n            outputFormatter: this._decodeEventABI.bind(subOptions.event),\n            // DUBLICATE, also in web3-eth\n            subscriptionHandler: function (output) {\n                if (output.removed) {\n                    this.emit('changed', output);\n                }\n                else {\n                    this.emit('data', output);\n                }\n                if (typeof this.callback === 'function') {\n                    this.callback(null, output, this);\n                }\n            }\n        },\n        type: 'eth',\n        requestManager: this._requestManager\n    });\n    subscription.subscribe('logs', subOptions.params, subOptions.callback || function () { });\n    return subscription;\n};\n/**\n * Get past events from contracts\n *\n * @method getPastEvents\n * @param {String} event\n * @param {Object} options\n * @param {Function} callback\n * @return {Object} the promievent\n */\nContract.prototype.getPastEvents = function () {\n    var subOptions = this._generateEventOptions.apply(this, arguments);\n    var getPastLogs = new Method({\n        name: 'getPastLogs',\n        call: 'eth_getLogs',\n        params: 1,\n        inputFormatter: [formatters.inputLogFormatter],\n        outputFormatter: this._decodeEventABI.bind(subOptions.event)\n    });\n    getPastLogs.setRequestManager(this._requestManager);\n    var call = getPastLogs.buildCall();\n    getPastLogs = null;\n    return call(subOptions.params, subOptions.callback);\n};\n/**\n * returns the an object with call, send, estimate functions\n *\n * @method _createTxObject\n * @returns {Object} an object with functions to call the methods\n */\nContract.prototype._createTxObject = function _createTxObject() {\n    var args = Array.prototype.slice.call(arguments);\n    var txObject = {};\n    if (this.method.type === 'function') {\n        txObject.call = this.parent._executeMethod.bind(txObject, 'call');\n        txObject.call.request = this.parent._executeMethod.bind(txObject, 'call', true); // to make batch requests\n    }\n    txObject.send = this.parent._executeMethod.bind(txObject, 'send');\n    txObject.send.request = this.parent._executeMethod.bind(txObject, 'send', true); // to make batch requests\n    txObject.encodeABI = this.parent._encodeMethodABI.bind(txObject);\n    txObject.estimateGas = this.parent._executeMethod.bind(txObject, 'estimate');\n    txObject.createAccessList = this.parent._executeMethod.bind(txObject, 'createAccessList');\n    if (args && this.method.inputs && args.length !== this.method.inputs.length) {\n        if (this.nextMethod) {\n            return this.nextMethod.apply(null, args);\n        }\n        throw errors.InvalidNumberOfParams(args.length, this.method.inputs.length, this.method.name);\n    }\n    txObject.arguments = args || [];\n    txObject._method = this.method;\n    txObject._parent = this.parent;\n    txObject._ethAccounts = this.parent.constructor._ethAccounts || this._ethAccounts;\n    if (this.deployData) {\n        txObject._deployData = this.deployData;\n    }\n    return txObject;\n};\n/**\n * Generates the options for the execute call\n *\n * @method _processExecuteArguments\n * @param {Array} args\n * @param {Promise} defer\n */\nContract.prototype._processExecuteArguments = function _processExecuteArguments(args, defer) {\n    var processedArgs = {};\n    processedArgs.type = args.shift();\n    // get the callback\n    processedArgs.callback = this._parent._getCallback(args);\n    // get block number to use for call\n    if (processedArgs.type === 'call' && args[args.length - 1] !== true && (typeof args[args.length - 1] === 'string' || isFinite(args[args.length - 1])))\n        processedArgs.defaultBlock = args.pop();\n    // get the options\n    processedArgs.options = (!!args[args.length - 1] && typeof args[args.length - 1]) === 'object' ? args.pop() : {};\n    // get the generateRequest argument for batch requests\n    processedArgs.generateRequest = (args[args.length - 1] === true) ? args.pop() : false;\n    processedArgs.options = this._parent._getOrSetDefaultOptions(processedArgs.options);\n    processedArgs.options.data = this.encodeABI();\n    // add contract address\n    if (!this._deployData && !utils.isAddress(this._parent.options.address))\n        throw errors.ContractNoAddressDefinedError();\n    if (!this._deployData)\n        processedArgs.options.to = this._parent.options.address;\n    // return error, if no \"data\" is specified\n    if (!processedArgs.options.data)\n        return utils._fireError(new Error('Couldn\\'t find a matching contract method, or the number of parameters is wrong.'), defer.eventEmitter, defer.reject, processedArgs.callback);\n    return processedArgs;\n};\n/**\n * Executes a call, transact or estimateGas on a contract function\n *\n * @method _executeMethod\n * @param {String} type the type this execute function should execute\n * @param {Boolean} makeRequest if true, it simply returns the request parameters, rather than executing it\n */\nContract.prototype._executeMethod = function _executeMethod() {\n    var _this = this, args = this._parent._processExecuteArguments.call(this, Array.prototype.slice.call(arguments), defer), defer = promiEvent((args.type !== 'send')), ethAccounts = _this.constructor._ethAccounts || _this._ethAccounts;\n    // simple return request for batch requests\n    if (args.generateRequest) {\n        var payload = {\n            params: [formatters.inputCallFormatter.call(this._parent, args.options)],\n            callback: args.callback\n        };\n        if (args.type === 'call') {\n            payload.params.push(formatters.inputDefaultBlockNumberFormatter.call(this._parent, args.defaultBlock));\n            payload.method = 'eth_call';\n            payload.format = this._parent._decodeMethodReturn.bind(null, this._method.outputs);\n        }\n        else {\n            payload.method = 'eth_sendTransaction';\n        }\n        return payload;\n    }\n    switch (args.type) {\n        case 'createAccessList':\n            // return error, if no \"from\" is specified\n            if (!utils.isAddress(args.options.from)) {\n                return utils._fireError(errors.ContractNoFromAddressDefinedError(), defer.eventEmitter, defer.reject, args.callback);\n            }\n            var createAccessList = (new Method({\n                name: 'createAccessList',\n                call: 'eth_createAccessList',\n                params: 2,\n                inputFormatter: [formatters.inputTransactionFormatter, formatters.inputDefaultBlockNumberFormatter],\n                requestManager: _this._parent._requestManager,\n                accounts: ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock\n            })).createFunction();\n            return createAccessList(args.options, args.callback);\n        case 'estimate':\n            var estimateGas = (new Method({\n                name: 'estimateGas',\n                call: 'eth_estimateGas',\n                params: 1,\n                inputFormatter: [formatters.inputCallFormatter],\n                outputFormatter: utils.hexToNumber,\n                requestManager: _this._parent._requestManager,\n                accounts: ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock\n            })).createFunction();\n            return estimateGas(args.options, args.callback);\n        case 'call':\n            // TODO check errors: missing \"from\" should give error on deploy and send, call ?\n            var call = (new Method({\n                name: 'call',\n                call: 'eth_call',\n                params: 2,\n                inputFormatter: [formatters.inputCallFormatter, formatters.inputDefaultBlockNumberFormatter],\n                // add output formatter for decoding\n                outputFormatter: function (result) {\n                    return _this._parent._decodeMethodReturn(_this._method.outputs, result);\n                },\n                requestManager: _this._parent._requestManager,\n                accounts: ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock,\n                handleRevert: _this._parent.handleRevert,\n                abiCoder: abi\n            })).createFunction();\n            return call(args.options, args.defaultBlock, args.callback);\n        case 'send':\n            // return error, if no \"from\" is specified\n            if (!utils.isAddress(args.options.from)) {\n                return utils._fireError(errors.ContractNoFromAddressDefinedError(), defer.eventEmitter, defer.reject, args.callback);\n            }\n            if (typeof this._method.payable === 'boolean' && !this._method.payable && args.options.value && args.options.value > 0) {\n                return utils._fireError(new Error('Can not send value to non-payable contract method or constructor'), defer.eventEmitter, defer.reject, args.callback);\n            }\n            // make sure receipt logs are decoded\n            var extraFormatters = {\n                receiptFormatter: function (receipt) {\n                    if (Array.isArray(receipt.logs)) {\n                        // decode logs\n                        var events = receipt.logs.map((log) => {\n                            return _this._parent._decodeEventABI.call({\n                                name: 'ALLEVENTS',\n                                jsonInterface: _this._parent.options.jsonInterface\n                            }, log);\n                        });\n                        // make log names keys\n                        receipt.events = {};\n                        var count = 0;\n                        events.forEach(function (ev) {\n                            if (ev.event) {\n                                // if > 1 of the same event, don't overwrite any existing events\n                                if (receipt.events[ev.event]) {\n                                    if (Array.isArray(receipt.events[ev.event])) {\n                                        receipt.events[ev.event].push(ev);\n                                    }\n                                    else {\n                                        receipt.events[ev.event] = [receipt.events[ev.event], ev];\n                                    }\n                                }\n                                else {\n                                    receipt.events[ev.event] = ev;\n                                }\n                            }\n                            else {\n                                receipt.events[count] = ev;\n                                count++;\n                            }\n                        });\n                        delete receipt.logs;\n                    }\n                    return receipt;\n                },\n                contractDeployFormatter: function (receipt) {\n                    var newContract = _this._parent.clone();\n                    newContract.options.address = receipt.contractAddress;\n                    return newContract;\n                }\n            };\n            var sendTransaction = (new Method({\n                name: 'sendTransaction',\n                call: 'eth_sendTransaction',\n                params: 1,\n                inputFormatter: [formatters.inputTransactionFormatter],\n                requestManager: _this._parent._requestManager,\n                accounts: _this.constructor._ethAccounts || _this._ethAccounts,\n                defaultAccount: _this._parent.defaultAccount,\n                defaultBlock: _this._parent.defaultBlock,\n                transactionBlockTimeout: _this._parent.transactionBlockTimeout,\n                transactionConfirmationBlocks: _this._parent.transactionConfirmationBlocks,\n                transactionPollingTimeout: _this._parent.transactionPollingTimeout,\n                transactionPollingInterval: _this._parent.transactionPollingInterval,\n                defaultCommon: _this._parent.defaultCommon,\n                defaultChain: _this._parent.defaultChain,\n                defaultHardfork: _this._parent.defaultHardfork,\n                handleRevert: _this._parent.handleRevert,\n                extraFormatters: extraFormatters,\n                abiCoder: abi\n            })).createFunction();\n            return sendTransaction(args.options, args.callback);\n        default:\n            throw new Error('Method \"' + args.type + '\" not implemented.');\n    }\n};\nmodule.exports = Contract;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\nconst requestManager = require(\"web3-core-requestmanager\");\nconst extend = require(\"./extend\");\nconst packageInit = (pkg, args) => {\n    args = Array.prototype.slice.call(args);\n    if (!pkg) {\n        throw new Error('You need to instantiate using the \"new\" keyword.');\n    }\n    // make property of pkg._provider, which can properly set providers\n    Object.defineProperty(pkg, 'currentProvider', {\n        get: () => {\n            return pkg._provider;\n        },\n        set: (value) => {\n            return pkg.setProvider(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // inherit from parent package or create a new RequestManager\n    if (args[0] && args[0]._requestManager) {\n        pkg._requestManager = args[0]._requestManager;\n    }\n    else {\n        pkg._requestManager = new requestManager.Manager(args[0], args[1]);\n    }\n    // add givenProvider\n    pkg.givenProvider = requestManager.Manager.givenProvider;\n    pkg.providers = requestManager.Manager.providers;\n    pkg._provider = pkg._requestManager.provider;\n    // add SETPROVIDER function (don't overwrite if already existing)\n    if (!pkg.setProvider) {\n        pkg.setProvider = (provider, net) => {\n            pkg._requestManager.setProvider(provider, net);\n            pkg._provider = pkg._requestManager.provider;\n            return true;\n        };\n    }\n    pkg.setRequestManager = (manager) => {\n        pkg._requestManager = manager;\n        pkg._provider = manager.provider;\n    };\n    // attach batch request creation\n    pkg.BatchRequest = requestManager.BatchManager.bind(null, pkg._requestManager);\n    // attach extend function\n    pkg.extend = extend(pkg);\n};\nconst addProviders = (pkg) => {\n    pkg.givenProvider = requestManager.Manager.givenProvider;\n    pkg.providers = requestManager.Manager.providers;\n};\nmodule.exports = {\n    packageInit,\n    addProviders\n};\n","/*\n    This file is part of web3.js.\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file index.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nconst { callbackify } = require('util');\nvar errors = require('web3-core-helpers').errors;\nvar Jsonrpc = require('./jsonrpc.js');\nvar BatchManager = require('./batch.js');\nvar givenProvider = require('./givenProvider.js');\n/**\n * It's responsible for passing messages to providers\n * It's also responsible for polling the ethereum node for incoming messages\n * Default poll timeout is 1 second\n * Singleton\n *\n * @param {string|Object}provider\n * @param {Net.Socket} net\n *\n * @constructor\n */\nvar RequestManager = function RequestManager(provider, net) {\n    this.provider = null;\n    this.providers = RequestManager.providers;\n    this.setProvider(provider, net);\n    this.subscriptions = new Map();\n};\nRequestManager.givenProvider = givenProvider;\nRequestManager.providers = {\n    WebsocketProvider: require('web3-providers-ws'),\n    HttpProvider: require('web3-providers-http'),\n    IpcProvider: require('web3-providers-ipc')\n};\n/**\n * Should be used to set provider of request manager\n *\n * @method setProvider\n *\n * @param {Object} provider\n * @param {net.Socket} net\n *\n * @returns void\n */\nRequestManager.prototype.setProvider = function (provider, net) {\n    var _this = this;\n    // autodetect provider\n    if (provider && typeof provider === 'string' && this.providers) {\n        // HTTP\n        if (/^http(s)?:\\/\\//i.test(provider)) {\n            provider = new this.providers.HttpProvider(provider);\n            // WS\n        }\n        else if (/^ws(s)?:\\/\\//i.test(provider)) {\n            provider = new this.providers.WebsocketProvider(provider);\n            // IPC\n        }\n        else if (provider && typeof net === 'object' && typeof net.connect === 'function') {\n            provider = new this.providers.IpcProvider(provider, net);\n        }\n        else if (provider) {\n            throw new Error('Can\\'t autodetect provider for \"' + provider + '\"');\n        }\n    }\n    // reset the old one before changing, if still connected\n    if (this.provider && this.provider.connected)\n        this.clearSubscriptions();\n    this.provider = provider || null;\n    // listen to incoming notifications\n    if (this.provider && this.provider.on) {\n        if (typeof provider.request === 'function') { // EIP-1193 provider\n            this.provider.on('message', function (payload) {\n                if (payload && payload.type === 'eth_subscription' && payload.data) {\n                    const data = payload.data;\n                    if (data.subscription && _this.subscriptions.has(data.subscription)) {\n                        _this.subscriptions.get(data.subscription).callback(null, data.result);\n                    }\n                }\n            });\n        }\n        else { // legacy provider subscription event\n            this.provider.on('data', function data(result, deprecatedResult) {\n                result = result || deprecatedResult; // this is for possible old providers, which may had the error first handler\n                // if result is a subscription, call callback for that subscription\n                if (result.method && result.params && result.params.subscription && _this.subscriptions.has(result.params.subscription)) {\n                    _this.subscriptions.get(result.params.subscription).callback(null, result.params.result);\n                }\n            });\n        }\n        // resubscribe if the provider has reconnected\n        this.provider.on('connect', function connect() {\n            _this.subscriptions.forEach(function (subscription) {\n                subscription.subscription.resubscribe();\n            });\n        });\n        // notify all subscriptions about the error condition\n        this.provider.on('error', function error(error) {\n            _this.subscriptions.forEach(function (subscription) {\n                subscription.callback(error);\n            });\n        });\n        // notify all subscriptions about bad close conditions\n        const disconnect = function disconnect(event) {\n            if (!_this._isCleanCloseEvent(event) || _this._isIpcCloseError(event)) {\n                _this.subscriptions.forEach(function (subscription) {\n                    subscription.callback(errors.ConnectionCloseError(event));\n                    _this.subscriptions.delete(subscription.subscription.id);\n                });\n                if (_this.provider && _this.provider.emit) {\n                    _this.provider.emit('error', errors.ConnectionCloseError(event));\n                }\n            }\n            if (_this.provider && _this.provider.emit) {\n                _this.provider.emit('end', event);\n            }\n        };\n        this.provider.on('disconnect', disconnect);\n        // TODO add end, timeout??\n    }\n};\n/**\n * Asynchronously send request to provider.\n * Prefers to use the `request` method available on the provider as specified in [EIP-1193](https://eips.ethereum.org/EIPS/eip-1193).\n * If `request` is not available, falls back to `sendAsync` and `send` respectively.\n * @method send\n * @param {Object} data\n * @param {Function} callback\n */\nRequestManager.prototype.send = function (data, callback) {\n    callback = callback || function () { };\n    if (!this.provider) {\n        return callback(errors.InvalidProvider());\n    }\n    const { method, params } = data;\n    const jsonrpcPayload = Jsonrpc.toPayload(method, params);\n    const jsonrpcResultCallback = this._jsonrpcResultCallback(callback, jsonrpcPayload);\n    if (this.provider.request) {\n        const callbackRequest = callbackify(this.provider.request.bind(this.provider));\n        const requestArgs = { method, params };\n        callbackRequest(requestArgs, callback);\n    }\n    else if (this.provider.sendAsync) {\n        this.provider.sendAsync(jsonrpcPayload, jsonrpcResultCallback);\n    }\n    else if (this.provider.send) {\n        this.provider.send(jsonrpcPayload, jsonrpcResultCallback);\n    }\n    else {\n        throw new Error('Provider does not have a request or send method to use.');\n    }\n};\n/**\n * Asynchronously send batch request.\n * Only works if provider supports batch methods through `sendAsync` or `send`.\n * @method sendBatch\n * @param {Array} data - array of payload objects\n * @param {Function} callback\n */\nRequestManager.prototype.sendBatch = function (data, callback) {\n    if (!this.provider) {\n        return callback(errors.InvalidProvider());\n    }\n    var payload = Jsonrpc.toBatchPayload(data);\n    this.provider[this.provider.sendAsync ? 'sendAsync' : 'send'](payload, function (err, results) {\n        if (err) {\n            return callback(err);\n        }\n        if (!Array.isArray(results)) {\n            return callback(errors.InvalidResponse(results));\n        }\n        callback(null, results);\n    });\n};\n/**\n * Waits for notifications\n *\n * @method addSubscription\n * @param {Subscription} subscription         the subscription\n * @param {String} type         the subscription namespace (eth, personal, etc)\n * @param {Function} callback   the callback to call for incoming notifications\n */\nRequestManager.prototype.addSubscription = function (subscription, callback) {\n    if (this.provider.on) {\n        this.subscriptions.set(subscription.id, {\n            callback: callback,\n            subscription: subscription\n        });\n    }\n    else {\n        throw new Error('The provider doesn\\'t support subscriptions: ' + this.provider.constructor.name);\n    }\n};\n/**\n * Waits for notifications\n *\n * @method removeSubscription\n * @param {String} id           the subscription id\n * @param {Function} callback   fired once the subscription is removed\n */\nRequestManager.prototype.removeSubscription = function (id, callback) {\n    if (this.subscriptions.has(id)) {\n        var type = this.subscriptions.get(id).subscription.options.type;\n        // remove subscription first to avoid reentry\n        this.subscriptions.delete(id);\n        // then, try to actually unsubscribe\n        this.send({\n            method: type + '_unsubscribe',\n            params: [id]\n        }, callback);\n        return;\n    }\n    if (typeof callback === 'function') {\n        // call the callback if the subscription was already removed\n        callback(null);\n    }\n};\n/**\n * Should be called to reset the subscriptions\n *\n * @method reset\n *\n * @returns {boolean}\n */\nRequestManager.prototype.clearSubscriptions = function (keepIsSyncing) {\n    try {\n        var _this = this;\n        // uninstall all subscriptions\n        if (this.subscriptions.size > 0) {\n            this.subscriptions.forEach(function (value, id) {\n                if (!keepIsSyncing || value.name !== 'syncing')\n                    _this.removeSubscription(id);\n            });\n        }\n        //  reset notification callbacks etc.\n        if (this.provider.reset)\n            this.provider.reset();\n        return true;\n    }\n    catch (e) {\n        throw new Error(`Error while clearing subscriptions: ${e}`);\n    }\n};\n/**\n * Evaluates WS close event\n *\n * @method _isCleanClose\n *\n * @param {CloseEvent | boolean} event WS close event or exception flag\n *\n * @returns {boolean}\n */\nRequestManager.prototype._isCleanCloseEvent = function (event) {\n    return typeof event === 'object' && ([1000].includes(event.code) || event.wasClean === true);\n};\n/**\n * Detects Ipc close error. The node.net module emits ('close', isException)\n *\n * @method _isIpcCloseError\n *\n * @param {CloseEvent | boolean} event WS close event or exception flag\n *\n * @returns {boolean}\n */\nRequestManager.prototype._isIpcCloseError = function (event) {\n    return typeof event === 'boolean' && event;\n};\n/**\n * The jsonrpc result callback for RequestManager.send\n *\n * @method _jsonrpcResultCallback\n *\n * @param {Function} callback the callback to use\n * @param {Object} payload the jsonrpc payload\n *\n * @returns {Function} return callback of form (err, result)\n *\n */\nRequestManager.prototype._jsonrpcResultCallback = function (callback, payload) {\n    return function (err, result) {\n        if (result && result.id && payload.id !== result.id) {\n            return callback(new Error(`Wrong response id ${result.id} (expected: ${payload.id}) in ${JSON.stringify(payload)}`));\n        }\n        if (err) {\n            return callback(err);\n        }\n        if (result && result.error) {\n            return callback(errors.ErrorResponse(result));\n        }\n        if (!Jsonrpc.isValidResponse(result)) {\n            return callback(errors.InvalidResponse(result));\n        }\n        callback(null, result.result);\n    };\n};\nmodule.exports = {\n    Manager: RequestManager,\n    BatchManager: BatchManager\n};\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file errors.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @author Marek Kotewicz <marek@parity.io>\n * @date 2017\n */\n\"use strict\";\nmodule.exports = {\n    ErrorResponse: function (result) {\n        var message = !!result && !!result.error && !!result.error.message ? result.error.message : JSON.stringify(result);\n        var data = (!!result.error && !!result.error.data) ? result.error.data : null;\n        var err = new Error('Returned error: ' + message);\n        err.data = data;\n        return err;\n    },\n    InvalidNumberOfParams: function (got, expected, method) {\n        return new Error('Invalid number of parameters for \"' + method + '\". Got ' + got + ' expected ' + expected + '!');\n    },\n    InvalidConnection: function (host, event) {\n        return this.ConnectionError('CONNECTION ERROR: Couldn\\'t connect to node ' + host + '.', event);\n    },\n    InvalidProvider: function () {\n        return new Error('Provider not set or invalid');\n    },\n    InvalidResponse: function (result) {\n        var message = !!result && !!result.error && !!result.error.message ? result.error.message : 'Invalid JSON RPC response: ' + JSON.stringify(result);\n        return new Error(message);\n    },\n    ConnectionTimeout: function (ms) {\n        return new Error('CONNECTION TIMEOUT: timeout of ' + ms + ' ms achived');\n    },\n    ConnectionNotOpenError: function (event) {\n        return this.ConnectionError('connection not open on send()', event);\n    },\n    ConnectionCloseError: function (event) {\n        if (typeof event === 'object' && event.code && event.reason) {\n            return this.ConnectionError('CONNECTION ERROR: The connection got closed with ' +\n                'the close code `' + event.code + '` and the following ' +\n                'reason string `' + event.reason + '`', event);\n        }\n        return new Error('CONNECTION ERROR: The connection closed unexpectedly');\n    },\n    MaxAttemptsReachedOnReconnectingError: function () {\n        return new Error('Maximum number of reconnect attempts reached!');\n    },\n    PendingRequestsOnReconnectingError: function () {\n        return new Error('CONNECTION ERROR: Provider started to reconnect before the response got received!');\n    },\n    ConnectionError: function (msg, event) {\n        const error = new Error(msg);\n        if (event) {\n            error.code = event.code;\n            error.reason = event.reason;\n        }\n        return error;\n    },\n    RevertInstructionError: function (reason, signature) {\n        var error = new Error('Your request got reverted with the following reason string: ' + reason);\n        error.reason = reason;\n        error.signature = signature;\n        return error;\n    },\n    TransactionRevertInstructionError: function (reason, signature, receipt) {\n        var error = new Error('Transaction has been reverted by the EVM:\\n' + JSON.stringify(receipt, null, 2));\n        error.reason = reason;\n        error.signature = signature;\n        error.receipt = receipt;\n        return error;\n    },\n    TransactionError: function (message, receipt) {\n        var error = new Error(message);\n        error.receipt = receipt;\n        return error;\n    },\n    NoContractAddressFoundError: function (receipt) {\n        return this.TransactionError('The transaction receipt didn\\'t contain a contract address.', receipt);\n    },\n    ContractCodeNotStoredError: function (receipt) {\n        return this.TransactionError('The contract code couldn\\'t be stored, please check your gas limit.', receipt);\n    },\n    TransactionRevertedWithoutReasonError: function (receipt) {\n        return this.TransactionError('Transaction has been reverted by the EVM:\\n' + JSON.stringify(receipt, null, 2), receipt);\n    },\n    TransactionOutOfGasError: function (receipt) {\n        return this.TransactionError('Transaction ran out of gas. Please provide more gas:\\n' + JSON.stringify(receipt, null, 2), receipt);\n    },\n    ResolverMethodMissingError: function (address, name) {\n        return new Error('The resolver at ' + address + 'does not implement requested method: \"' + name + '\".');\n    },\n    ContractMissingABIError: function () {\n        return new Error('You must provide the json interface of the contract when instantiating a contract object.');\n    },\n    ContractOnceRequiresCallbackError: function () {\n        return new Error('Once requires a callback as the second parameter.');\n    },\n    ContractEventDoesNotExistError: function (eventName) {\n        return new Error('Event \"' + eventName + '\" doesn\\'t exist in this contract.');\n    },\n    ContractReservedEventError: function (type) {\n        return new Error('The event \"' + type + '\" is a reserved event name, you can\\'t use it.');\n    },\n    ContractMissingDeployDataError: function () {\n        return new Error('No \"data\" specified in neither the given options, nor the default options.');\n    },\n    ContractNoAddressDefinedError: function () {\n        return new Error('This contract object doesn\\'t have address set yet, please set an address first.');\n    },\n    ContractNoFromAddressDefinedError: function () {\n        return new Error('No \"from\" address specified in neither the given options, nor the default options.');\n    }\n};\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file formatters.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @author Marek Kotewicz <marek@parity.io>\n * @date 2017\n */\n\"use strict\";\nvar utils = require('web3-utils');\nvar Iban = require('web3-eth-iban');\n/**\n * Will format the given storage key array values to hex strings.\n *\n * @method inputStorageKeysFormatter\n *\n * @param {Array<Number|String|BN|BigNumber>} keys\n *\n * @returns {Array<String>}\n */\nvar inputStorageKeysFormatter = function (keys) {\n    return keys.map(utils.numberToHex);\n};\n/**\n * Will format the given proof response from the node.\n *\n * @method outputProofFormatter\n *\n * @param {object} proof\n *\n * @returns {object}\n */\nvar outputProofFormatter = function (proof) {\n    proof.address = utils.toChecksumAddress(proof.address);\n    proof.nonce = utils.hexToNumberString(proof.nonce);\n    proof.balance = utils.hexToNumberString(proof.balance);\n    return proof;\n};\n/**\n * Should the format output to a big number\n *\n * @method outputBigNumberFormatter\n *\n * @param {String|Number|BigNumber|BN} number\n *\n * @returns {BN} object\n */\nvar outputBigNumberFormatter = function (number) {\n    return utils.toBN(number).toString(10);\n};\n/**\n * Returns true if the given blockNumber is 'latest', 'pending', or 'earliest.\n *\n * @method isPredefinedBlockNumber\n *\n * @param {String} blockNumber\n *\n * @returns {Boolean}\n */\nvar isPredefinedBlockNumber = function (blockNumber) {\n    return blockNumber === 'latest' || blockNumber === 'pending' || blockNumber === 'earliest';\n};\n/**\n * Returns the given block number as hex string or does return the defaultBlock property of the current module\n *\n * @method inputDefaultBlockNumberFormatter\n *\n * @param {String|Number|BN|BigNumber} blockNumber\n *\n * @returns {String}\n */\nvar inputDefaultBlockNumberFormatter = function (blockNumber) {\n    if (this && (blockNumber === undefined || blockNumber === null)) {\n        return inputBlockNumberFormatter(this.defaultBlock);\n    }\n    return inputBlockNumberFormatter(blockNumber);\n};\n/**\n * Returns the given block number as hex string or the predefined block number 'latest', 'pending', 'earliest', 'genesis'\n *\n * @param {String|Number|BN|BigNumber} blockNumber\n *\n * @returns {String}\n */\nvar inputBlockNumberFormatter = function (blockNumber) {\n    if (blockNumber === undefined) {\n        return undefined;\n    }\n    if (isPredefinedBlockNumber(blockNumber)) {\n        return blockNumber;\n    }\n    if (blockNumber === 'genesis') {\n        return '0x0';\n    }\n    return (utils.isHexStrict(blockNumber)) ? ((typeof blockNumber === 'string') ? blockNumber.toLowerCase() : blockNumber) : utils.numberToHex(blockNumber);\n};\n/**\n * Formats the input of a transaction and converts all values to HEX\n *\n * @method _txInputFormatter\n * @param {Object} transaction options\n * @returns object\n */\nvar _txInputFormatter = function (options) {\n    if (options.to) { // it might be contract creation\n        options.to = inputAddressFormatter(options.to);\n    }\n    if (options.data && options.input) {\n        throw new Error('You can\\'t have \"data\" and \"input\" as properties of transactions at the same time, please use either \"data\" or \"input\" instead.');\n    }\n    if (!options.data && options.input) {\n        options.data = options.input;\n        delete options.input;\n    }\n    if (options.data && !options.data.startsWith('0x')) {\n        options.data = '0x' + options.data;\n    }\n    if (options.data && !utils.isHex(options.data)) {\n        throw new Error('The data field must be HEX encoded data.');\n    }\n    // allow both\n    if (options.gas || options.gasLimit) {\n        options.gas = options.gas || options.gasLimit;\n    }\n    if (options.maxPriorityFeePerGas || options.maxFeePerGas) {\n        delete options.gasPrice;\n    }\n    ['gasPrice', 'gas', 'value', 'maxPriorityFeePerGas', 'maxFeePerGas', 'nonce'].filter(function (key) {\n        return options[key] !== undefined;\n    }).forEach(function (key) {\n        options[key] = utils.numberToHex(options[key]);\n    });\n    return options;\n};\n/**\n * Formats the input of a transaction and converts all values to HEX\n *\n * @method inputCallFormatter\n * @param {Object} transaction options\n * @returns object\n */\nvar inputCallFormatter = function (options) {\n    options = _txInputFormatter(options);\n    var from = options.from || (this ? this.defaultAccount : null);\n    if (from) {\n        options.from = inputAddressFormatter(from);\n    }\n    return options;\n};\n/**\n * Formats the input of a transaction and converts all values to HEX\n *\n * @method inputTransactionFormatter\n * @param {Object} options\n * @returns object\n */\nvar inputTransactionFormatter = function (options) {\n    options = _txInputFormatter(options);\n    // check from, only if not number, or object\n    if (!(typeof options.from === 'number') && !(!!options.from && typeof options.from === 'object')) {\n        options.from = options.from || (this ? this.defaultAccount : null);\n        if (!options.from && !(typeof options.from === 'number')) {\n            throw new Error('The send transactions \"from\" field must be defined!');\n        }\n        options.from = inputAddressFormatter(options.from);\n    }\n    return options;\n};\n/**\n * Hex encodes the data passed to eth_sign and personal_sign\n *\n * @method inputSignFormatter\n * @param {String} data\n * @returns {String}\n */\nvar inputSignFormatter = function (data) {\n    return (utils.isHexStrict(data)) ? data : utils.utf8ToHex(data);\n};\n/**\n * Formats the output of a transaction to its proper values\n *\n * @method outputTransactionFormatter\n * @param {Object} tx\n * @returns {Object}\n */\nvar outputTransactionFormatter = function (tx) {\n    if (tx.blockNumber !== null)\n        tx.blockNumber = utils.hexToNumber(tx.blockNumber);\n    if (tx.transactionIndex !== null)\n        tx.transactionIndex = utils.hexToNumber(tx.transactionIndex);\n    tx.nonce = utils.hexToNumber(tx.nonce);\n    tx.gas = utils.hexToNumber(tx.gas);\n    if (tx.gasPrice)\n        tx.gasPrice = outputBigNumberFormatter(tx.gasPrice);\n    if (tx.maxFeePerGas)\n        tx.maxFeePerGas = outputBigNumberFormatter(tx.maxFeePerGas);\n    if (tx.maxPriorityFeePerGas)\n        tx.maxPriorityFeePerGas = outputBigNumberFormatter(tx.maxPriorityFeePerGas);\n    if (tx.type)\n        tx.type = utils.hexToNumber(tx.type);\n    tx.value = outputBigNumberFormatter(tx.value);\n    if (tx.to && utils.isAddress(tx.to)) { // tx.to could be `0x0` or `null` while contract creation\n        tx.to = utils.toChecksumAddress(tx.to);\n    }\n    else {\n        tx.to = null; // set to `null` if invalid address\n    }\n    if (tx.from) {\n        tx.from = utils.toChecksumAddress(tx.from);\n    }\n    return tx;\n};\n/**\n * Formats the output of a transaction receipt to its proper values\n *\n * @method outputTransactionReceiptFormatter\n * @param {Object} receipt\n * @returns {Object}\n */\nvar outputTransactionReceiptFormatter = function (receipt) {\n    if (typeof receipt !== 'object') {\n        throw new Error('Received receipt is invalid: ' + receipt);\n    }\n    if (receipt.blockNumber !== null)\n        receipt.blockNumber = utils.hexToNumber(receipt.blockNumber);\n    if (receipt.transactionIndex !== null)\n        receipt.transactionIndex = utils.hexToNumber(receipt.transactionIndex);\n    receipt.cumulativeGasUsed = utils.hexToNumber(receipt.cumulativeGasUsed);\n    receipt.gasUsed = utils.hexToNumber(receipt.gasUsed);\n    if (Array.isArray(receipt.logs)) {\n        receipt.logs = receipt.logs.map(outputLogFormatter);\n    }\n    if (receipt.effectiveGasPrice) {\n        receipt.effectiveGasPrice = utils.hexToNumber(receipt.effectiveGasPrice);\n    }\n    if (receipt.contractAddress) {\n        receipt.contractAddress = utils.toChecksumAddress(receipt.contractAddress);\n    }\n    if (typeof receipt.status !== 'undefined' && receipt.status !== null) {\n        receipt.status = Boolean(parseInt(receipt.status));\n    }\n    return receipt;\n};\n/**\n * Formats the output of a block to its proper values\n *\n * @method outputBlockFormatter\n * @param {Object} block\n * @returns {Object}\n */\nvar outputBlockFormatter = function (block) {\n    // transform to number\n    block.gasLimit = utils.hexToNumber(block.gasLimit);\n    block.gasUsed = utils.hexToNumber(block.gasUsed);\n    block.size = utils.hexToNumber(block.size);\n    block.timestamp = utils.hexToNumber(block.timestamp);\n    if (block.number !== null)\n        block.number = utils.hexToNumber(block.number);\n    if (block.difficulty)\n        block.difficulty = outputBigNumberFormatter(block.difficulty);\n    if (block.totalDifficulty)\n        block.totalDifficulty = outputBigNumberFormatter(block.totalDifficulty);\n    if (Array.isArray(block.transactions)) {\n        block.transactions.forEach(function (item) {\n            if (!(typeof item === 'string'))\n                return outputTransactionFormatter(item);\n        });\n    }\n    if (block.miner)\n        block.miner = utils.toChecksumAddress(block.miner);\n    if (block.baseFeePerGas)\n        block.baseFeePerGas = utils.hexToNumber(block.baseFeePerGas);\n    return block;\n};\n/**\n * Formats the input of a log\n *\n * @method inputLogFormatter\n * @param {Object} log object\n * @returns {Object} log\n */\nvar inputLogFormatter = function (options) {\n    var toTopic = function (value) {\n        if (value === null || typeof value === 'undefined')\n            return null;\n        value = String(value);\n        if (value.indexOf('0x') === 0)\n            return value;\n        else\n            return utils.fromUtf8(value);\n    };\n    if (options === undefined)\n        options = {};\n    // If options !== undefined, don't blow out existing data\n    if (options.fromBlock === undefined)\n        options = { ...options, fromBlock: 'latest' };\n    if (options.fromBlock || options.fromBlock === 0)\n        options.fromBlock = inputBlockNumberFormatter(options.fromBlock);\n    if (options.toBlock || options.toBlock === 0)\n        options.toBlock = inputBlockNumberFormatter(options.toBlock);\n    // make sure topics, get converted to hex\n    options.topics = options.topics || [];\n    options.topics = options.topics.map(function (topic) {\n        return (Array.isArray(topic)) ? topic.map(toTopic) : toTopic(topic);\n    });\n    toTopic = null;\n    if (options.address) {\n        options.address = (Array.isArray(options.address)) ? options.address.map(function (addr) {\n            return inputAddressFormatter(addr);\n        }) : inputAddressFormatter(options.address);\n    }\n    return options;\n};\n/**\n * Formats the output of a log\n *\n * @method outputLogFormatter\n * @param {Object} log object\n * @returns {Object} log\n */\nvar outputLogFormatter = function (log) {\n    // generate a custom log id\n    if (typeof log.blockHash === 'string' &&\n        typeof log.transactionHash === 'string' &&\n        typeof log.logIndex === 'string') {\n        var shaId = utils.sha3(log.blockHash.replace('0x', '') + log.transactionHash.replace('0x', '') + log.logIndex.replace('0x', ''));\n        log.id = 'log_' + shaId.replace('0x', '').slice(0, 8);\n    }\n    else if (!log.id) {\n        log.id = null;\n    }\n    if (log.blockNumber !== null)\n        log.blockNumber = utils.hexToNumber(log.blockNumber);\n    if (log.transactionIndex !== null)\n        log.transactionIndex = utils.hexToNumber(log.transactionIndex);\n    if (log.logIndex !== null)\n        log.logIndex = utils.hexToNumber(log.logIndex);\n    if (log.address) {\n        log.address = utils.toChecksumAddress(log.address);\n    }\n    return log;\n};\n/**\n * Formats the input of a whisper post and converts all values to HEX\n *\n * @method inputPostFormatter\n * @param {Object} transaction object\n * @returns {Object}\n */\nvar inputPostFormatter = function (post) {\n    // post.payload = utils.toHex(post.payload);\n    if (post.ttl)\n        post.ttl = utils.numberToHex(post.ttl);\n    if (post.workToProve)\n        post.workToProve = utils.numberToHex(post.workToProve);\n    if (post.priority)\n        post.priority = utils.numberToHex(post.priority);\n    // fallback\n    if (!Array.isArray(post.topics)) {\n        post.topics = post.topics ? [post.topics] : [];\n    }\n    // format the following options\n    post.topics = post.topics.map(function (topic) {\n        // convert only if not hex\n        return (topic.indexOf('0x') === 0) ? topic : utils.fromUtf8(topic);\n    });\n    return post;\n};\n/**\n * Formats the output of a received post message\n *\n * @method outputPostFormatter\n * @param {Object}\n * @returns {Object}\n */\nvar outputPostFormatter = function (post) {\n    post.expiry = utils.hexToNumber(post.expiry);\n    post.sent = utils.hexToNumber(post.sent);\n    post.ttl = utils.hexToNumber(post.ttl);\n    post.workProved = utils.hexToNumber(post.workProved);\n    // post.payloadRaw = post.payload;\n    // post.payload = utils.hexToAscii(post.payload);\n    // if (utils.isJson(post.payload)) {\n    //     post.payload = JSON.parse(post.payload);\n    // }\n    // format the following options\n    if (!post.topics) {\n        post.topics = [];\n    }\n    post.topics = post.topics.map(function (topic) {\n        return utils.toUtf8(topic);\n    });\n    return post;\n};\nvar inputAddressFormatter = function (address) {\n    var iban = new Iban(address);\n    if (iban.isValid() && iban.isDirect()) {\n        return iban.toAddress().toLowerCase();\n    }\n    else if (utils.isAddress(address)) {\n        return '0x' + address.toLowerCase().replace('0x', '');\n    }\n    throw new Error(`Provided address ${address} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`);\n};\nvar outputSyncingFormatter = function (result) {\n    result.startingBlock = utils.hexToNumber(result.startingBlock);\n    result.currentBlock = utils.hexToNumber(result.currentBlock);\n    result.highestBlock = utils.hexToNumber(result.highestBlock);\n    if (result.knownStates) {\n        result.knownStates = utils.hexToNumber(result.knownStates);\n        result.pulledStates = utils.hexToNumber(result.pulledStates);\n    }\n    return result;\n};\nmodule.exports = {\n    inputDefaultBlockNumberFormatter: inputDefaultBlockNumberFormatter,\n    inputBlockNumberFormatter: inputBlockNumberFormatter,\n    inputCallFormatter: inputCallFormatter,\n    inputTransactionFormatter: inputTransactionFormatter,\n    inputAddressFormatter: inputAddressFormatter,\n    inputPostFormatter: inputPostFormatter,\n    inputLogFormatter: inputLogFormatter,\n    inputSignFormatter: inputSignFormatter,\n    inputStorageKeysFormatter: inputStorageKeysFormatter,\n    outputProofFormatter: outputProofFormatter,\n    outputBigNumberFormatter: outputBigNumberFormatter,\n    outputTransactionFormatter: outputTransactionFormatter,\n    outputTransactionReceiptFormatter: outputTransactionReceiptFormatter,\n    outputBlockFormatter: outputBlockFormatter,\n    outputLogFormatter: outputLogFormatter,\n    outputPostFormatter: outputPostFormatter,\n    outputSyncingFormatter: outputSyncingFormatter\n};\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file soliditySha3.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\nvar BN = require('bn.js');\nvar utils = require('./utils.js');\nvar _elementaryName = function (name) {\n    /*jshint maxcomplexity:false */\n    if (name.startsWith('int[')) {\n        return 'int256' + name.slice(3);\n    }\n    else if (name === 'int') {\n        return 'int256';\n    }\n    else if (name.startsWith('uint[')) {\n        return 'uint256' + name.slice(4);\n    }\n    else if (name === 'uint') {\n        return 'uint256';\n    }\n    else if (name.startsWith('fixed[')) {\n        return 'fixed128x128' + name.slice(5);\n    }\n    else if (name === 'fixed') {\n        return 'fixed128x128';\n    }\n    else if (name.startsWith('ufixed[')) {\n        return 'ufixed128x128' + name.slice(6);\n    }\n    else if (name === 'ufixed') {\n        return 'ufixed128x128';\n    }\n    return name;\n};\n// Parse N from type<N>\nvar _parseTypeN = function (type) {\n    var typesize = /^\\D+(\\d+).*$/.exec(type);\n    return typesize ? parseInt(typesize[1], 10) : null;\n};\n// Parse N from type[<N>]\nvar _parseTypeNArray = function (type) {\n    var arraySize = /^\\D+\\d*\\[(\\d+)\\]$/.exec(type);\n    return arraySize ? parseInt(arraySize[1], 10) : null;\n};\nvar _parseNumber = function (arg) {\n    var type = typeof arg;\n    if (type === 'string') {\n        if (utils.isHexStrict(arg)) {\n            return new BN(arg.replace(/0x/i, ''), 16);\n        }\n        else {\n            return new BN(arg, 10);\n        }\n    }\n    else if (type === 'number') {\n        return new BN(arg);\n    }\n    else if (utils.isBigNumber(arg)) {\n        return new BN(arg.toString(10));\n    }\n    else if (utils.isBN(arg)) {\n        return arg;\n    }\n    else {\n        throw new Error(arg + ' is not a number');\n    }\n};\nvar _solidityPack = function (type, value, arraySize) {\n    /*jshint maxcomplexity:false */\n    var size, num;\n    type = _elementaryName(type);\n    if (type === 'bytes') {\n        if (value.replace(/^0x/i, '').length % 2 !== 0) {\n            throw new Error('Invalid bytes characters ' + value.length);\n        }\n        return value;\n    }\n    else if (type === 'string') {\n        return utils.utf8ToHex(value);\n    }\n    else if (type === 'bool') {\n        return value ? '01' : '00';\n    }\n    else if (type.startsWith('address')) {\n        if (arraySize) {\n            size = 64;\n        }\n        else {\n            size = 40;\n        }\n        if (!utils.isAddress(value)) {\n            throw new Error(value + ' is not a valid address, or the checksum is invalid.');\n        }\n        return utils.leftPad(value.toLowerCase(), size);\n    }\n    size = _parseTypeN(type);\n    if (type.startsWith('bytes')) {\n        if (!size) {\n            throw new Error('bytes[] not yet supported in solidity');\n        }\n        // must be 32 byte slices when in an array\n        if (arraySize) {\n            size = 32;\n        }\n        if (size < 1 || size > 32 || size < value.replace(/^0x/i, '').length / 2) {\n            throw new Error('Invalid bytes' + size + ' for ' + value);\n        }\n        return utils.rightPad(value, size * 2);\n    }\n    else if (type.startsWith('uint')) {\n        if ((size % 8) || (size < 8) || (size > 256)) {\n            throw new Error('Invalid uint' + size + ' size');\n        }\n        num = _parseNumber(value);\n        if (num.bitLength() > size) {\n            throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength());\n        }\n        if (num.lt(new BN(0))) {\n            throw new Error('Supplied uint ' + num.toString() + ' is negative');\n        }\n        return size ? utils.leftPad(num.toString('hex'), size / 8 * 2) : num;\n    }\n    else if (type.startsWith('int')) {\n        if ((size % 8) || (size < 8) || (size > 256)) {\n            throw new Error('Invalid int' + size + ' size');\n        }\n        num = _parseNumber(value);\n        if (num.bitLength() > size) {\n            throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength());\n        }\n        if (num.lt(new BN(0))) {\n            return num.toTwos(size).toString('hex');\n        }\n        else {\n            return size ? utils.leftPad(num.toString('hex'), size / 8 * 2) : num;\n        }\n    }\n    else {\n        // FIXME: support all other types\n        throw new Error('Unsupported or invalid type: ' + type);\n    }\n};\nvar _processSolidityEncodePackedArgs = function (arg) {\n    /*jshint maxcomplexity:false */\n    if (Array.isArray(arg)) {\n        throw new Error('Autodetection of array types is not supported.');\n    }\n    var type, value = '';\n    var hexArg, arraySize;\n    // if type is given\n    if (!!arg && typeof arg === 'object' && (arg.hasOwnProperty('v') || arg.hasOwnProperty('t') || arg.hasOwnProperty('value') || arg.hasOwnProperty('type'))) {\n        type = arg.hasOwnProperty('t') ? arg.t : arg.type;\n        value = arg.hasOwnProperty('v') ? arg.v : arg.value;\n        // otherwise try to guess the type\n    }\n    else {\n        type = utils.toHex(arg, true);\n        value = utils.toHex(arg);\n        if (!type.startsWith('int') && !type.startsWith('uint')) {\n            type = 'bytes';\n        }\n    }\n    if ((type.startsWith('int') || type.startsWith('uint')) && typeof value === 'string' && !/^(-)?0x/i.test(value)) {\n        value = new BN(value);\n    }\n    // get the array size\n    if (Array.isArray(value)) {\n        arraySize = _parseTypeNArray(type);\n        if (arraySize && value.length !== arraySize) {\n            throw new Error(type + ' is not matching the given array ' + JSON.stringify(value));\n        }\n        else {\n            arraySize = value.length;\n        }\n    }\n    if (Array.isArray(value)) {\n        hexArg = value.map(function (val) {\n            return _solidityPack(type, val, arraySize).toString('hex').replace('0x', '');\n        });\n        return hexArg.join('');\n    }\n    else {\n        hexArg = _solidityPack(type, value, arraySize);\n        return hexArg.toString('hex').replace('0x', '');\n    }\n};\n/**\n * Hashes solidity values to a sha3 hash using keccak 256\n *\n * @method soliditySha3\n * @return {Object} the sha3\n */\nvar soliditySha3 = function () {\n    /*jshint maxcomplexity:false */\n    var args = Array.prototype.slice.call(arguments);\n    var hexArgs = args.map(_processSolidityEncodePackedArgs);\n    // console.log(args, hexArgs);\n    // console.log('0x'+ hexArgs.join(''));\n    return utils.sha3('0x' + hexArgs.join(''));\n};\n/**\n * Hashes solidity values to a sha3 hash using keccak 256 but does return the hash of value `null` instead of `null`\n *\n * @method soliditySha3Raw\n * @return {Object} the sha3\n */\nvar soliditySha3Raw = function () {\n    return utils.sha3Raw('0x' + Array.prototype.slice.call(arguments).map(_processSolidityEncodePackedArgs).join(''));\n};\n/**\n * Encode packed args to hex\n *\n * @method encodePacked\n * @return {String} the hex encoded arguments\n */\nvar encodePacked = function () {\n    /*jshint maxcomplexity:false */\n    var args = Array.prototype.slice.call(arguments);\n    var hexArgs = args.map(_processSolidityEncodePackedArgs);\n    return '0x' + hexArgs.join('').toLowerCase();\n};\nmodule.exports = {\n    soliditySha3: soliditySha3,\n    soliditySha3Raw: soliditySha3Raw,\n    encodePacked: encodePacked\n};\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file iban.js\n *\n * Details: https://github.com/ethereum/wiki/wiki/ICAP:-Inter-exchange-Client-Address-Protocol\n *\n * @author Marek Kotewicz <marek@parity.io>\n * @date 2015\n */\n\"use strict\";\nconst utils = require('web3-utils');\nconst BigNumber = require('bn.js');\nconst leftPad = function (string, bytes) {\n    let result = string;\n    while (result.length < bytes * 2) {\n        result = '0' + result;\n    }\n    return result;\n};\n/**\n * Prepare an IBAN for mod 97 computation by moving the first 4 chars to the end and transforming the letters to\n * numbers (A = 10, B = 11, ..., Z = 35), as specified in ISO13616.\n *\n * @method iso13616Prepare\n * @param {String} iban the IBAN\n * @returns {String} the prepared IBAN\n */\nconst iso13616Prepare = function (iban) {\n    const A = 'A'.charCodeAt(0);\n    const Z = 'Z'.charCodeAt(0);\n    iban = iban.toUpperCase();\n    iban = iban.slice(4) + iban.slice(0, 4);\n    return iban.split('').map(function (n) {\n        const code = n.charCodeAt(0);\n        if (code >= A && code <= Z) {\n            // A = 10, B = 11, ... Z = 35\n            return code - A + 10;\n        }\n        else {\n            return n;\n        }\n    }).join('');\n};\n/**\n * Calculates the MOD 97 10 of the passed IBAN as specified in ISO7064.\n *\n * @method mod9710\n * @param {String} iban\n * @returns {Number}\n */\nconst mod9710 = function (iban) {\n    let remainder = iban;\n    let block;\n    while (remainder.length > 2) {\n        block = remainder.slice(0, 9);\n        remainder = parseInt(block, 10) % 97 + remainder.slice(block.length);\n    }\n    return parseInt(remainder, 10) % 97;\n};\n/**\n * This prototype should be used to create iban object from iban correct string\n *\n * @param {String} iban\n */\nclass Iban {\n    constructor(iban) {\n        this._iban = iban;\n    }\n    /**\n     * This method should be used to create an ethereum address from a direct iban address\n     *\n     * @method toAddress\n     * @param {String} iban address\n     * @return {String} the ethereum address\n     */\n    static toAddress(ib) {\n        ib = new Iban(ib);\n        if (!ib.isDirect()) {\n            throw new Error('IBAN is indirect and can\\'t be converted');\n        }\n        return ib.toAddress();\n    }\n    /**\n     * This method should be used to create iban address from an ethereum address\n     *\n     * @method toIban\n     * @param {String} address\n     * @return {String} the IBAN address\n     */\n    static toIban(address) {\n        return Iban.fromAddress(address).toString();\n    }\n    /**\n     * This method should be used to create iban object from an ethereum address\n     *\n     * @method fromAddress\n     * @param {String} address\n     * @return {Iban} the IBAN object\n     */\n    static fromAddress(address) {\n        if (!utils.isAddress(address)) {\n            throw new Error('Provided address is not a valid address: ' + address);\n        }\n        address = address.replace('0x', '').replace('0X', '');\n        const asBn = new BigNumber(address, 16);\n        const base36 = asBn.toString(36);\n        const padded = leftPad(base36, 15);\n        return Iban.fromBban(padded.toUpperCase());\n    }\n    /**\n     * Convert the passed BBAN to an IBAN for this country specification.\n     * Please note that <i>\"generation of the IBAN shall be the exclusive responsibility of the bank/branch servicing the account\"</i>.\n     * This method implements the preferred algorithm described in http://en.wikipedia.org/wiki/International_Bank_Account_Number#Generating_IBAN_check_digits\n     *\n     * @method fromBban\n     * @param {String} bban the BBAN to convert to IBAN\n     * @returns {Iban} the IBAN object\n     */\n    static fromBban(bban) {\n        const countryCode = 'XE';\n        const remainder = mod9710(iso13616Prepare(countryCode + '00' + bban));\n        const checkDigit = ('0' + (98 - remainder)).slice(-2);\n        return new Iban(countryCode + checkDigit + bban);\n    }\n    /**\n     * Should be used to create IBAN object for given institution and identifier\n     *\n     * @method createIndirect\n     * @param {Object} options, required options are \"institution\" and \"identifier\"\n     * @return {Iban} the IBAN object\n     */\n    static createIndirect(options) {\n        return Iban.fromBban('ETH' + options.institution + options.identifier);\n    }\n    /**\n     * This method should be used to check if given string is valid iban object\n     *\n     * @method isValid\n     * @param {String} iban string\n     * @return {Boolean} true if it is valid IBAN\n     */\n    static isValid(iban) {\n        const i = new Iban(iban);\n        return i.isValid();\n    }\n    ;\n    /**\n     * Should be called to check if iban is correct\n     *\n     * @method isValid\n     * @returns {Boolean} true if it is, otherwise false\n     */\n    isValid() {\n        return /^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(this._iban) &&\n            mod9710(iso13616Prepare(this._iban)) === 1;\n    }\n    ;\n    /**\n     * Should be called to check if iban number is direct\n     *\n     * @method isDirect\n     * @returns {Boolean} true if it is, otherwise false\n     */\n    isDirect() {\n        return this._iban.length === 34 || this._iban.length === 35;\n    }\n    ;\n    /**\n     * Should be called to check if iban number if indirect\n     *\n     * @method isIndirect\n     * @returns {Boolean} true if it is, otherwise false\n     */\n    isIndirect() {\n        return this._iban.length === 20;\n    }\n    ;\n    /**\n     * Should be called to get iban checksum\n     * Uses the mod-97-10 checksumming protocol (ISO/IEC 7064:2003)\n     *\n     * @method checksum\n     * @returns {String} checksum\n     */\n    checksum() {\n        return this._iban.slice(2, 4);\n    }\n    ;\n    /**\n     * Should be called to get institution identifier\n     * eg. XREG\n     *\n     * @method institution\n     * @returns {String} institution identifier\n     */\n    institution() {\n        return this.isIndirect() ? this._iban.slice(7, 11) : '';\n    }\n    ;\n    /**\n     * Should be called to get client identifier within institution\n     * eg. GAVOFYORK\n     *\n     * @method client\n     * @returns {String} client identifier\n     */\n    client() {\n        return this.isIndirect() ? this._iban.slice(11) : '';\n    }\n    ;\n    /**\n     * Should be called to get client direct address\n     *\n     * @method toAddress\n     * @returns {String} ethereum address\n     */\n    toAddress() {\n        if (this.isDirect()) {\n            const base36 = this._iban.slice(4);\n            const asBn = new BigNumber(base36, 36);\n            return utils.toChecksumAddress(asBn.toString(16, 20));\n        }\n        return '';\n    }\n    ;\n    toString() {\n        return this._iban;\n    }\n    ;\n}\nmodule.exports = Iban;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file batch.js\n * @author Marek Kotewicz <marek@ethdev.com>\n * @date 2015\n */\n\"use strict\";\nvar Jsonrpc = require('./jsonrpc');\nvar errors = require('web3-core-helpers').errors;\nvar Batch = function (requestManager) {\n    this.requestManager = requestManager;\n    this.requests = [];\n};\n/**\n * Should be called to add create new request to batch request\n *\n * @method add\n * @param {Object} jsonrpc requet object\n */\nBatch.prototype.add = function (request) {\n    this.requests.push(request);\n};\n/**\n * Should be called to execute batch request\n *\n * @method execute\n */\nBatch.prototype.execute = function () {\n    var requests = this.requests;\n    var sortResponses = this._sortResponses.bind(this);\n    this.requestManager.sendBatch(requests, function (err, results) {\n        results = sortResponses(results);\n        requests.map(function (request, index) {\n            return results[index] || {};\n        }).forEach(function (result, index) {\n            if (requests[index].callback) {\n                if (result && result.error) {\n                    return requests[index].callback(errors.ErrorResponse(result));\n                }\n                if (!Jsonrpc.isValidResponse(result)) {\n                    return requests[index].callback(errors.InvalidResponse(result));\n                }\n                try {\n                    requests[index].callback(null, requests[index].format ? requests[index].format(result.result) : result.result);\n                }\n                catch (err) {\n                    requests[index].callback(err);\n                }\n            }\n        });\n    });\n};\n// Sort responses\nBatch.prototype._sortResponses = function (responses) {\n    return (responses || []).sort((a, b) => a.id - b.id);\n};\nmodule.exports = Batch;\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file givenProvider.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar givenProvider = null;\n// ADD GIVEN PROVIDER\n/* jshint ignore:start */\nvar global = typeof globalThis === 'object' ? globalThis : undefined;\nif (!global) {\n    try {\n        global = Function('return this')();\n    }\n    catch (e) {\n        global = self;\n    }\n}\n// EIP-1193: window.ethereum\nif (typeof global.ethereum !== 'undefined') {\n    givenProvider = global.ethereum;\n    // Legacy web3.currentProvider\n}\nelse if (typeof global.web3 !== 'undefined' && global.web3.currentProvider) {\n    if (global.web3.currentProvider.sendAsync) {\n        global.web3.currentProvider.send = global.web3.currentProvider.sendAsync;\n        delete global.web3.currentProvider.sendAsync;\n    }\n    // if connection is 'ipcProviderWrapper', add subscription support\n    if (!global.web3.currentProvider.on &&\n        global.web3.currentProvider.connection &&\n        global.web3.currentProvider.connection.constructor.name === 'ipcProviderWrapper') {\n        global.web3.currentProvider.on = function (type, callback) {\n            if (typeof callback !== 'function')\n                throw new Error('The second parameter callback must be a function.');\n            switch (type) {\n                case 'data':\n                    this.connection.on('data', function (data) {\n                        var result = '';\n                        data = data.toString();\n                        try {\n                            result = JSON.parse(data);\n                        }\n                        catch (e) {\n                            return callback(new Error('Couldn\\'t parse response data' + data));\n                        }\n                        // notification\n                        if (!result.id && result.method.indexOf('_subscription') !== -1) {\n                            callback(null, result);\n                        }\n                    });\n                    break;\n                default:\n                    this.connection.on(type, callback);\n                    break;\n            }\n        };\n    }\n    givenProvider = global.web3.currentProvider;\n}\n/* jshint ignore:end */\nmodule.exports = givenProvider;\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file WebsocketProvider.js\n * @authors: Samuel Furter <samuel@ethereum.org>, Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2019\n */\n'use strict';\nvar EventEmitter = require('eventemitter3');\nvar helpers = require('./helpers.js');\nvar errors = require('web3-core-helpers').errors;\nvar Ws = require('websocket').w3cwebsocket;\n/**\n * @param {string} url\n * @param {Object} options\n *\n * @constructor\n */\nvar WebsocketProvider = function WebsocketProvider(url, options) {\n    EventEmitter.call(this);\n    options = options || {};\n    this.url = url;\n    this._customTimeout = options.timeout || 1000 * 15;\n    this.headers = options.headers || {};\n    this.protocol = options.protocol || undefined;\n    this.reconnectOptions = Object.assign({\n        auto: false,\n        delay: 5000,\n        maxAttempts: false,\n        onTimeout: false\n    }, options.reconnect);\n    this.clientConfig = options.clientConfig || undefined; // Allow a custom client configuration\n    this.requestOptions = options.requestOptions || undefined; // Allow a custom request options (https://github.com/theturtle32/WebSocket-Node/blob/master/docs/WebSocketClient.md#connectrequesturl-requestedprotocols-origin-headers-requestoptions)\n    this.DATA = 'data';\n    this.CLOSE = 'close';\n    this.ERROR = 'error';\n    this.CONNECT = 'connect';\n    this.RECONNECT = 'reconnect';\n    this.connection = null;\n    this.requestQueue = new Map();\n    this.responseQueue = new Map();\n    this.reconnectAttempts = 0;\n    this.reconnecting = false;\n    // The w3cwebsocket implementation does not support Basic Auth\n    // username/password in the URL. So generate the basic auth header, and\n    // pass through with any additional headers supplied in constructor\n    var parsedURL = helpers.parseURL(url);\n    if (parsedURL.username && parsedURL.password) {\n        this.headers.authorization = 'Basic ' + helpers.btoa(parsedURL.username + ':' + parsedURL.password);\n    }\n    // When all node core implementations that do not have the\n    // WHATWG compatible URL parser go out of service this line can be removed.\n    if (parsedURL.auth) {\n        this.headers.authorization = 'Basic ' + helpers.btoa(parsedURL.auth);\n    }\n    // make property `connected` which will return the current connection status\n    Object.defineProperty(this, 'connected', {\n        get: function () {\n            return this.connection && this.connection.readyState === this.connection.OPEN;\n        },\n        enumerable: true\n    });\n    this.connect();\n};\n// Inherit from EventEmitter\nWebsocketProvider.prototype = Object.create(EventEmitter.prototype);\nWebsocketProvider.prototype.constructor = WebsocketProvider;\n/**\n * Connects to the configured node\n *\n * @method connect\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.connect = function () {\n    this.connection = new Ws(this.url, this.protocol, undefined, this.headers, this.requestOptions, this.clientConfig);\n    this._addSocketListeners();\n};\n/**\n * Listener for the `data` event of the underlying WebSocket object\n *\n * @method _onMessage\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._onMessage = function (e) {\n    var _this = this;\n    this._parseResponse((typeof e.data === 'string') ? e.data : '').forEach(function (result) {\n        if (result.method && result.method.indexOf('_subscription') !== -1) {\n            _this.emit(_this.DATA, result);\n            return;\n        }\n        var id = result.id;\n        // get the id which matches the returned id\n        if (Array.isArray(result)) {\n            id = result[0].id;\n        }\n        if (_this.responseQueue.has(id)) {\n            if (_this.responseQueue.get(id).callback !== undefined) {\n                _this.responseQueue.get(id).callback(false, result);\n            }\n            _this.responseQueue.delete(id);\n        }\n    });\n};\n/**\n * Listener for the `open` event of the underlying WebSocket object\n *\n * @method _onConnect\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._onConnect = function () {\n    this.emit(this.CONNECT);\n    this.reconnectAttempts = 0;\n    this.reconnecting = false;\n    if (this.requestQueue.size > 0) {\n        var _this = this;\n        this.requestQueue.forEach(function (request, key) {\n            _this.send(request.payload, request.callback);\n            _this.requestQueue.delete(key);\n        });\n    }\n};\n/**\n * Listener for the `close` event of the underlying WebSocket object\n *\n * @method _onClose\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._onClose = function (event) {\n    var _this = this;\n    if (this.reconnectOptions.auto && (![1000, 1001].includes(event.code) || event.wasClean === false)) {\n        this.reconnect();\n        return;\n    }\n    this.emit(this.CLOSE, event);\n    if (this.requestQueue.size > 0) {\n        this.requestQueue.forEach(function (request, key) {\n            request.callback(errors.ConnectionNotOpenError(event));\n            _this.requestQueue.delete(key);\n        });\n    }\n    if (this.responseQueue.size > 0) {\n        this.responseQueue.forEach(function (request, key) {\n            request.callback(errors.InvalidConnection('on WS', event));\n            _this.responseQueue.delete(key);\n        });\n    }\n    this._removeSocketListeners();\n    this.removeAllListeners();\n};\n/**\n * Will add the required socket listeners\n *\n * @method _addSocketListeners\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._addSocketListeners = function () {\n    this.connection.addEventListener('message', this._onMessage.bind(this));\n    this.connection.addEventListener('open', this._onConnect.bind(this));\n    this.connection.addEventListener('close', this._onClose.bind(this));\n};\n/**\n * Will remove all socket listeners\n *\n * @method _removeSocketListeners\n *\n * @returns {void}\n */\nWebsocketProvider.prototype._removeSocketListeners = function () {\n    this.connection.removeEventListener('message', this._onMessage);\n    this.connection.removeEventListener('open', this._onConnect);\n    this.connection.removeEventListener('close', this._onClose);\n};\n/**\n * Will parse the response and make an array out of it.\n *\n * @method _parseResponse\n *\n * @param {String} data\n *\n * @returns {Array}\n */\nWebsocketProvider.prototype._parseResponse = function (data) {\n    var _this = this, returnValues = [];\n    // DE-CHUNKER\n    var dechunkedData = data\n        .replace(/\\}[\\n\\r]?\\{/g, '}|--|{') // }{\n        .replace(/\\}\\][\\n\\r]?\\[\\{/g, '}]|--|[{') // }][{\n        .replace(/\\}[\\n\\r]?\\[\\{/g, '}|--|[{') // }[{\n        .replace(/\\}\\][\\n\\r]?\\{/g, '}]|--|{') // }]{\n        .split('|--|');\n    dechunkedData.forEach(function (data) {\n        // prepend the last chunk\n        if (_this.lastChunk)\n            data = _this.lastChunk + data;\n        var result = null;\n        try {\n            result = JSON.parse(data);\n        }\n        catch (e) {\n            _this.lastChunk = data;\n            // start timeout to cancel all requests\n            clearTimeout(_this.lastChunkTimeout);\n            _this.lastChunkTimeout = setTimeout(function () {\n                if (_this.reconnectOptions.auto && _this.reconnectOptions.onTimeout) {\n                    _this.reconnect();\n                    return;\n                }\n                _this.emit(_this.ERROR, errors.ConnectionTimeout(_this._customTimeout));\n                if (_this.requestQueue.size > 0) {\n                    _this.requestQueue.forEach(function (request, key) {\n                        request.callback(errors.ConnectionTimeout(_this._customTimeout));\n                        _this.requestQueue.delete(key);\n                    });\n                }\n            }, _this._customTimeout);\n            return;\n        }\n        // cancel timeout and set chunk to null\n        clearTimeout(_this.lastChunkTimeout);\n        _this.lastChunk = null;\n        if (result)\n            returnValues.push(result);\n    });\n    return returnValues;\n};\n/**\n * Does check if the provider is connecting and will add it to the queue or will send it directly\n *\n * @method send\n *\n * @param {Object} payload\n * @param {Function} callback\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.send = function (payload, callback) {\n    var _this = this;\n    var id = payload.id;\n    var request = { payload: payload, callback: callback };\n    if (Array.isArray(payload)) {\n        id = payload[0].id;\n    }\n    if (this.connection.readyState === this.connection.CONNECTING || this.reconnecting) {\n        this.requestQueue.set(id, request);\n        return;\n    }\n    if (this.connection.readyState !== this.connection.OPEN) {\n        this.requestQueue.delete(id);\n        this.emit(this.ERROR, errors.ConnectionNotOpenError());\n        request.callback(errors.ConnectionNotOpenError());\n        return;\n    }\n    this.responseQueue.set(id, request);\n    this.requestQueue.delete(id);\n    try {\n        this.connection.send(JSON.stringify(request.payload));\n    }\n    catch (error) {\n        request.callback(error);\n        _this.responseQueue.delete(id);\n    }\n};\n/**\n * Resets the providers, clears all callbacks\n *\n * @method reset\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.reset = function () {\n    this.responseQueue.clear();\n    this.requestQueue.clear();\n    this.removeAllListeners();\n    this._removeSocketListeners();\n    this._addSocketListeners();\n};\n/**\n * Closes the current connection with the given code and reason arguments\n *\n * @method disconnect\n *\n * @param {number} code\n * @param {string} reason\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.disconnect = function (code, reason) {\n    this._removeSocketListeners();\n    this.connection.close(code || 1000, reason);\n};\n/**\n * Returns the desired boolean.\n *\n * @method supportsSubscriptions\n *\n * @returns {boolean}\n */\nWebsocketProvider.prototype.supportsSubscriptions = function () {\n    return true;\n};\n/**\n * Removes the listeners and reconnects to the socket.\n *\n * @method reconnect\n *\n * @returns {void}\n */\nWebsocketProvider.prototype.reconnect = function () {\n    var _this = this;\n    this.reconnecting = true;\n    if (this.responseQueue.size > 0) {\n        this.responseQueue.forEach(function (request, key) {\n            request.callback(errors.PendingRequestsOnReconnectingError());\n            _this.responseQueue.delete(key);\n        });\n    }\n    if (!this.reconnectOptions.maxAttempts ||\n        this.reconnectAttempts < this.reconnectOptions.maxAttempts) {\n        setTimeout(function () {\n            _this.reconnectAttempts++;\n            _this._removeSocketListeners();\n            _this.emit(_this.RECONNECT, _this.reconnectAttempts);\n            _this.connect();\n        }, this.reconnectOptions.delay);\n        return;\n    }\n    this.emit(this.ERROR, errors.MaxAttemptsReachedOnReconnectingError());\n    this.reconnecting = false;\n    if (this.requestQueue.size > 0) {\n        this.requestQueue.forEach(function (request, key) {\n            request.callback(errors.MaxAttemptsReachedOnReconnectingError());\n            _this.requestQueue.delete(key);\n        });\n    }\n};\nmodule.exports = WebsocketProvider;\n","var isNode = Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]';\nvar isRN = typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nvar _btoa = null;\nvar helpers = null;\nif (isNode || isRN) {\n    _btoa = function (str) {\n        return Buffer.from(str).toString('base64');\n    };\n    var url = require('url');\n    if (url.URL) {\n        // Use the new Node 6+ API for parsing URLs that supports username/password\n        var newURL = url.URL;\n        helpers = function (url) {\n            return new newURL(url);\n        };\n    }\n    else {\n        // Web3 supports Node.js 5, so fall back to the legacy URL API if necessary\n        helpers = require('url').parse;\n    }\n}\nelse {\n    _btoa = btoa.bind(typeof globalThis === 'object' ? globalThis : self);\n    helpers = function (url) {\n        return new URL(url);\n    };\n}\nmodule.exports = {\n    parseURL: helpers,\n    btoa: _btoa\n};\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file httpprovider.js\n * @authors:\n *   Marek Kotewicz <marek@parity.io>\n *   Marian Oancea\n *   Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2015\n */\nvar errors = require('web3-core-helpers').errors;\nvar XHR2 = require('xhr2-cookies').XMLHttpRequest; // jshint ignore: line\nvar http = require('http');\nvar https = require('https');\n/**\n * HttpProvider should be used to send rpc calls over http\n */\nvar HttpProvider = function HttpProvider(host, options) {\n    options = options || {};\n    this.withCredentials = options.withCredentials || false;\n    this.timeout = options.timeout || 0;\n    this.headers = options.headers;\n    this.agent = options.agent;\n    this.connected = false;\n    // keepAlive is true unless explicitly set to false\n    const keepAlive = options.keepAlive !== false;\n    this.host = host || 'http://localhost:8545';\n    if (!this.agent) {\n        if (this.host.substring(0, 5) === \"https\") {\n            this.httpsAgent = new https.Agent({ keepAlive });\n        }\n        else {\n            this.httpAgent = new http.Agent({ keepAlive });\n        }\n    }\n};\nHttpProvider.prototype._prepareRequest = function () {\n    var request;\n    // the current runtime is a browser\n    if (typeof XMLHttpRequest !== 'undefined') {\n        request = new XMLHttpRequest();\n    }\n    else {\n        request = new XHR2();\n        var agents = { httpsAgent: this.httpsAgent, httpAgent: this.httpAgent, baseUrl: this.baseUrl };\n        if (this.agent) {\n            agents.httpsAgent = this.agent.https;\n            agents.httpAgent = this.agent.http;\n            agents.baseUrl = this.agent.baseUrl;\n        }\n        request.nodejsSet(agents);\n    }\n    request.open('POST', this.host, true);\n    request.setRequestHeader('Content-Type', 'application/json');\n    request.timeout = this.timeout;\n    request.withCredentials = this.withCredentials;\n    if (this.headers) {\n        this.headers.forEach(function (header) {\n            request.setRequestHeader(header.name, header.value);\n        });\n    }\n    return request;\n};\n/**\n * Should be used to make async request\n *\n * @method send\n * @param {Object} payload\n * @param {Function} callback triggered on end with (err, result)\n */\nHttpProvider.prototype.send = function (payload, callback) {\n    var _this = this;\n    var request = this._prepareRequest();\n    request.onreadystatechange = function () {\n        if (request.readyState === 4 && request.timeout !== 1) {\n            var result = request.responseText;\n            var error = null;\n            try {\n                result = JSON.parse(result);\n            }\n            catch (e) {\n                error = errors.InvalidResponse(request.responseText);\n            }\n            _this.connected = true;\n            callback(error, result);\n        }\n    };\n    request.ontimeout = function () {\n        _this.connected = false;\n        callback(errors.ConnectionTimeout(this.timeout));\n    };\n    try {\n        request.send(JSON.stringify(payload));\n    }\n    catch (error) {\n        this.connected = false;\n        callback(errors.InvalidConnection(this.host));\n    }\n};\nHttpProvider.prototype.disconnect = function () {\n    //NO OP\n};\n/**\n * Returns the desired boolean.\n *\n * @method supportsSubscriptions\n * @returns {boolean}\n */\nHttpProvider.prototype.supportsSubscriptions = function () {\n    return false;\n};\nmodule.exports = HttpProvider;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/** @file index.js\n * @authors:\n *   Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar errors = require('web3-core-helpers').errors;\nvar oboe = require('oboe');\nvar IpcProvider = function IpcProvider(path, net) {\n    var _this = this;\n    this.responseCallbacks = {};\n    this.notificationCallbacks = [];\n    this.path = path;\n    this.connected = false;\n    this.connection = net.connect({ path: this.path });\n    this.addDefaultEvents();\n    // LISTEN FOR CONNECTION RESPONSES\n    var callback = function (result) {\n        /*jshint maxcomplexity: 6 */\n        var id = null;\n        // get the id which matches the returned id\n        if (Array.isArray(result)) {\n            result.forEach(function (load) {\n                if (_this.responseCallbacks[load.id])\n                    id = load.id;\n            });\n        }\n        else {\n            id = result.id;\n        }\n        // notification\n        if (!id && result.method.indexOf('_subscription') !== -1) {\n            _this.notificationCallbacks.forEach(function (callback) {\n                if (typeof callback === 'function')\n                    callback(result);\n            });\n            // fire the callback\n        }\n        else if (_this.responseCallbacks[id]) {\n            _this.responseCallbacks[id](null, result);\n            delete _this.responseCallbacks[id];\n        }\n    };\n    // use oboe.js for Sockets\n    if (net.constructor.name === 'Socket') {\n        oboe(this.connection)\n            .done(callback);\n    }\n    else {\n        this.connection.on('data', function (data) {\n            _this._parseResponse(data.toString()).forEach(callback);\n        });\n    }\n};\n/**\nWill add the error and end event to timeout existing calls\n\n@method addDefaultEvents\n*/\nIpcProvider.prototype.addDefaultEvents = function () {\n    var _this = this;\n    this.connection.on('connect', function () {\n        _this.connected = true;\n    });\n    this.connection.on('close', function () {\n        _this.connected = false;\n    });\n    this.connection.on('error', function () {\n        _this._timeout();\n    });\n    this.connection.on('end', function () {\n        _this._timeout();\n    });\n    this.connection.on('timeout', function () {\n        _this._timeout();\n    });\n};\n/**\n Will parse the response and make an array out of it.\n\n NOTE, this exists for backwards compatibility reasons.\n\n @method _parseResponse\n @param {String} data\n */\nIpcProvider.prototype._parseResponse = function (data) {\n    var _this = this, returnValues = [];\n    // DE-CHUNKER\n    var dechunkedData = data\n        .replace(/\\}[\\n\\r]?\\{/g, '}|--|{') // }{\n        .replace(/\\}\\][\\n\\r]?\\[\\{/g, '}]|--|[{') // }][{\n        .replace(/\\}[\\n\\r]?\\[\\{/g, '}|--|[{') // }[{\n        .replace(/\\}\\][\\n\\r]?\\{/g, '}]|--|{') // }]{\n        .split('|--|');\n    dechunkedData.forEach(function (data) {\n        // prepend the last chunk\n        if (_this.lastChunk)\n            data = _this.lastChunk + data;\n        var result = null;\n        try {\n            result = JSON.parse(data);\n        }\n        catch (e) {\n            _this.lastChunk = data;\n            // start timeout to cancel all requests\n            clearTimeout(_this.lastChunkTimeout);\n            _this.lastChunkTimeout = setTimeout(function () {\n                _this._timeout();\n                throw errors.InvalidResponse(data);\n            }, 1000 * 15);\n            return;\n        }\n        // cancel timeout and set chunk to null\n        clearTimeout(_this.lastChunkTimeout);\n        _this.lastChunk = null;\n        if (result)\n            returnValues.push(result);\n    });\n    return returnValues;\n};\n/**\nGet the adds a callback to the responseCallbacks object,\nwhich will be called if a response matching the response Id will arrive.\n\n@method _addResponseCallback\n*/\nIpcProvider.prototype._addResponseCallback = function (payload, callback) {\n    var id = payload.id || payload[0].id;\n    var method = payload.method || payload[0].method;\n    this.responseCallbacks[id] = callback;\n    this.responseCallbacks[id].method = method;\n};\n/**\nTimeout all requests when the end/error event is fired\n\n@method _timeout\n*/\nIpcProvider.prototype._timeout = function () {\n    for (var key in this.responseCallbacks) {\n        if (this.responseCallbacks.hasOwnProperty(key)) {\n            this.responseCallbacks[key](errors.InvalidConnection('on IPC'));\n            delete this.responseCallbacks[key];\n        }\n    }\n};\n/**\n Try to reconnect\n\n @method reconnect\n */\nIpcProvider.prototype.reconnect = function () {\n    this.connection.connect({ path: this.path });\n};\nIpcProvider.prototype.send = function (payload, callback) {\n    // try reconnect, when connection is gone\n    if (!this.connection.writable)\n        this.connection.connect({ path: this.path });\n    this.connection.write(JSON.stringify(payload));\n    this._addResponseCallback(payload, callback);\n};\n/**\nSubscribes to provider events.provider\n\n@method on\n@param {String} type    'notification', 'connect', 'error', 'end' or 'data'\n@param {Function} callback   the callback to call\n*/\nIpcProvider.prototype.on = function (type, callback) {\n    if (typeof callback !== 'function')\n        throw new Error('The second parameter callback must be a function.');\n    switch (type) {\n        case 'data':\n            this.notificationCallbacks.push(callback);\n            break;\n        // adds error, end, timeout, connect\n        default:\n            this.connection.on(type, callback);\n            break;\n    }\n};\n/**\n Subscribes to provider events.provider\n\n @method on\n @param {String} type    'connect', 'error', 'end' or 'data'\n @param {Function} callback   the callback to call\n */\nIpcProvider.prototype.once = function (type, callback) {\n    if (typeof callback !== 'function')\n        throw new Error('The second parameter callback must be a function.');\n    this.connection.once(type, callback);\n};\n/**\nRemoves event listener\n\n@method removeListener\n@param {String} type    'data', 'connect', 'error', 'end' or 'data'\n@param {Function} callback   the callback to call\n*/\nIpcProvider.prototype.removeListener = function (type, callback) {\n    var _this = this;\n    switch (type) {\n        case 'data':\n            this.notificationCallbacks.forEach(function (cb, index) {\n                if (cb === callback)\n                    _this.notificationCallbacks.splice(index, 1);\n            });\n            break;\n        default:\n            this.connection.removeListener(type, callback);\n            break;\n    }\n};\n/**\nRemoves all event listeners\n\n@method removeAllListeners\n@param {String} type    'data', 'connect', 'error', 'end' or 'data'\n*/\nIpcProvider.prototype.removeAllListeners = function (type) {\n    switch (type) {\n        case 'data':\n            this.notificationCallbacks = [];\n            break;\n        default:\n            this.connection.removeAllListeners(type);\n            break;\n    }\n};\n/**\nResets the providers, clears all callbacks\n\n@method reset\n*/\nIpcProvider.prototype.reset = function () {\n    this._timeout();\n    this.notificationCallbacks = [];\n    this.connection.removeAllListeners('error');\n    this.connection.removeAllListeners('end');\n    this.connection.removeAllListeners('timeout');\n    this.addDefaultEvents();\n};\n/**\n * Returns the desired boolean.\n *\n * @method supportsSubscriptions\n * @returns {boolean}\n */\nIpcProvider.prototype.supportsSubscriptions = function () {\n    return true;\n};\nmodule.exports = IpcProvider;\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file extend.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar formatters = require('web3-core-helpers').formatters;\nvar Method = require('web3-core-method');\nvar utils = require('web3-utils');\nvar extend = function (pckg) {\n    /* jshint maxcomplexity:5 */\n    var ex = function (extension) {\n        var extendedObject;\n        if (extension.property) {\n            if (!pckg[extension.property]) {\n                pckg[extension.property] = {};\n            }\n            extendedObject = pckg[extension.property];\n        }\n        else {\n            extendedObject = pckg;\n        }\n        if (extension.methods) {\n            extension.methods.forEach(function (method) {\n                if (!(method instanceof Method)) {\n                    method = new Method(method);\n                }\n                method.attachToObject(extendedObject);\n                method.setRequestManager(pckg._requestManager);\n            });\n        }\n        return pckg;\n    };\n    ex.formatters = formatters;\n    ex.utils = utils;\n    ex.Method = Method;\n    return ex;\n};\nmodule.exports = extend;\n","/*\n    This file is part of web3.js.\n\n    web3.js is free software: you can redistribute it and/or modify\n    it under the terms of the GNU Lesser General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    web3.js is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License\n    along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n/**\n * @file subscription.js\n * @author Fabian Vogelsteller <fabian@ethereum.org>\n * @date 2017\n */\n\"use strict\";\nvar errors = require('web3-core-helpers').errors;\nvar EventEmitter = require('eventemitter3');\nvar formatters = require('web3-core-helpers').formatters;\nfunction identity(value) {\n    return value;\n}\nfunction Subscription(options) {\n    EventEmitter.call(this);\n    this.id = null;\n    this.callback = identity;\n    this.arguments = null;\n    this.lastBlock = null; // \"from\" block tracker for backfilling events on reconnection\n    this.options = {\n        subscription: options.subscription,\n        type: options.type,\n        requestManager: options.requestManager\n    };\n}\n// INHERIT\nSubscription.prototype = Object.create(EventEmitter.prototype);\nSubscription.prototype.constructor = Subscription;\n/**\n * Should be used to extract callback from array of arguments. Modifies input param\n *\n * @method extractCallback\n * @param {Array} arguments\n * @return {Function|Null} callback, if exists\n */\nSubscription.prototype._extractCallback = function (args) {\n    if (typeof args[args.length - 1] === 'function') {\n        return args.pop(); // modify the args array!\n    }\n};\n/**\n * Should be called to check if the number of arguments is correct\n *\n * @method validateArgs\n * @param {Array} arguments\n * @throws {Error} if it is not\n */\nSubscription.prototype._validateArgs = function (args) {\n    var subscription = this.options.subscription;\n    if (!subscription)\n        subscription = {};\n    if (!subscription.params)\n        subscription.params = 0;\n    if (args.length !== subscription.params) {\n        throw errors.InvalidNumberOfParams(args.length, subscription.params, subscription.subscriptionName);\n    }\n};\n/**\n * Should be called to format input args of method\n *\n * @method formatInput\n * @param {Array}\n * @return {Array}\n */\nSubscription.prototype._formatInput = function (args) {\n    var subscription = this.options.subscription;\n    if (!subscription) {\n        return args;\n    }\n    if (!subscription.inputFormatter) {\n        return args;\n    }\n    var formattedArgs = subscription.inputFormatter.map(function (formatter, index) {\n        return formatter ? formatter(args[index]) : args[index];\n    });\n    return formattedArgs;\n};\n/**\n * Should be called to format output(result) of method\n *\n * @method formatOutput\n * @param result {Object}\n * @return {Object}\n */\nSubscription.prototype._formatOutput = function (result) {\n    var subscription = this.options.subscription;\n    return (subscription && subscription.outputFormatter && result) ? subscription.outputFormatter(result) : result;\n};\n/**\n * Should create payload from given input args\n *\n * @method toPayload\n * @param {Array} args\n * @return {Object}\n */\nSubscription.prototype._toPayload = function (args) {\n    var params = [];\n    this.callback = this._extractCallback(args) || identity;\n    if (!this.subscriptionMethod) {\n        this.subscriptionMethod = args.shift();\n        // replace subscription with given name\n        if (this.options.subscription.subscriptionName) {\n            this.subscriptionMethod = this.options.subscription.subscriptionName;\n        }\n    }\n    if (!this.arguments) {\n        this.arguments = this._formatInput(args);\n        this._validateArgs(this.arguments);\n        args = []; // make empty after validation\n    }\n    // re-add subscriptionName\n    params.push(this.subscriptionMethod);\n    params = params.concat(this.arguments);\n    if (args.length) {\n        throw new Error('Only a callback is allowed as parameter on an already instantiated subscription.');\n    }\n    return {\n        method: this.options.type + '_subscribe',\n        params: params\n    };\n};\n/**\n * Unsubscribes and clears callbacks\n *\n * @method unsubscribe\n * @return {Object}\n */\nSubscription.prototype.unsubscribe = function (callback) {\n    this.options.requestManager.removeSubscription(this.id, callback);\n    this.id = null;\n    this.lastBlock = null;\n    this.removeAllListeners();\n};\n/**\n * Subscribes and watches for changes\n *\n * @method subscribe\n * @param {String} subscription the subscription\n * @param {Object} options the options object with address topics and fromBlock\n * @return {Object}\n */\nSubscription.prototype.subscribe = function () {\n    var _this = this;\n    var args = Array.prototype.slice.call(arguments);\n    var payload = this._toPayload(args);\n    if (!payload) {\n        return this;\n    }\n    // throw error, if provider is not set\n    if (!this.options.requestManager.provider) {\n        setTimeout(function () {\n            var err1 = new Error('No provider set.');\n            _this.callback(err1, null, _this);\n            _this.emit('error', err1);\n        }, 0);\n        return this;\n    }\n    // throw error, if provider doesnt support subscriptions\n    if (!this.options.requestManager.provider.on) {\n        setTimeout(function () {\n            var err2 = new Error('The current provider doesn\\'t support subscriptions: ' +\n                _this.options.requestManager.provider.constructor.name);\n            _this.callback(err2, null, _this);\n            _this.emit('error', err2);\n        }, 0);\n        return this;\n    }\n    // Re-subscription only: continue fetching from the last block we received.\n    // a dropped connection may have resulted in gaps in the logs...\n    if (this.lastBlock && !!this.options.params && typeof this.options.params === 'object') {\n        payload.params[1] = this.options.params;\n        payload.params[1].fromBlock = formatters.inputBlockNumberFormatter(this.lastBlock + 1);\n    }\n    // if id is there unsubscribe first\n    if (this.id) {\n        this.unsubscribe();\n    }\n    // store the params in the options object\n    this.options.params = payload.params[1];\n    // get past logs, if fromBlock is available\n    if (payload.params[0] === 'logs' && !!payload.params[1] && typeof payload.params[1] === 'object' && payload.params[1].hasOwnProperty('fromBlock') && isFinite(payload.params[1].fromBlock)) {\n        // send the subscription request\n        // copy the params to avoid race-condition with deletion below this block\n        var blockParams = Object.assign({}, payload.params[1]);\n        this.options.requestManager.send({\n            method: 'eth_getLogs',\n            params: [blockParams]\n        }, function (err, logs) {\n            if (!err) {\n                logs.forEach(function (log) {\n                    var output = _this._formatOutput(log);\n                    _this.callback(null, output, _this);\n                    _this.emit('data', output);\n                });\n                // TODO subscribe here? after the past logs?\n            }\n            else {\n                setTimeout(function () {\n                    _this.callback(err, null, _this);\n                    _this.emit('error', err);\n                }, 0);\n            }\n        });\n    }\n    // create subscription\n    // TODO move to separate function? so that past logs can go first?\n    if (typeof payload.params[1] === 'object')\n        delete payload.params[1].fromBlock;\n    this.options.requestManager.send(payload, function (err, result) {\n        if (!err && result) {\n            _this.id = result;\n            _this.method = payload.params[0];\n            // call callback on notifications\n            _this.options.requestManager.addSubscription(_this, function (error, result) {\n                if (!error) {\n                    if (!Array.isArray(result)) {\n                        result = [result];\n                    }\n                    result.forEach(function (resultItem) {\n                        var output = _this._formatOutput(resultItem);\n                        // Track current block (for gaps introduced by dropped connections)\n                        _this.lastBlock = !!output && typeof output === 'object' ? output.blockNumber : null;\n                        if (typeof _this.options.subscription.subscriptionHandler === 'function') {\n                            return _this.options.subscription.subscriptionHandler.call(_this, output);\n                        }\n                        else {\n                            _this.emit('data', output);\n                        }\n                        // call the callback, last so that unsubscribe there won't affect the emit above\n                        _this.callback(null, output, _this);\n                    });\n                }\n                else {\n                    _this.callback(error, false, _this);\n                    _this.emit('error', error);\n                }\n            });\n            _this.emit('connected', result);\n        }\n        else {\n            setTimeout(function () {\n                _this.callback(err, false, _this);\n                _this.emit('error', err);\n            }, 0);\n        }\n    });\n    // return an object to cancel the subscription\n    return this;\n};\n/**\n * Resubscribe\n *\n * @method resubscribe\n *\n * @returns {void}\n */\nSubscription.prototype.resubscribe = function () {\n    this.options.requestManager.removeSubscription(this.id); // unsubscribe\n    this.id = null;\n    this.subscribe(this.callback);\n};\nmodule.exports = Subscription;\n","/*\n This file is part of web3.js.\n\n web3.js is free software: you can redistribute it and/or modify\n it under the terms of the GNU Lesser General Public License as published by\n the Free Software Foundation, either version 3 of the License, or\n (at your option) any later version.\n\n web3.js is distributed in the hope that it will be useful,\n but WITHOUT ANY WARRANTY; without even the implied warranty of\n MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n GNU Lesser General Public License for more details.\n\n You should have received a copy of the GNU Lesser General Public License\n along with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n */\n/**\n * @file index.js\n * @author Marek Kotewicz <marek@parity.io>\n * @author Fabian Vogelsteller <fabian@frozeman.de>\n * @date 2018\n */\nvar Buffer = require('buffer').Buffer;\nvar utils = require('web3-utils');\nvar EthersAbiCoder = require('@ethersproject/abi').AbiCoder;\nvar ParamType = require('@ethersproject/abi').ParamType;\nvar ethersAbiCoder = new EthersAbiCoder(function (type, value) {\n    if (type.match(/^u?int/) && !Array.isArray(value) && (!(!!value && typeof value === 'object') || value.constructor.name !== 'BN')) {\n        return value.toString();\n    }\n    return value;\n});\n// result method\nfunction Result() {\n}\n/**\n * ABICoder prototype should be used to encode/decode solidity params of any type\n */\nvar ABICoder = function () {\n};\n/**\n * Encodes the function name to its ABI representation, which are the first 4 bytes of the sha3 of the function name including  types.\n *\n * @method encodeFunctionSignature\n * @param {String|Object} functionName\n * @return {String} encoded function name\n */\nABICoder.prototype.encodeFunctionSignature = function (functionName) {\n    if (typeof functionName === 'function' || typeof functionName === 'object' && functionName) {\n        functionName = utils._jsonInterfaceMethodToString(functionName);\n    }\n    return utils.sha3(functionName).slice(0, 10);\n};\n/**\n * Encodes the function name to its ABI representation, which are the first 4 bytes of the sha3 of the function name including  types.\n *\n * @method encodeEventSignature\n * @param {String|Object} functionName\n * @return {String} encoded function name\n */\nABICoder.prototype.encodeEventSignature = function (functionName) {\n    if (typeof functionName === 'function' || typeof functionName === 'object' && functionName) {\n        functionName = utils._jsonInterfaceMethodToString(functionName);\n    }\n    return utils.sha3(functionName);\n};\n/**\n * Should be used to encode plain param\n *\n * @method encodeParameter\n *\n * @param {String|Object} type\n * @param {any} param\n *\n * @return {String} encoded plain param\n */\nABICoder.prototype.encodeParameter = function (type, param) {\n    return this.encodeParameters([type], [param]);\n};\n/**\n * Should be used to encode list of params\n *\n * @method encodeParameters\n *\n * @param {Array<String|Object>} types\n * @param {Array<any>} params\n *\n * @return {String} encoded list of params\n */\nABICoder.prototype.encodeParameters = function (types, params) {\n    var self = this;\n    types = self.mapTypes(types);\n    params = params.map(function (param, index) {\n        let type = types[index];\n        if (typeof type === 'object' && type.type) {\n            // We may get a named type of shape {name, type}\n            type = type.type;\n        }\n        param = self.formatParam(type, param);\n        // Format params for tuples\n        if (typeof type === 'string' && type.includes('tuple')) {\n            const coder = ethersAbiCoder._getCoder(ParamType.from(type));\n            const modifyParams = (coder, param) => {\n                if (coder.name === 'array') {\n                    if (!coder.type.match(/\\[(\\d+)\\]/)) {\n                        return param.map(p => modifyParams(ethersAbiCoder._getCoder(ParamType.from(coder.type.replace('[]', ''))), p));\n                    }\n                    const arrayLength = parseInt(coder.type.match(/\\[(\\d+)\\]/)[1]);\n                    if (param.length !== arrayLength) {\n                        throw new Error('Array length does not matches with the given input');\n                    }\n                    return param.map(p => modifyParams(ethersAbiCoder._getCoder(ParamType.from(coder.type.replace(/\\[\\d+\\]/, ''))), p));\n                }\n                coder.coders.forEach((c, i) => {\n                    if (c.name === 'tuple') {\n                        modifyParams(c, param[i]);\n                    }\n                    else {\n                        param[i] = self.formatParam(c.name, param[i]);\n                    }\n                });\n            };\n            modifyParams(coder, param);\n        }\n        return param;\n    });\n    return ethersAbiCoder.encode(types, params);\n};\n/**\n * Map types if simplified format is used\n *\n * @method mapTypes\n * @param {Array} types\n * @return {Array}\n */\nABICoder.prototype.mapTypes = function (types) {\n    var self = this;\n    var mappedTypes = [];\n    types.forEach(function (type) {\n        // Remap `function` type params to bytes24 since Ethers does not\n        // recognize former type. Solidity docs say `Function` is a bytes24\n        // encoding the contract address followed by the function selector hash.\n        if (typeof type === 'object' && type.type === 'function') {\n            type = Object.assign({}, type, { type: \"bytes24\" });\n        }\n        if (self.isSimplifiedStructFormat(type)) {\n            var structName = Object.keys(type)[0];\n            mappedTypes.push(Object.assign(self.mapStructNameAndType(structName), {\n                components: self.mapStructToCoderFormat(type[structName])\n            }));\n            return;\n        }\n        mappedTypes.push(type);\n    });\n    return mappedTypes;\n};\n/**\n * Check if type is simplified struct format\n *\n * @method isSimplifiedStructFormat\n * @param {string | Object} type\n * @returns {boolean}\n */\nABICoder.prototype.isSimplifiedStructFormat = function (type) {\n    return typeof type === 'object' && typeof type.components === 'undefined' && typeof type.name === 'undefined';\n};\n/**\n * Maps the correct tuple type and name when the simplified format in encode/decodeParameter is used\n *\n * @method mapStructNameAndType\n * @param {string} structName\n * @return {{type: string, name: *}}\n */\nABICoder.prototype.mapStructNameAndType = function (structName) {\n    var type = 'tuple';\n    if (structName.indexOf('[]') > -1) {\n        type = 'tuple[]';\n        structName = structName.slice(0, -2);\n    }\n    return { type: type, name: structName };\n};\n/**\n * Maps the simplified format in to the expected format of the ABICoder\n *\n * @method mapStructToCoderFormat\n * @param {Object} struct\n * @return {Array}\n */\nABICoder.prototype.mapStructToCoderFormat = function (struct) {\n    var self = this;\n    var components = [];\n    Object.keys(struct).forEach(function (key) {\n        if (typeof struct[key] === 'object') {\n            components.push(Object.assign(self.mapStructNameAndType(key), {\n                components: self.mapStructToCoderFormat(struct[key])\n            }));\n            return;\n        }\n        components.push({\n            name: key,\n            type: struct[key]\n        });\n    });\n    return components;\n};\n/**\n * Handle some formatting of params for backwards compatability with Ethers V4\n *\n * @method formatParam\n * @param {String} - type\n * @param {any} - param\n * @return {any} - The formatted param\n */\nABICoder.prototype.formatParam = function (type, param) {\n    const paramTypeBytes = new RegExp(/^bytes([0-9]*)$/);\n    const paramTypeBytesArray = new RegExp(/^bytes([0-9]*)\\[\\]$/);\n    const paramTypeNumber = new RegExp(/^(u?int)([0-9]*)$/);\n    const paramTypeNumberArray = new RegExp(/^(u?int)([0-9]*)\\[\\]$/);\n    // Format BN to string\n    if (utils.isBN(param) || utils.isBigNumber(param)) {\n        return param.toString(10);\n    }\n    if (type.match(paramTypeBytesArray) || type.match(paramTypeNumberArray)) {\n        return param.map(p => this.formatParam(type.replace('[]', ''), p));\n    }\n    // Format correct width for u?int[0-9]*\n    let match = type.match(paramTypeNumber);\n    if (match) {\n        let size = parseInt(match[2] || \"256\");\n        if (size / 8 < param.length) {\n            // pad to correct bit width\n            param = utils.leftPad(param, size);\n        }\n    }\n    // Format correct length for bytes[0-9]+\n    match = type.match(paramTypeBytes);\n    if (match) {\n        if (Buffer.isBuffer(param)) {\n            param = utils.toHex(param);\n        }\n        // format to correct length\n        let size = parseInt(match[1]);\n        if (size) {\n            let maxSize = size * 2;\n            if (param.substring(0, 2) === '0x') {\n                maxSize += 2;\n            }\n            if (param.length < maxSize) {\n                // pad to correct length\n                param = utils.rightPad(param, size * 2);\n            }\n        }\n        // format odd-length bytes to even-length\n        if (param.length % 2 === 1) {\n            param = '0x0' + param.substring(2);\n        }\n    }\n    return param;\n};\n/**\n * Encodes a function call from its json interface and parameters.\n *\n * @method encodeFunctionCall\n * @param {Array} jsonInterface\n * @param {Array} params\n * @return {String} The encoded ABI for this function call\n */\nABICoder.prototype.encodeFunctionCall = function (jsonInterface, params) {\n    return this.encodeFunctionSignature(jsonInterface) + this.encodeParameters(jsonInterface.inputs, params).replace('0x', '');\n};\n/**\n * Should be used to decode bytes to plain param\n *\n * @method decodeParameter\n * @param {String} type\n * @param {String} bytes\n * @return {Object} plain param\n */\nABICoder.prototype.decodeParameter = function (type, bytes) {\n    return this.decodeParameters([type], bytes)[0];\n};\n/**\n * Should be used to decode list of params\n *\n * @method decodeParameter\n * @param {Array} outputs\n * @param {String} bytes\n * @return {Array} array of plain params\n */\nABICoder.prototype.decodeParameters = function (outputs, bytes) {\n    return this.decodeParametersWith(outputs, bytes, false);\n};\n/**\n * Should be used to decode list of params\n *\n * @method decodeParameter\n * @param {Array} outputs\n * @param {String} bytes\n * @param {Boolean} loose\n * @return {Array} array of plain params\n */\nABICoder.prototype.decodeParametersWith = function (outputs, bytes, loose) {\n    if (outputs.length > 0 && (!bytes || bytes === '0x' || bytes === '0X')) {\n        throw new Error('Returned values aren\\'t valid, did it run Out of Gas? ' +\n            'You might also see this error if you are not using the ' +\n            'correct ABI for the contract you are retrieving data from, ' +\n            'requesting data from a block number that does not exist, ' +\n            'or querying a node which is not fully synced.');\n    }\n    var res = ethersAbiCoder.decode(this.mapTypes(outputs), '0x' + bytes.replace(/0x/i, ''), loose);\n    var returnValue = new Result();\n    returnValue.__length__ = 0;\n    outputs.forEach(function (output, i) {\n        var decodedValue = res[returnValue.__length__];\n        const isStringObject = typeof output === 'object' && output.type && output.type === 'string';\n        const isStringType = typeof output === 'string' && output === 'string';\n        // only convert `0x` to null if it's not string value\n        decodedValue = (decodedValue === '0x' && !isStringObject && !isStringType) ? null : decodedValue;\n        returnValue[i] = decodedValue;\n        if ((typeof output === 'function' || !!output && typeof output === 'object') && output.name) {\n            returnValue[output.name] = decodedValue;\n        }\n        returnValue.__length__++;\n    });\n    return returnValue;\n};\n/**\n * Decodes events non- and indexed parameters.\n *\n * @method decodeLog\n * @param {Object} inputs\n * @param {String} data\n * @param {Array} topics\n * @return {Array} array of plain params\n */\nABICoder.prototype.decodeLog = function (inputs, data, topics) {\n    var _this = this;\n    topics = Array.isArray(topics) ? topics : [topics];\n    data = data || '';\n    var notIndexedInputs = [];\n    var indexedParams = [];\n    var topicCount = 0;\n    // TODO check for anonymous logs?\n    inputs.forEach(function (input, i) {\n        if (input.indexed) {\n            indexedParams[i] = (['bool', 'int', 'uint', 'address', 'fixed', 'ufixed'].find(function (staticType) {\n                return input.type.indexOf(staticType) !== -1;\n            })) ? _this.decodeParameter(input.type, topics[topicCount]) : topics[topicCount];\n            topicCount++;\n        }\n        else {\n            notIndexedInputs[i] = input;\n        }\n    });\n    var nonIndexedData = data;\n    var notIndexedParams = (nonIndexedData) ? this.decodeParametersWith(notIndexedInputs, nonIndexedData, true) : [];\n    var returnValue = new Result();\n    returnValue.__length__ = 0;\n    inputs.forEach(function (res, i) {\n        returnValue[i] = (res.type === 'string') ? '' : null;\n        if (typeof notIndexedParams[i] !== 'undefined') {\n            returnValue[i] = notIndexedParams[i];\n        }\n        if (typeof indexedParams[i] !== 'undefined') {\n            returnValue[i] = indexedParams[i];\n        }\n        if (res.name) {\n            returnValue[res.name] = returnValue[i];\n        }\n        returnValue.__length__++;\n    });\n    return returnValue;\n};\nvar coder = new ABICoder();\nmodule.exports = coder;\n","import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport merge from 'lodash.merge';\nimport logLevel, { levels } from 'loglevel';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nconst log = logLevel.getLogger(\"http-helpers\");\nlog.setLevel(levels.INFO);\nlet apiKey = \"torus-default\";\nlet embedHost = \"\"; // #region API Keys\n\nconst gatewayAuthHeader = \"x-api-key\";\nconst gatewayEmbedHostHeader = \"x-embed-host\";\nfunction setEmbedHost(embedHost_) {\n  embedHost = embedHost_;\n}\nfunction clearEmbedHost() {\n  embedHost = \"\";\n}\nfunction getEmbedHost() {\n  return embedHost;\n}\nfunction setAPIKey(apiKey_) {\n  apiKey = apiKey_;\n}\nfunction clearAPIKey() {\n  apiKey = \"torus-default\";\n}\nfunction getAPIKey() {\n  return apiKey;\n} // #endregion\n\nfunction setLogLevel(level) {\n  log.setLevel(level);\n}\n\nfunction getApiKeyHeaders() {\n  const headers = {};\n  if (apiKey) headers[gatewayAuthHeader] = apiKey;\n  if (embedHost) headers[gatewayEmbedHostHeader] = embedHost;\n  return headers;\n}\n\nfunction debugLogResponse(response) {\n  log.info(\"Response: \".concat(response.status, \" \").concat(response.statusText));\n  log.info(\"Url: \".concat(response.url));\n}\n\nconst promiseTimeout = (ms, promise) => {\n  const timeout = new Promise((resolve, reject) => {\n    const id = setTimeout(() => {\n      clearTimeout(id);\n      reject(new Error(\"Timed out in \".concat(ms, \"ms\")));\n    }, ms);\n  });\n  return Promise.race([promise, timeout]);\n};\nconst get = async function (url) {\n  let options_ = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let customOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {}\n  };\n\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n\n  const options = merge(defaultOptions, options_, {\n    method: \"GET\"\n  });\n  const response = await fetch(url, options);\n\n  if (response.ok) {\n    return response.json();\n  }\n\n  debugLogResponse(response);\n  throw response;\n};\nconst post = function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  };\n\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n\n  const options = merge(defaultOptions, options_, {\n    method: \"POST\"\n  }); // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data; // If url encoded data, this must not be the content type\n\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n\n  return promiseTimeout(customOptions.timeout || 60000, fetch(url, options).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    debugLogResponse(response);\n    throw response;\n  }));\n};\nconst patch = async function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  }; // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n\n  const options = merge(defaultOptions, options_, {\n    method: \"PATCH\"\n  }); // deep merge changes the structure of form data and url encoded data ,\n  // so we should not deepmerge body data\n\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data; // If url encoded data, this must not be the content type\n\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n\n  const response = await fetch(url, options);\n\n  if (response.ok) {\n    return response.json();\n  }\n\n  debugLogResponse(response);\n  throw response;\n};\nconst remove = async function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let options_ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let customOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const defaultOptions = {\n    mode: \"cors\",\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\"\n    }\n  }; // for multipart request browser/client will add multipart content type\n  // along with multipart boundary , so for multipart request send\n  // content-type: undefined or send with multipart boundary if already known\n\n  if (customOptions.useAPIKey) {\n    defaultOptions.headers = _objectSpread(_objectSpread({}, defaultOptions.headers), getApiKeyHeaders());\n  }\n\n  const options = merge(defaultOptions, options_, {\n    method: \"DELETE\"\n  });\n\n  if (customOptions.isUrlEncodedData) {\n    // for multipart request browser/client will add multipart content type\n    // along with multipart boundary , so for multipart request send\n    // content-type: undefined or send with multipart boundary if already known\n    options.body = data; // If url encoded data, this must not be the content type\n\n    if (options.headers[\"Content-Type\"] === \"application/json; charset=utf-8\") delete options.headers[\"Content-Type\"];\n  } else {\n    options.body = JSON.stringify(data);\n  }\n\n  const response = await fetch(url, options);\n\n  if (response.ok) {\n    return response.json();\n  }\n\n  debugLogResponse(response);\n  throw response;\n};\nconst generateJsonRPCObject = (method, parameters) => ({\n  jsonrpc: \"2.0\",\n  method,\n  id: 10,\n  params: parameters\n});\nconst promiseRace = function (url, options) {\n  let timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60000;\n  return Promise.race([get(url, options), new Promise((resolve, reject) => {\n    setTimeout(() => {\n      reject(new Error(\"timed out\"));\n    }, timeout);\n  })]);\n};\n\nexport { clearAPIKey, clearEmbedHost, gatewayAuthHeader, gatewayEmbedHostHeader, generateJsonRPCObject, get, getAPIKey, getEmbedHost, patch, post, promiseRace, promiseTimeout, remove, setAPIKey, setEmbedHost, setLogLevel };\n//# sourceMappingURL=httpHelpers.esm.js.map\n",null,null,"import _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport Torus from '@toruslabs/torus-embed';\nimport { BaseAdapter, WALLET_ADAPTERS, ADAPTER_NAMESPACES, CHAIN_NAMESPACES, ADAPTER_CATEGORY, ADAPTER_STATUS, getChainConfig, log, ADAPTER_EVENTS, WalletInitializationError, Web3AuthError, WalletLoginError } from '@web3auth/base';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nclass TorusWalletAdapter extends BaseAdapter {\n  constructor() {\n    let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n\n    _defineProperty(this, \"name\", WALLET_ADAPTERS.TORUS_EVM);\n\n    _defineProperty(this, \"adapterNamespace\", ADAPTER_NAMESPACES.EIP155);\n\n    _defineProperty(this, \"currentChainNamespace\", CHAIN_NAMESPACES.EIP155);\n\n    _defineProperty(this, \"type\", ADAPTER_CATEGORY.EXTERNAL);\n\n    _defineProperty(this, \"status\", ADAPTER_STATUS.NOT_READY);\n\n    _defineProperty(this, \"torusInstance\", null);\n\n    _defineProperty(this, \"torusWalletOptions\", void 0);\n\n    _defineProperty(this, \"initParams\", void 0);\n\n    _defineProperty(this, \"loginSettings\", {});\n\n    _defineProperty(this, \"rehydrated\", false);\n\n    this.torusWalletOptions = params.adapterSettings || {};\n    this.initParams = params.initParams || {};\n    this.loginSettings = params.loginSettings || {};\n    this.chainConfig = params.chainConfig || null;\n  }\n\n  get provider() {\n    if (this.status === ADAPTER_STATUS.CONNECTED && this.torusInstance) {\n      return this.torusInstance.provider;\n    }\n\n    return null;\n  }\n\n  set provider(_) {\n    throw new Error(\"Not implemented\");\n  }\n\n  async init(options) {\n    super.checkInitializationRequirements(); // set chainConfig for mainnet by default if not set\n\n    let network;\n\n    if (!this.chainConfig) {\n      this.chainConfig = getChainConfig(CHAIN_NAMESPACES.EIP155, 1);\n      const {\n        blockExplorer,\n        displayName\n      } = this.chainConfig;\n      network = {\n        chainId: 1,\n        host: \"mainnet\",\n        blockExplorer,\n        networkName: displayName\n      };\n    } else {\n      const {\n        chainId,\n        blockExplorer,\n        displayName,\n        rpcTarget\n      } = this.chainConfig;\n      network = {\n        chainId: parseInt(chainId, 16),\n        host: rpcTarget,\n        blockExplorer,\n        networkName: displayName\n      };\n    }\n\n    this.torusInstance = new Torus(this.torusWalletOptions);\n    log.debug(\"initializing torus evm adapter init\");\n    await this.torusInstance.init(_objectSpread(_objectSpread({\n      showTorusButton: false\n    }, this.initParams), {}, {\n      network\n    }));\n    this.status = ADAPTER_STATUS.READY;\n    this.emit(ADAPTER_EVENTS.READY, WALLET_ADAPTERS.TORUS_EVM);\n\n    try {\n      log.debug(\"initializing torus evm adapter\");\n\n      if (options.autoConnect) {\n        this.rehydrated = true;\n        await this.connect();\n      }\n    } catch (error) {\n      log.error(\"Failed to connect with torus evm provider\", error);\n      this.emit(ADAPTER_EVENTS.ERRORED, error);\n    }\n  }\n\n  async connect() {\n    super.checkConnectionRequirements();\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    this.status = ADAPTER_STATUS.CONNECTING;\n    this.emit(ADAPTER_EVENTS.CONNECTING, {\n      adapter: WALLET_ADAPTERS.TORUS_EVM\n    });\n\n    try {\n      await this.torusInstance.login(this.loginSettings);\n      const {\n        chainId\n      } = this.torusInstance.provider;\n\n      if (chainId && parseInt(chainId) !== parseInt(this.chainConfig.chainId, 16)) {\n        const {\n          chainId: _chainId,\n          blockExplorer,\n          displayName,\n          rpcTarget,\n          ticker,\n          tickerName\n        } = this.chainConfig;\n        const network = {\n          chainId: _chainId,\n          host: rpcTarget,\n          blockExplorerUrl: blockExplorer,\n          networkName: displayName,\n          tickerName,\n          ticker,\n          logo: \"\"\n        }; // in some cases when user manually switches chain and relogin then adapter will not connect to initially passed\n        // chainConfig but will connect to the one that user switched to.\n        // So here trying to switch network to the one that was initially passed in chainConfig.\n\n        await this.torusInstance.setProvider(_objectSpread({}, network));\n        const updatedChainID = await this.torusInstance.ethereum.request({\n          method: \"eth_chainId\"\n        });\n\n        if (updatedChainID && parseInt(updatedChainID) !== parseInt(this.chainConfig.chainId, 16)) {\n          throw WalletInitializationError.fromCode(5000, \"Not connected to correct chainId. Expected: \".concat(this.chainConfig.chainId, \", Current: \").concat(updatedChainID));\n        }\n      }\n\n      this.status = ADAPTER_STATUS.CONNECTED;\n      this.torusInstance.showTorusButton();\n      this.emit(ADAPTER_STATUS.CONNECTED, {\n        adapter: WALLET_ADAPTERS.TORUS_EVM,\n        reconnected: this.rehydrated\n      });\n      return this.provider;\n    } catch (error) {\n      // ready again to be connected\n      this.status = ADAPTER_STATUS.READY;\n      this.rehydrated = false;\n      this.emit(ADAPTER_STATUS.ERRORED, error);\n      throw error instanceof Web3AuthError ? error : WalletLoginError.connectionError(\"Failed to login with torus wallet\");\n    }\n  }\n\n  async disconnect() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      cleanup: false\n    };\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    await this.torusInstance.logout();\n    this.torusInstance.hideTorusButton();\n\n    if (options.cleanup) {\n      this.status = ADAPTER_STATUS.NOT_READY;\n      this.torusInstance = null;\n    } else {\n      // ready to be connected again\n      this.status = ADAPTER_STATUS.READY;\n    }\n\n    this.rehydrated = false;\n    this.emit(ADAPTER_EVENTS.DISCONNECTED);\n  }\n\n  async getUserInfo() {\n    if (this.status !== ADAPTER_STATUS.CONNECTED) throw WalletLoginError.notConnectedError(\"Not connected with wallet\");\n    if (!this.torusInstance) throw WalletInitializationError.notReady(\"Torus wallet is not initialized\");\n    const userInfo = await this.torusInstance.getUserInfo(\"\");\n    return userInfo;\n  }\n\n  setAdapterSettings(_) {}\n\n}\n\nexport { TorusWalletAdapter };\n//# sourceMappingURL=torusEvmAdapter.esm.js.map\n"],"sourceRoot":""}